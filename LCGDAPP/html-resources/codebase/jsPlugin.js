(function(t,e){if("object"===typeof exports&&"object"===typeof module)module.exports=e();else if("function"===typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"===typeof exports?exports:t)[i]=n[i]}})(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSPlugin=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),o=n(2),a=n(14),s=n(15),u=n(16),l=n(17),f=c(l);function c(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=function(){if("undefined"!==typeof Symbol){var t=null,e=-1,n=0,l=0,c=1,d=40,p=4194304,y=1001,m=1002,v=1003,g=2001,S=2002,b=new o.StreamClient,w=null,_=null,P=Symbol("OPTIONS"),C=Symbol("CURRENTPLAYRATE"),x=Symbol("CURRENTSOUNDWND"),T=Symbol("MAXWNDNUM"),k=Symbol("MAXWNDNUM"),D=Symbol("DRAWCANVAS"),M=Symbol("SHAPEID"),R=Symbol("WINDOWFULL"),E=Symbol("SINGLEWINDOW"),I=Symbol("FILETMP"),z=Symbol("STATUSTMP"),A=Symbol("UPGRADESTATUSURL"),O=Symbol("CURWNDINDEX"),F=Symbol("CALLBACKFUNCTION"),B=function(){function o(e){h(this,o),t=this;var n={szId:"playWnd",iType:1,iWidth:400,iHeight:300,iMaxSplit:4,iCurrentSplit:2,szBasePath:"./"};this[P]=Object.assign(n,e);var i={border:"#343434",borderSelect:"#FFCC00",background:"#4C4B4B"};i=Object.assign(i,e.oStyle),this[P].oStyle=i,this[P].iCurrentSplit>this[P].iMaxSplit&&(this[P].iCurrentSplit=this[P].iMaxSplit),this[C]=1,this[x]=-1,this[T]=this[P].iMaxSplit*this[P].iMaxSplit,this[M]="",this[R]=!1,this[E]=null,this[I]=null,this[z]="",this[A]="",this[O]=-1,this[F]=null,w=new s.StorageManager(this[P].szBasePath+"/transform"),_=(0,f.default)("#"+t[P].szId),this[k]=[];for(var r=0;r<this[T];r++)this[k][r]={},this[k][r].bSelect=!1,this[k][r].bPlay=!1,this[k][r].bRecord=!1,this[k][r].bPause=!1,this[k][r].oPlayCtrl=null,this[k][r].szPlayType="",this[k][r].szStorageUUID="",this[k][r].szStreamUUID="",this[k][r].aHead=[],this[k][r].bLoad=!1,this[k][r].windowID="canvas"+r,this[k][r].drawID="canvas_draw"+r,this[k][r].iRate=1,this[k][r].bEZoom=!1,this[k][r].b3DZoom=!1,this[k][r].szSecretKey="",this[k][r].bFrameForward=!1,this[k][r].iDecodeType=l,this[k][r].bFirstFrame=!1;L(),N(),this[D]=new u.ESCanvas("canvas_draw0"),0===this[P].iType&&(0,f.default)("#"+t[P].szId).hide(),H(),t.EventCallback.windowEventSelect(0)}return i(o,[{key:"JS_ArrangeWindow",value:function(e){if(e<t[P].iMaxSplit?t[P].iCurrentSplit=e:t[P].iCurrentSplit=t[P].iMaxSplit,r.oTool.isFirefox())for(var n=0;n<t[P].iMaxSplit*t[P].iMaxSplit;n++)t[k][n].oPlayCtrl&&t[k][n].oPlayCtrl.PlayM4_ClearCanvas();j(),t.EventCallback.windowEventSelect(0)}},{key:"JS_SetSecretKey",value:function(t,e){return t<0||""===e||"undefined"===typeof e?-1:(this[k][t].szSecretKey=e,0)}},{key:"JS_Play",value:function(e,n,i,r,o){var s=new Promise((function(s,u){i<0||i>t[T]-1||t[k][i].bFrameForward?u():(t[k][i].bPlay&&t.JS_Stop(i),t[k][i].bFirstFrame=!1,t[k][i].iDecodeType=l,t[k][i].oPlayCtrl?U(e,n,i,r,o,s,u):t[k][i].oPlayCtrl=new a.JSPlayCtrl(t[P].szBasePath+"/playctrl/",(function(a){"loaded"!==a.cmd||t[k][i].bLoad?"OnebyOne"===a.cmd?a.status?t[k][i].bPause&&(b.resume(t[k][i].szStreamUUID),t[k][i].bPause=!1):t[k][i].bPause||(b.pause(t[k][i].szStreamUUID),t[k][i].bPause=!0):"GetFrameData"===a.cmd&&t.EventCallback.pluginErrorHandler(i,g):U(e,n,i,r,o,s,u)}),i))}));return s}},{key:"JS_Seek",value:function(e,n,i){var r=new Promise((function(r,o){e<0||e>t[T]-1?o():t[k][e].bPlay?b.seek(t[k][e].szStreamUUID,n,i).then((function(){r()}),(function(t){o(t)})):o()}));return r}},{key:"JS_GetSdkVersion",value:function(){return t[k][0].oPlayCtrl.PlayM4_GetSdkVersion()}},{key:"JS_DestroyWorker",value:function(){t[k].forEach((function(t){t.bPlay&&t.oPlayCtrl.PlayM4_CloseStream(),t.oPlayCtrl&&(t.oPlayCtrl.PlayM4_Destroy(),t.oPlayCtrl=null,t.bLoad=!1)}))}},{key:"JS_Stop",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():(t[k][e].szStorageUUID&&t.JS_StopSave(e),t[k][e].bEZoom&&t.JS_DisableZoom(e),t[x]===e&&(t[x]=-1),b.stop(t[k][e].szStreamUUID).then((function(){t[k][e].bPlay=!1,t[k][e].bFrameForward=!1,t[k][e].iRate=1,t[k][e].oPlayCtrl&&(t[k][e].oPlayCtrl.PlayM4_Stop(),t[k][e].oPlayCtrl.PlayM4_CloseStream()),setTimeout((function(){n()}),500)}),(function(){setTimeout((function(){i()}),500)})))}));return n}},{key:"JS_Pause",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay?t[k][e].bFrameForward?i():b.pause(t[k][e].szStreamUUID).then((function(){t[k][e].oPlayCtrl.PlayM4_Pause(!0),t[k][e].bPause=!0,n()}),(function(t){i(t)})):i()}));return n}},{key:"JS_Resume",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay?b.resume(t[k][e].szStreamUUID).then((function(){1!==t[C]&&(t[k][e].iRate=t[C],b.setPlayRate(t[k][e].szStreamUUID,t[k][e].iRate),t[k][e].oPlayCtrl.PlayM4_PlayRate(t[k][e].iRate),t[C]>1?t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(c):t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(l)),t[k][e].bFrameForward?(t[k][e].oPlayCtrl.PlayM4_Play(t[k][e].windowID),t[k][e].bFrameForward=!1):t[k][e].oPlayCtrl.PlayM4_Pause(!1),t[k][e].bPause=!1,n()}),(function(t){i(t)})):i()}));return n}},{key:"JS_Slow",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay&&"playback"===t[k][e].szPlayType&&-8!==t[k][e].iRate?t[k][e].bFrameForward?i():(t[k][e].iRate<0&&t[k][e].iRate>-8&&(t[k][e].iRate*=2),1===t[k][e].iRate&&(t[k][e].iRate*=-2),t[k][e].iRate>1&&(t[k][e].iRate/=2),b.setPlayRate(t[k][e].szStreamUUID,t[k][e].iRate).then((function(){t[k][e].iRate<2?t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(l):(t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(c),t[k][e].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)),t[k][e].oPlayCtrl.PlayM4_PlayRate(t[k][e].iRate),n()}),(function(t){i(t)}))):i()}));return n}},{key:"JS_Fast",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay&&"playback"===t[k][e].szPlayType?t[k][e].bFrameForward?i():8!==t[k][e].iRate?(-2===t[k][e].iRate?t[k][e].iRate=1:t[k][e].iRate<-2?t[k][e].iRate/=2:t[k][e].iRate>0&&t[k][e].iRate<8&&(t[k][e].iRate*=2),b.setPlayRate(t[k][e].szStreamUUID,t[k][e].iRate).then((function(){t[k][e].iRate<2?t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(l):(t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(c),8===t[k][e].iRate?t[k][e].oPlayCtrl.PlayM4_SetIFrameDecInterval(2):t[k][e].oPlayCtrl.PlayM4_SetIFrameDecInterval(0)),t[k][e].oPlayCtrl.PlayM4_PlayRate(t[k][e].iRate),n()}),(function(t){i(t)}))):i():i()}));return n}},{key:"JS_Transmission",value:function(e,n){var i=new Promise((function(i,r){e<0||e>t[T]-1?r():t[k][e].szStreamUUID?b.transmission(t[k][e].szStreamUUID,n).then((function(t){i(t)}),(function(t){r(t)})):r()}));return i}},{key:"JS_FrameForward",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay?(1!==t[k][e].iRate?(t[k][e].iRate=1,t[C]=t[k][e].iRate,b.setPlayRate(t[k][e].szStreamUUID,t[k][e].iRate).then((function(){t[k][e].oPlayCtrl.PlayM4_PlayRate(t[k][e].iRate),t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(l),t[k][e].oPlayCtrl.PlayM4_OneByOne(),t[k][e].bFrameForward=!0}),(function(t){i(t)}))):(t[k][e].oPlayCtrl.PlayM4_PlayRate(t[k][e].iRate),t[k][e].oPlayCtrl.PlayM4_SetDecodeFrameType(l),t[k][e].oPlayCtrl.PlayM4_OneByOne(),t[k][e].bFrameForward=!0),n()):i()}));return n}},{key:"JS_GetOSDTime",value:function(n){var i=new Promise((function(i,r){if(n<0||n>t[T]-1)r(e);else if(t[k][n].bPlay){var o=t[k][n].oPlayCtrl.PlayM4_GetOSDTime((function(t){var e=Date.parse(t.replace(/-/g," "))/1e3;i(e)}));0===o||r(e)}else r(e)}));return i}},{key:"JS_OpenSound",value:function(i){return i<0||i>t[T]-1?e:t[k][i].bPlay?t[x]===i?e:(-1!==t[x]&&t[k][t[x]].oPlayCtrl.PlayM4_StopSound(),0!==t[k][i].oPlayCtrl.PlayM4_PlaySound(i)?e:(t[x]=i,n)):e}},{key:"JS_GetVolume",value:function(e,n){t[k][e].oPlayCtrl.PlayM4_GetVolume((function(t){n(t)}))}},{key:"JS_SetVolume",value:function(i,r){return 0!==t[k][i].oPlayCtrl.PlayM4_SetVolume(r)?e:n}},{key:"JS_CloseSound",value:function(){var i=t[x];return i<0||i>t[T]-1?e:t[k][i].bPlay?0!==t[k][i].oPlayCtrl.PlayM4_StopSound()?e:(t[x]=-1,n):e}},{key:"JS_EnableZoom",value:function(i){return i<0||i>t[T]-1?e:t[k][i].bPlay?((0,f.default)(".draw-window").unbind(),this[D]=new u.ESCanvas("canvas_draw"+i),this[D].setShapeType("Rect"),this[D].setDrawStyle("#ff0000","",0),this[D].setDrawStatus(!0,(function(e){e.startPos&&e.endPos&&(e.startPos[0]>e.endPos[0]?t[k][i].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1):t[k][i].oPlayCtrl.PlayM4_SetDisplayRegion({left:e.startPos[0],top:e.startPos[1],right:e.endPos[0],bottom:e.endPos[1]},!0))})),t[k][i].bEZoom=!0,n):e}},{key:"JS_DisableZoom",value:function(i){return i<0||i>t[T]-1?e:t[k][i].bPlay?(this[D].setDrawStatus(!1),0!==this[k][i].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1)?e:(this[k][i].bEZoom=!1,n)):e}},{key:"JS_Enable3DZoom",value:function(i,r){return i<0||i>t[T]-1?e:t[k][i].bPlay?((0,f.default)(".draw-window").unbind(),this[F]=r,this[D]=new u.ESCanvas("canvas_draw"+i),this[D].setShapeType("Rect"),this[D].setDrawStyle("#ff0000","",0),this[D].setDrawStatus(!0,(function(t){r(t)})),t[k][i].b3DZoom=!0,n):e}},{key:"JS_Disable3DZoom",value:function(i){return i<0||i>t[T]-1?e:t[k][i].bPlay?(this[D].setDrawStatus(!1),this[k][i].b3DZoom=!1,n):e}},{key:"JS_CapturePictureData",value:function(e){var n=new Promise((function(n,i){e<0||e>t[T]-1?i():t[k][e].bPlay?t[k][e].oPlayCtrl.PlayM4_GetBMP((function(t){6===t?i(S):n(t)})):i()}));return n}},{key:"JS_CapturePicture",value:function(e,n,i){var o=new Promise((function(o,a){e<0||e>t[T]-1?a():t[k][e].bPlay?(i||(i="JPEG"),"BMP"===i?t[k][e].oPlayCtrl.PlayM4_GetBMP((function(t){6===t?a(S):(r.oTool.downloadFile(t,n+".BMP"),o())})):"JPEG"===i&&t[k][e].oPlayCtrl.PlayM4_GetJPEG((function(t){6===t?a(S):(r.oTool.downloadFile(t,n+".jpeg"),o())}))):a()}));return o}},{key:"JS_StopRealPlayAll",value:function(){b.stopAll(),t[k].forEach((function(e,n){e.bPlay&&(e.szStorageUUID&&t.JS_StopSave(n),e.bEZoom&&t.JS_DisableZoom(n),e.oPlayCtrl.PlayM4_Stop(),e.oPlayCtrl.PlayM4_CloseStream()),e.bPlay=!1})),t[x]=-1}},{key:"JS_StartSave",value:function(e,n){var i=new Promise((function(i,r){if(e<0||e>t[T]-1)r();else if(t[k][e].bPlay){n.indexOf(".mp4")<0&&(n+=".mp4");var o=t[k][e].aHead,a=0;"playback"===t[k][e].szPlayType&&(a=1),w.startRecord(n,o,2,a,{cbEventHandler:function(n){t.EventCallback.pluginErrorHandler(e,n)}}).then((function(n){t[k][e].szStorageUUID=n,i()}),(function(){r()}))}else r()}));return i}},{key:"JS_StopSave",value:function(e){var n=new Promise((function(n,i){t[k][e].szStorageUUID?w.stopRecord(t[k][e].szStorageUUID).then((function(){t[k][e].szStorageUUID="",n()}),(function(t){i(t)})):i()}));return n}},{key:"JS_GetLocalConfig",value:function(){return""}},{key:"JS_SetLocalConfig",value:function(){return!0}},{key:"JS_SetGridInfo",value:function(t){if(null===t||"undefined"===typeof t)return-1;var e="#ff0000";return t.style&&t.style.drawColor&&(e=t.style.drawColor),this[D].setDrawStyle(e),this[D].setShapesInfoByType("Grid",[{szGridMap:t.gridMap,iGridColNum:t.gridColNum,iGridRowNum:t.gridRowNum}]),0}},{key:"JS_GetGridInfo",value:function(){if(!this[D])return{};var t=this[D].getShapesInfoByType("Grid")[0];return t?{gridColNum:t.iGridColNum,gridRowNum:t.iGridRowNum,gridMap:t.szGridMap}:{iGridRowNum:18,iGridColNum:22,szGridMap:""}}},{key:"JS_SetDrawShapeInfo",value:function(t,e){if("undefined"===typeof t||""===t)return-1;this[D].setShapeType(t),e.style&&this[D].setDrawStyle(e.style.szDrawColor||"",e.style.szFillColor||"",e.style.iTranslucent||0),e.iMaxShapeSupport&&e.iMaxShapeSupport>0&&this[D].setMaxShapeSupport(e.iMaxShapeSupport),this[D].setCurrentShapeInfo({szId:e.id,szTips:e.tips,iMinClosed:3,iMaxPointNum:e.iMaxPointSupport,iPolygonType:1,szDrawColor:e.style.szDrawColor||"",szFillColor:e.style.szFillColor||"",iTranslucent:e.style.iTranslucent||0})}},{key:"JS_SetPolygonInfo",value:function(t){if("undefined"===typeof t||!t.length)return-1;var e=[];if(t.length>0)for(var n=0,i=t.length;n<i;n++){var r=t[n].aPoint;r.length>0&&e.push(t[n])}return e.length>0?(this[D].setShapesInfoByType("Polygon",e),0):-1}},{key:"JS_GetPolygonInfo",value:function(){for(var t=[],e=this[D].getShapesInfoByType("Polygon"),n=0,i=e.length;n<i;n++){var r=e[n],o={aPoint:r.aPoint,bClosed:r.bClosed,szTips:r.szTips,id:r.szId,szDrawColor:r.szDrawColor};t.push(o)}return t}},{key:"JS_SetLineInfo",value:function(t){if("undefined"===typeof t||!t.length)return-1;var e=[];if(t.length>0)for(var n=0,i=t.length;n<i;n++){var r=t[n].aPoint;r.length>0&&e.push(t[n])}return e.length>0?(this[D].setShapesInfoByType("Line",e),0):-1}},{key:"JS_GetLineInfo",value:function(){for(var t=[],e=this[D].getShapesInfoByType("Line"),n=0,i=e.length;n<i;n++){var r=e[n],o={iLineType:r.iLineType,aPoint:r.aPoint,szTips:r.szTips};t.push(o)}return t}},{key:"JS_SetRectInfo",value:function(t){if("undefined"===typeof t||!t.length)return-1;var e=[];if(t.length>0)for(var n=0,i=t.length;n<i;n++){var r=t[n].aPoint;r.length>0&&e.push(t[n])}return e.length>0?(this[D].setShapesInfoByType("Rect",e),0):-1}},{key:"JS_GetRectInfo",value:function(){for(var t=[],e=this[D].getShapesInfoByType("Rect"),n=0,i=e.length;n<i;n++){var r=e[n],o={aPoint:r.aPoint,szTips:r.szTips};t.push(o)}return t}},{key:"JS_SetRegionInfo",value:function(e){var n=this;this[D].clearAllShape();var i=r.oTool.parseXmlFromStr(e);if(this[D].setDrawStyle("#ff0000","#343434",.3),(0,f.default)(i).find("DetectionRegionInfo").length>0)(function(){n[D].setShapeType("Rect");var e=parseInt((0,f.default)(i).find("MaxRegionNum").eq(0).text(),10);n[D].setMaxShapeSupport(e),n[D].m_szDisplayMode=(0,f.default)(i).find("DisplayMode").eq(0).text(),n[D].m_szVideoFormat=(0,f.default)(i).find("videoFormat").eq(0).text(),n[D].m_iHorizontalResolution=parseInt((0,f.default)(i).find("HorizontalResolution").eq(0).text(),10),n[D].m_iVerticalResolution=parseInt((0,f.default)(i).find("VerticalResolution").eq(0).text(),10);var r=[];(0,f.default)(i).find("DetectionRegion").each((function(){for(var e=[],n=0,i=(0,f.default)(this).find("positionX").length;n<i;n++){var o=Math.round((0,f.default)(this).find("positionX").eq(n).text())*t[D].m_iCanvasWidth/t[D].m_iHorizontalResolution,a=(t[D].m_iVerticalResolution-Math.round((0,f.default)(this).find("positionY").eq(n).text()))*t[D].m_iCanvasHeight/t[D].m_iVerticalResolution;e.push([o,a])}e.length>0&&(0!==e[0][0]||0!==e[1][0]||0!==e[2][0]||0!==e[3][0])&&r.push({aPoint:e,iEditType:"transparent"===t[D].m_szDisplayMode?1:0})})),n[D].setShapesInfoByType("Rect",r)})();else if((0,f.default)(i).find("MoveDetection").length>0){this[D].setShapeType("Grid");var o=parseInt((0,f.default)(i).find("columnGranularity").eq(0).text(),10),a=parseInt((0,f.default)(i).find("rowGranularity").eq(0).text(),10),s=(0,f.default)(i).find("gridMap").eq(0).text();this[D].setShapesInfoByType("Grid",[{szGridMap:s,iGridColNum:o,iGridRowNum:a}])}return 0}},{key:"JS_GetRegionInfo",value:function(){if(!this[D])return"";var t=this[D].getShapeType(),e='<?xml version="1.0" encoding="utf-8"?>';if("Rect"===t){e+="<DetectionRegionInfo>",e+="<videoFormat>"+this[D].m_szVideoFormat+"</videoFormat><RegionType>roi</RegionType>",e+="<ROI><HorizontalResolution>"+this[D].m_iHorizontalResolution+"</HorizontalResolution><VerticalResolution>"+this[D].m_iVerticalResolution+"</VerticalResolution></ROI>",e+="<DisplayMode>"+this[D].m_szDisplayMode+"</DisplayMode><MaxRegionNum>"+this[D].getMaxShapeSupport()+"</MaxRegionNum>",e+="<DetectionRegionList>";for(var n=this[D].getShapesInfoByType("Rect"),i=0,r=n.length;i<r;i++){var o=n[i].aPoint;e+="<DetectionRegion><RegionCoordinatesList>",e+="<RegionCoordinates><positionX>"+Math.round(o[3][0]*this[D].m_iHorizontalResolution/this[D].m_iCanvasWidth)+"</positionX><positionY>"+(this[D].m_iVerticalResolution-Math.round(o[3][1]*this[D].m_iVerticalResolution/this[D].m_iCanvasHeight))+"</positionY></RegionCoordinates>",e+="<RegionCoordinates><positionX>"+Math.round(o[2][0]*this[D].m_iHorizontalResolution/this[D].m_iCanvasWidth)+"</positionX><positionY>"+(this[D].m_iVerticalResolution-Math.round(o[2][1]*this[D].m_iVerticalResolution/this[D].m_iCanvasHeight))+"</positionY></RegionCoordinates>",e+="<RegionCoordinates><positionX>"+Math.round(o[1][0]*this[D].m_iHorizontalResolution/this[D].m_iCanvasWidth)+"</positionX><positionY>"+(this[D].m_iVerticalResolution-Math.round(o[1][1]*this[D].m_iVerticalResolution/this[D].m_iCanvasHeight))+"</positionY></RegionCoordinates>",e+="<RegionCoordinates><positionX>"+Math.round(o[0][0]*this[D].m_iHorizontalResolution/this[D].m_iCanvasWidth)+"</positionX><positionY>"+(this[D].m_iVerticalResolution-Math.round(o[0][1]*this[D].m_iVerticalResolution/this[D].m_iCanvasHeight))+"</positionY></RegionCoordinates>",e+="</RegionCoordinatesList></DetectionRegion>"}e+="</DetectionRegionList>",e+="</DetectionRegionInfo>"}else if("Grid"===t){var a=this[D].getShapesInfoByType("Grid")[0];a||(a={iGridRowNum:18,iGridColNum:22,szGridMap:""}),e+="<MoveDetection><videoFormat>PAL</videoFormat><RegionType>grid</RegionType>",e+="<Grid><rowGranularity>"+a.iGridRowNum+"</rowGranularity><columnGranularity>"+a.iGridColNum+"</columnGranularity></Grid>",e+="<DisplayMode>transparent</DisplayMode>",e+="<gridMap>"+a.szGridMap+"</gridMap></MoveDetection>"}return e}},{key:"JS_SetDrawStatus",value:function(t){return this[D]?(this[D].setDrawStatus(t),0):-1}},{key:"JS_ClearRegion",value:function(){return this[D]?(this[D].clearAllShape(),0):-1}},{key:"JS_GetTextOverlay",value:function(){if(!this[D])return"";var t='<?xml version="1.0" encoding="utf-8"?>';t+="<OSD>",t+="<videoResolutionWidth>"+this[D].m_iHorizontalResolution+"</videoResolutionWidth>",t+="<videoResolutionHeight>"+this[D].m_iVerticalResolution+"</videoResolutionHeight>";for(var e="",n="",i="",r=this[D].getShapesInfoByType("RectOSD"),o=0,a=r.length;o<a;o++){var s=r[o],u=Math.round(s.iPositionX*this[D].m_iHorizontalResolution/this[D].m_iCanvasWidth),l=Math.round(s.iPositionY*this[D].m_iVerticalResolution/this[D].m_iCanvasHeight);"overlay-date"===s.szOSDType?(e+="<DateTimeOverlay><Type>"+s.szDateStyle+"</Type>",e+="<clockType>"+s.szClockType+"</clockType>",e+="<displayWeek>"+s.szDisplayWeek+"</displayWeek>",e+="<enabled>"+s.szEnabled+"</enabled>",e+="<positionX>"+u+"</positionX><positionY>"+l+"</positionY></DateTimeOverlay>"):"overlay-ch"===s.szOSDType?(n+="<channelNameOverlay><enabled>"+s.szEnabled+"</enabled>",n+="<ChannelName>"+s.szText+"</ChannelName>",n+="<positionX>"+u+"</positionX><positionY>"+l+"</positionY></channelNameOverlay>"):"overlay-text"===s.szOSDType&&(i+="<TextOverlay><id>"+s.szId+"</id><enabled>"+s.szEnabled+"</enabled>",i+="<displayText>"+s.szText+"</displayText>",i+="<positionX>"+u+"</positionX><positionY>"+l+"</positionY></TextOverlay>")}return t+=e,t+=n,t+="<TextOverlayList>",t+=i,t+="</TextOverlayList>",t+="</OSD>",t}},{key:"JS_SetTextOverlay",value:function(e){this[D].setMaxShapeSupport(20);var n=r.oTool.parseXmlFromStr(e);if(this[D].clearShapeByType("RectOSD"),(0,f.default)(n).find("OSD").length>0){if(this[D].setDrawStyle("#ff0000","#343434",.7),this[D].m_iHorizontalResolution=parseInt((0,f.default)(n).find("videoResolutionWidth").eq(0).text(),10),this[D].m_iVerticalResolution=parseInt((0,f.default)(n).find("videoResolutionHeight").eq(0).text(),10),(0,f.default)(n).find("channelNameOverlay").length>0){var i=(0,f.default)(n).find("channelNameOverlay").eq(0),o=(0,f.default)(i).find("ChannelName").eq(0).text(),a=(0,f.default)(i).find("enabled").eq(0).text(),s=Math.round((0,f.default)(i).find("positionX").eq(0).text())*this[D].m_iCanvasWidth/this[D].m_iHorizontalResolution,u=Math.round((0,f.default)(i).find("positionY").eq(0).text())*this[D].m_iCanvasHeight/this[D].m_iVerticalResolution;this[D].addOSDShape(o,a,s,u,{szOSDType:"overlay-ch"})}if((0,f.default)(n).find("DateTimeOverlay").length>0){var l=(0,f.default)(n).find("DateTimeOverlay").eq(0),c=(0,f.default)(l).find("enabled").eq(0).text(),h=(0,f.default)(l).find("Type").eq(0).text()||(0,f.default)(l).find("type").eq(0).text(),d=(0,f.default)(l).find("displayWeek").eq(0).text(),p=(0,f.default)(l).find("clockType").eq(0).text(),y="",m="",v=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=new Date;switch("true"===d&&(m=v[g.getDay()]),p="24hour"===p?"":"AM/PM",h){case"0":y="YYYY-MM-DD "+m+" hh:mm:ss "+p;break;case"1":y="MM-DD-YYYY "+m+" hh:mm:ss "+p;break;case"2":y="CHR-YYYY-MM-DD "+m+" hh:mm:ss "+p;break;case"3":y="CHR-MM-DD-YYYY "+m+" hh:mm:ss "+p;break;case"4":y="DD-MM-YYYY "+m+" hh:mm:ss "+p;break;case"5":y="CHR-DD-MM-YYYY "+m+" hh:mm:ss "+p;break;default:break}var S=Math.round((0,f.default)(l).find("positionX").eq(0).text())*this[D].m_iCanvasWidth/this[D].m_iHorizontalResolution,b=Math.round((0,f.default)(l).find("positionY").eq(0).text())*this[D].m_iCanvasHeight/this[D].m_iVerticalResolution;this[D].addOSDShape(y,c,S,b,{szOSDType:"overlay-date",szDateStyle:h,szDisplayWeek:d,szClockType:p})}(0,f.default)(n).find("TextOverlayList").length>0&&(0,f.default)(n).find("TextOverlayList").eq(0).find("TextOverlay").each((function(){var e=(0,f.default)(this).find("displayText").eq(0).text(),n=(0,f.default)(this).find("enabled").eq(0).text(),i=(0,f.default)(this).find("id").eq(0).text(),r=Math.round((0,f.default)(this).find("positionX").eq(0).text())*t[D].m_iCanvasWidth/t[D].m_iHorizontalResolution,o=Math.round((0,f.default)(this).find("positionY").eq(0).text())*t[D].m_iCanvasHeight/t[D].m_iVerticalResolution;t[D].addOSDShape(e,n,r,o,{szOSDType:"overlay-text",szId:i})}))}return 0}},{key:"JS_ClearSnapInfo",value:function(t){return this[D]?(0===t?this[D].clearShapeByType("Rect"):1===t?this[D].clearShapeByType("Polygon"):2===t?this[D].clearShapeByType("Line"):3===t?(this[D].clearShapeByType("Rect"),this[D].clearShapeByType("Polygon")):this[D].clearAllShape(),0):-1}},{key:"JS_ClearTargetPolygon",value:function(t){var e=r.oTool.parseXmlFromStr(t),n=this[D].getAllShapesInfo(),i=n.length;if(i>0)for(var o=0;o<i;o++){var a=(0,f.default)(e).find("id").eq(0).text();if("Polygon"===n[o].szType&&n[o].szId===a){this[D].deleteShape(o);break}}}},{key:"JS_SetSnapPolygonInfo",value:function(e){this[D].setShapeType("Polygon"),this[D].setMaxShapeSupport(20),this[D].setDrawStyle("#FFFF00","#FFFF00",.1);var n=r.oTool.parseXmlFromStr(e),i=this[D].getAllShapesInfo(),o=i.length;if(o>0)for(var a=0;a<o;a++){var s=(0,f.default)(n).find("id").eq(0).text();if("Polygon"===i[a].szType&&i[a].szId===s){this[D].deleteShape(a);break}}var u=[];return(0,f.default)(n).find("SnapPolygonList").length>0&&(0,f.default)(n).find("SnapPolygonList").eq(0).find("SnapPolygon").each((function(){var e=(0,f.default)(n).find("id").eq(0).text(),i=parseInt((0,f.default)(n).find("polygonType").eq(0).text()||"1",10),r=(0,f.default)(n).find("Tips").eq(0).text()||(0,f.default)(n).find("tips").eq(0).text(),o=parseInt((0,f.default)(n).find("MinClosed").eq(0).text(),10),a=parseInt((0,f.default)(n).find("PointNumMax").eq(0).text(),10),s=parseInt((0,f.default)(n).find("EditType").eq(0).text(),10)||0,l="true"===(0,f.default)(n).find("isClosed").eq(0).text(),c="rgb("+(0,f.default)(n).find("r").eq(0).text()+", "+(0,f.default)(n).find("g").eq(0).text()+", "+(0,f.default)(n).find("b").eq(0).text()+")",h=c,d=.1,p=[];(0,f.default)(n).find("pointList").eq(0).find("point").each((function(e){p[e]=[],p[e][0]=Math.round((0,f.default)(this).find("x").eq(0).text()*t[D].m_iCanvasWidth),p[e][1]=Math.round((0,f.default)(this).find("y").eq(0).text()*t[D].m_iCanvasHeight)})),p.length>0?(u.push({szId:e,iPolygonType:i,iMinClosed:o,iMaxPointNum:a,iEditType:s,aPoint:p,bClosed:l,szTips:r,szDrawColor:c,szFillColor:h,iTranslucent:d}),t[D].setDrawStatus(!1)):(t[D].setCurrentShapeInfo({szId:e,szTips:r,iMinClosed:o,iMaxPointNum:a,iPolygonType:i,szDrawColor:c,szFillColor:h,iTranslucent:d}),t[D].setDrawStatus(!0))})),u.length>0&&this[D].setShapesInfoByType("Polygon",u),0}},{key:"JS_GetSnapPolygonInfo",value:function(){for(var t="<?xml version='1.0' encoding='utf-8'?><SnapPolygonList>",e=this[D].getShapesInfoByType("Polygon"),n=0,i=e.length;n<i;n++){var r=e[n];t+="<SnapPolygon>",t+="<id>"+r.szId+"</id>",t+="<polygonType>"+r.iPolygonType+"</polygonType>",t+="<color>";var o=r.szDrawColor.substring(4,r.szDrawColor.length-1).split(",");t+="<r>"+o[0]+"</r>",t+="<g>"+o[1]+"</g>",t+="<b>"+o[2]+"</b>",t+="</color>",t+="<tips>"+r.szTips+"</tips>",t+="<isClosed>"+r.bClosed+"</isClosed>";var a=r.aPoint;t+="<pointList>";for(var s=0,u=a.length;s<u;s++)t+="<point><x>"+(a[s][0]/this[D].m_iCanvasWidth).toFixed(6)+"</x><y>"+(a[s][1]/this[D].m_iCanvasHeight).toFixed(6)+"</y></point>";t+="</pointList>",t+="</SnapPolygon>"}return t+="</SnapPolygonList>",t}},{key:"JS_SetSnapDrawMode",value:function(){return this[D]?(this[D].setDrawMutiShapeOneTime(!1),0):-1}},{key:"JS_SetSnapLineInfo",value:function(e){this[D].setShapeType("Line"),this[D].setMaxShapeSupport(20),this[D].setDrawStyle("#FFFF00","#FFFF00",.1);var n=r.oTool.parseXmlFromStr(e),i=this[D].getAllShapesInfo(),o=i.length;if(o>0)for(var a=0;a<o;a++){var s=(0,f.default)(n).find("id").eq(0).text();if("Line"===i[a].szType&&i[a].szId===s){this[D].deleteShape(a);break}}var u=[];return(0,f.default)(n).find("SnapLineList").length>0&&(0,f.default)(n).find("SnapLineList").eq(0).find("SnapLine").each((function(){var e=(0,f.default)(n).find("id").eq(0).text(),i=parseInt((0,f.default)(n).find("LineTypeEx").eq(0).text(),10),r=parseInt((0,f.default)(n).find("CustomType").text(),10)||parseInt((0,f.default)(n).find("LineType").text(),10),o=parseInt((0,f.default)(n).find("ArrowType").text(),10)||0,a=(0,f.default)(n).find("Tips").eq(0).text()||(0,f.default)(n).find("tips").eq(0).text(),s="rgb("+(0,f.default)(n).find("r").eq(0).text()+", "+(0,f.default)(n).find("g").eq(0).text()+", "+(0,f.default)(n).find("b").eq(0).text()+")",l=[];l[0]=[],l[1]=[],l[0][0]=Math.round((0,f.default)(n).find("StartPos").eq(0).find("x").eq(0).text()*t[D].m_iCanvasWidth),l[0][1]=Math.round((0,f.default)(n).find("StartPos").eq(0).find("y").eq(0).text()*t[D].m_iCanvasHeight),l[1][0]=Math.round((0,f.default)(n).find("EndPos").eq(0).find("x").eq(0).text()*t[D].m_iCanvasWidth),l[1][1]=Math.round((0,f.default)(n).find("EndPos").eq(0).find("y").eq(0).text()*t[D].m_iCanvasHeight),l.length>0&&(u.push({szId:e,iLineType:i,aPoint:l,szTips:a,iDirection:r,iArrowType:o,szDrawColor:s}),t[D].setDrawStatus(!1))})),u.length>0&&this[D].setShapesInfoByType("Line",u),0}},{key:"JS_GetSnapLineInfo",value:function(){for(var e="<?xml version='1.0' encoding='utf-8'?><SnapLineList>",n=this[D].getShapesInfoByType("Line"),i=0,r=n.length;i<r;i++){e+="<SnapLine>",e+="<id>"+n[i].szId+"</id>",e+="<LineTypeEx>"+n[i].iLineType+"</LineTypeEx>",e+="<CustomType>0</CustomType><MoveChange>0</MoveChange><ArrowType>"+n[i].iArrowType+"</ArrowType>",e+="<tips>"+n[i].szTips+"</tips>";var o=n[i].aPoint;e+="<StartPos><x>"+(o[0][0]/t[D].m_iCanvasWidth).toFixed(6)+"</x><y>"+(o[0][1]/t[D].m_iCanvasHeight).toFixed(6)+"</y></StartPos>",e+="<EndPos><x>"+(o[1][0]/t[D].m_iCanvasWidth).toFixed(6)+"</x><y>"+(o[1][1]/t[D].m_iCanvasHeight).toFixed(6)+"</y></EndPos>",e+="<LineSelected>false</LineSelected>",n[i].aCrossArrowPoint.length>0&&(e+="<PDCArrow><Sp_x>"+(n[i].aCrossArrowPoint[0][0]/t[D].m_iCanvasWidth).toFixed(6)+"</Sp_x>",e+="<Sp_y>"+(n[i].aCrossArrowPoint[0][1]/t[D].m_iCanvasWidth).toFixed(6)+"</Sp_y>",e+="<Ep_x>"+(n[i].aCrossArrowPoint[1][0]/t[D].m_iCanvasWidth).toFixed(6)+"</Ep_x>",e+="<Ep_y>"+(n[i].aCrossArrowPoint[1][1]/t[D].m_iCanvasWidth).toFixed(6)+"</Ep_y></PDCArrow>"),e+="<PDCShowMark>false</PDCShowMark>";var a=n[i].szDrawColor.split(",")[0].split("(")[1],s=n[i].szDrawColor.split(",")[1],u=n[i].szDrawColor.split(",")[2].split(")")[0];e+="<color><r>"+(a||"255")+"</r><g>"+(s||"255")+"</g><b>"+(u||"0")+"</b></color>",e+="</SnapLine>"}return e+="</SnapLineList>",e}},{key:"JS_FullScreenDisplay",value:function(e){if(e){this[R]=e;var n=(0,f.default)("#"+t[P].szId).get(0);n.requestFullScreen?n.requestFullScreen():n.webkitRequestFullScreen?n.webkitRequestFullScreen():n.mozRequestFullScreen&&n.mozRequestFullScreen()}}},{key:"JS_FullScreenSingle",value:function(e){if(t[k][e].bPlay){var n=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||!1,i=_.find(".parent-wnd").eq(0).children().eq(e).children().eq(0).get(0);if(n){if(_.find(".parent-wnd").eq(0).width()===(0,f.default)(window).width())return;document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()}else i.requestFullScreen?i.requestFullScreen():i.webkitRequestFullScreen?i.webkitRequestFullScreen():i.mozRequestFullScreen&&i.mozRequestFullScreen(),t[E]=_.find(".parent-wnd").eq(0).children().eq(e).children().eq(0)}}},{key:"JS_StartDownload",value:function(t,e,n,i){var o=(0,f.default)(r.oTool.parseXmlFromStr(i)).find("playbackURI").eq(0).text(),a=t+"?playbackURI="+o,s=".mp4";t.indexOf("picture/Streaming/tracks")>0&&(a=t,s=".jpg");var u=a.indexOf("&name=")+6,l=a.indexOf("&size=");return n=a.substring(u,l),(0,f.default)("body").append('<a id="jsplugin_download_a" href="'+a+'" download='+n+s+'><li id="jsplugin_download_li"></li></a>'),(0,f.default)("#jsplugin_download_li").trigger("click"),(0,f.default)("#jsplugin_download_a").remove(),0}},{key:"JS_Resize",value:function(e,n){try{_=(0,f.default)("#"+t[P].szId),n.indexOf("%")>0&&(n=_.height()*n.replace("%","")/100),e.indexOf("%")>0&&(e=_.width()*e.replace("%","")/100)}catch(o){}if(this[R]?(e=(0,f.default)(window).width(),n=(0,f.default)(window).height(),(0,f.default)("#"+this[P].szId).css({width:e,height:n}),this[R]=!1):(0,f.default)("#"+this[P].szId).css({width:e,height:n}),this[P].iWidth=e,this[P].iHeight=n,r.oTool.isFirefox())for(var i=0;i<t[P].iMaxSplit*t[P].iMaxSplit;i++)t[k][i].oPlayCtrl&&t[k][i].oPlayCtrl.PlayM4_ClearCanvas();j(),t[E]&&(e=(0,f.default)(window).width(),n=(0,f.default)(window).height(),t[E].css({width:e,height:n}),t[E].find("canvas").attr("width",e-2),t[E].find("canvas").attr("height",n-2),t[E]=null),this[D].resizeCanvas(),this[D].canvasRedraw()}},{key:"JS_WndCreate",value:function(e,n,i){N(n,i),this[D].updateCanvas("canvas_draw0"),this[D].clearAllShape(),0===e?(0,f.default)("#"+this[P].szId).hide():(0,f.default)("#"+this[P].szId).show(),t.EventCallback.windowEventSelect(0)}},{key:"JS_ExportDeviceConfig",value:function(t){return(0,f.default)("body").append('<a id="jsplugin_download_a" href="'+t+'"><li id="jsplugin_download_li"></li></a>'),(0,f.default)("#jsplugin_download_li").trigger("click"),(0,f.default)("#jsplugin_download_a").remove(),0}},{key:"JS_OpenFileBrowser",value:function(e,n){var i=f.default.Deferred();t[I]=null;var r="",o=window.document.createElement("input");o.type="file","bmp"===n.toLowerCase()&&(o.accept="image/bmp"),0===e&&o.setAttribute("webkitdirectory",""),o.addEventListener("change",(function(){1===e?(t[I]=o.files[0],r=o.files[0].name):0===e&&(t[I]=o.files),i.resolve(r)}));var a=document.createEvent("MouseEvents");return a.initEvent("click",!0,!0),o.dispatchEvent(a),i}},{key:"JS_UploadFile",value:function(e,n,i,r){var o=0,a=new XMLHttpRequest;return a.onreadystatechange=function(){4===a.readyState&&200!==a.status&&(o=-1)},a.open("put",e,!1),a.setRequestHeader("Content-Type",r),a.send(t[I]),o}},{key:"JS_StartAsynUpload",value:function(e){var n=new XMLHttpRequest;return n.onreadystatechange=function(){4===n.readyState&&(t[z]=n.responseText)},n.open("put",e,!0),n.send(t[I]),0}},{key:"JS_StopAsynUpload",value:function(){t[I]=null,t[z]=""}},{key:"JS_GetUploadErrorInfo",value:function(){return"string"===typeof t[z]&&t[z].length>0?t[z]:""}},{key:"JS_StartUpgradeEx",value:function(n,i){var o=new Promise((function(o,a){if(!n)return a(),e;if(!i)return a(),e;t[z]=0;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t[z]=100,o();else{t[z]=1;var e=r.oTool.parseXmlFromStr(s.responseText);"lowPrivilege"===(0,f.default)(e).find("subStatusCode").text()?a(403):a()}},s.open("put",n,!0),s.send(t[I]),t[A]=i,setTimeout((function(){o()}),3e3)}));return o}},{key:"JS_UpgradeStatus",value:function(){return 100===t[z]?0:t[z]}},{key:"JS_UpgradeProgress",value:function(){var e=0,n=new XMLHttpRequest;return n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(e=parseInt((0,f.default)(r.oTool.parseXmlFromStr(n.responseText)).find("percent").text(),10))},n.open("get",t[A],!1),n.send(null),100===t[z]?100:e}},{key:"JS_StopUpgrade",value:function(){return t[I]=null,0}},{key:"JS_ExportDeviceLog",value:function(t,e){e="Log.txt";var n=[],i=[];n=n.concat((0,f.default)(t).find("searchMatchItem").toArray());for(var r=0;r<n.length;r++)i[r]=[],i[r][0]=(0,f.default)(n[r]).find("logtime").text().replace("T"," ").replace("Z",""),i[r][1]=(0,f.default)(n[r]).find("majortype").text(),i[r][2]=(0,f.default)(n[r]).find("minortype").text(),i[r][3]=(0,f.default)(n[r]).find("channelid").text(),i[r][4]=(0,f.default)(n[r]).find("userName").text(),i[r][5]=(0,f.default)(n[r]).find("remoteaddress").text();var o=[];function a(t){o.push(t);var e=t.slice("");if(/^[\u4e00-\u9fa5]/.test(t))for(var n=0;n<30-2*e.length;n++)o.push(" ");else for(var i=0;i<30-e.length;i++)o.push(" ")}a(" "),a((0,f.default)(t).find("laLogTime").text()),a((0,f.default)(t).find("laLogMajorType").text()),a((0,f.default)(t).find("laLogMinorType").text()),a((0,f.default)(t).find("laLogChannel").text()),a((0,f.default)(t).find("laLogRemoteUser").text()),a((0,f.default)(t).find("laLogRemoteIP").text()),o.push("\r\n");for(var s=0;s<i.length;s++){var u=(s+1).toString();a(u);for(var l=0;l<6;l++)a(i[s][l]);o.push("\r\n")}o=o.join("");var c=new Blob([o],{type:"text/plain"}),h=(window.URL||window.webkitURL).createObjectURL(c),d=window.document.createElement("a");d.href=h,d.download=e;var p=document.createEvent("MouseEvents");p.initEvent("click",!0,!0),d.dispatchEvent(p)}},{key:"JS_GetWndContainer",value:function(t){return t<0||"undefined"===typeof t||null===t?-1:_.find(".parent-wnd").eq(0).children().eq(t)[0]}},{key:"JS_GetWndStatus",value:function(t){if(t<0||"undefined"===typeof t||null===t)return-1;var e={bPlay:this[k][t].bPlay,bSound:this[x]===t,bSelect:this[k][t].bSelect,iRate:this[k][t].iRate};return e}},{key:"JS_SelectWnd",value:function(t){_.find(".parent-wnd").eq(0).children().eq(t).mousedown()}}]),o}();return B}function L(){document.addEventListener("visibilitychange",(function(){if(document.hidden)for(var e=0;e<16;e++)t[k][e]&&t[k][e].bLoad&&t[k][e].oPlayCtrl.PlayM4_IsVisible(!1);else for(var n=0;n<16;n++)t[k][n]&&t[k][n].bLoad&&t[k][n].oPlayCtrl.PlayM4_IsVisible(!0)}),!1)}function N(e,n){e&&n&&(t[P].iWidth=e,t[P].iHeight=n),_=(0,f.default)("#"+t[P].szId),e=t[P].iWidth,n=t[P].iHeight;try{t[P].iHeight.indexOf("%")>0&&(n=_.height()*t[P].iHeight.replace("%","")/100),t[P].iWidth.indexOf("%")>0&&(e=_.width()*t[P].iWidth.replace("%","")/100)}catch(y){}for(var i=e%t[P].iCurrentSplit,r=n%t[P].iCurrentSplit,o=(e-i-2*t[P].iCurrentSplit)/t[P].iCurrentSplit,a=(n-r-2*t[P].iCurrentSplit)/t[P].iCurrentSplit,s=(e-i)/t[P].iCurrentSplit,u=(n-r)/t[P].iCurrentSplit,l=t[P].iCurrentSplit,c='<div class="parent-wnd" style="overflow:hidden;width:100%; height:100%; position: relative;">',h=0;h<t[T];h++){e=o+(h%l===l-1?i:0),n=a+(h+l>=Math.pow(l,2)?r:0);var d=s+(h%l===l-1?i:0),p=u+(h+l>=Math.pow(l,2)?r:0);c+='<div style="float:left; background-color: '+t[P].oStyle.background+"; position: relative; width: "+d+"px; height: "+p+'px;"><canvas id="canvas'+h+'" class="play-window" style="border:1px solid '+t[P].oStyle.border+';" wid="'+h+'" width="'+e+'" height="'+n+'"></canvas><canvas id="canvas_draw'+h+'"  class="draw-window" style="position:absolute; top:0; left:0;" wid="'+h+'" width='+d+" height="+p+"></canvas></div>"}c+="</div>",_.html(c),_.find(".parent-wnd").eq(0).children().eq(0).find(".play-window").eq(0).css("border","1px solid "+t[P].oStyle.borderSelect)}function q(){t.EventCallback=function(){return{loadEventHandler:function(){window.loadEventHandler&&window.loadEventHandler()},zoomEventResponse:function(){},windowEventSelect:function(e){t[O]!==e&&(t[O]=e,(t[k][e].bEZoom||t[k][e].b3DZoom)&&((0,f.default)(".draw-window").unbind(),t[D].setDrawStatus(!1),t[D]=null,t[D]=new u.ESCanvas("canvas_draw"+e),t[D].setShapeType("Rect"),t[D].setDrawStyle("#ff0000","",0),t[k][e].bEZoom?t[D].setDrawStatus(!0,(function(n){n.startPos&&n.endPos&&(n.startPos[0]>n.endPos[0]?t[k][e].oPlayCtrl.PlayM4_SetDisplayRegion(null,!1):t[k][e].oPlayCtrl.PlayM4_SetDisplayRegion({left:n.startPos[0],top:n.startPos[1],right:n.endPos[0],bottom:n.endPos[1]},!0))})):t[k][e].b3DZoom&&t[D].setDrawStatus(!0,(function(e){t[F](e)}))),window.GetSelectWndInfo&&window.GetSelectWndInfo(e))},pluginErrorHandler:function(t,e,n){window.PluginEventHandler&&window.PluginEventHandler(t,e,n)},windowEventOver:function(t){window.windowEventOver&&window.windowEventOver(t)},windowEventOut:function(t){window.windowEventOut&&window.windowEventOut(t)},windowEventUp:function(t){window.windowEventUp&&window.windowEventUp(t)},windowFullCcreenChange:function(t){window.windowFullCcreenChange&&window.windowFullCcreenChange(t)},firstFrameDisplay:function(t){window.firstFrameDisplay&&window.firstFrameDisplay(t)},performanceLack:function(){window.performanceLack&&window.performanceLack()}}}()}function H(){q(),_.find(".parent-wnd").eq(0).children().each((function(e){var n=this;(0,f.default)(n).unbind().bind("mousedown",(function(){_.find(".parent-wnd").eq(0).find(".play-window").css("border","1px solid "+t[P].oStyle.border),_.find(".parent-wnd").eq(0).children().eq(e).find(".play-window").eq(0).css("border","1px solid "+t[P].oStyle.borderSelect),t.EventCallback.windowEventSelect(parseInt(_.find(".parent-wnd").eq(0).children().eq(e).find(".play-window").eq(0).attr("wid"),10))})),(0,f.default)(n).bind("mouseover",(function(n){t.EventCallback.windowEventOver(e),n.stopPropagation()})),(0,f.default)(n).bind("mouseout",(function(n){t.EventCallback.windowEventOut(e),n.stopPropagation()})),(0,f.default)(n).bind("mouseup",(function(){t.EventCallback.windowEventUp(e)})),(0,f.default)(n).bind("dblclick",(function(e){if(t[k][t[O]].bPlay){document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen,(0,f.default)(n).get(0);e.stopPropagation()}}))})),"undefined"!==typeof document.fullScreen?document.addEventListener("fullscreenchange",(function(){var e=document.fullscreen||!1;t.EventCallback.windowFullCcreenChange(e)})):"undefined"!==typeof document.webkitIsFullScreen?document.addEventListener("webkitfullscreenchange",(function(){var e=document.webkitIsFullScreen||!1;t.EventCallback.windowFullCcreenChange(e)})):"undefined"!==typeof document.mozFullScreen&&document.addEventListener("mozfullscreenchange",(function(){var e=document.mozFullScreen||!1;t.EventCallback.windowFullCcreenChange(e)}))}function j(){var e=_.find(".parent-wnd").eq(0).children().length,n=t[P].iHeight,i=t[P].iWidth;try{_=(0,f.default)("#"+t[P].szId),n.indexOf("%")>0&&(n=_.height()*n.replace("%","")/100),i.indexOf("%")>0&&(i=_.width()*i.replace("%","")/100)}catch(y){}for(var r=i%t[P].iCurrentSplit,o=n%t[P].iCurrentSplit,a=(i-r-2*t[P].iCurrentSplit)/t[P].iCurrentSplit,s=(n-o-2*t[P].iCurrentSplit)/t[P].iCurrentSplit,u=(i-r)/t[P].iCurrentSplit,l=(n-o)/t[P].iCurrentSplit,c=t[P].iCurrentSplit,h=0;h<e;h++){i=a+(h%c===c-1?r:0),n=s+(h+c>=Math.pow(c,2)?o:0);var d=u+(h%c===c-1?r:0),p=l+(h+c>=Math.pow(c,2)?o:0);_.find(".parent-wnd").eq(0).children().eq(h).width(d),_.find(".parent-wnd").eq(0).children().eq(h).height(p),_.find(".parent-wnd").eq(0).children().eq(h).find(".draw-window").attr("width",d),_.find(".parent-wnd").eq(0).children().eq(h).find(".draw-window").attr("height",p),_.find(".parent-wnd").eq(0).children().eq(h).find(".play-window").attr("width",i),_.find(".parent-wnd").eq(0).children().eq(h).find(".play-window").attr("height",n)}_.find(".parent-wnd").eq(t[O]).find(".play-window").css("border","1px solid "+t[P].oStyle.border),_.find(".parent-wnd").eq(t[O]).children().eq(0).find(".play-window").eq(0).css("border","1px solid "+t[P].oStyle.borderSelect)}function U(e,n,i,r,o,a,s){if((0,f.default)("#"+t[k][i].windowID).length){var u=!1;r&&o&&(u=!0),t[k][i].bLoad=!0,b.openStream(e,n,(function(e){if(e.bHead&&!t[k][i].bPlay)t[k][i].bPlay=!0,t[k][i].aHead=new Uint8Array(e.buf),t[k][i].oPlayCtrl.PlayM4_OpenStream(e.buf,d,2097152),""!==t[k][i].szSecretKey&&(t[k][i].oPlayCtrl.PlayM4_SetSecretKey(1,t[k][i].szSecretKey,128),t[k][i].szSecretKey=""),4===t[k][i].aHead[8]?t[k][i].oPlayCtrl.PlayM4_SetStreamOpenMode(0):t[k][i].oPlayCtrl.PlayM4_SetStreamOpenMode(1),t[k][i].oPlayCtrl.PlayM4_SetInputBufSize(p),t[k][i].oPlayCtrl.PlayM4_Play(t[k][i].windowID);else{var n=new Uint8Array(e.buf),r=t[k][i].oPlayCtrl.PlayM4_GetInputBufSize(),o=t[k][i].oPlayCtrl.PlayM4_GetYUVBufSize();2!==o||t[k][i].bFirstFrame||(t[k][i].bFirstFrame=!0,t.EventCallback.firstFrameDisplay(i));var a=t[k][i].oPlayCtrl.PlayM4_GetDecodeFrameType();r>.5*p&&r<.8*p&&1===t[k][i].iRate?a===c||t[k][i].bFrameForward||(t[k][i].oPlayCtrl.PlayM4_SetDecodeFrameType(c),t.EventCallback.performanceLack()):r>=.8*p&&(n=new Uint8Array([1,2,3,4])),o>10&&o<15&&!t[k][i].bFrameForward?a!==c&&(t[k][i].oPlayCtrl.PlayM4_SetDecodeFrameType(c),t.EventCallback.performanceLack()):o>15&&(n=new Uint8Array([1,2,3,4])),o<10&&r<.5*p&&a!==l&&1===t[k][i].iRate&&t[k][i].oPlayCtrl.PlayM4_SetDecodeFrameType(l),e.statusString?t.EventCallback.pluginErrorHandler(i,y,e):e.type&&"exception"===e.type?t.EventCallback.pluginErrorHandler(i,m,e):t[k][i].oPlayCtrl.PlayM4_InputData(n,n.length),n=null}t[k][i].szStorageUUID&&w.inputData(t[k][i].szStorageUUID,e.buf),e=null}),(function(){t[k][i].bPlay&&(t.EventCallback.pluginErrorHandler(i,v),t[k][i].bPlay=!1,t[k][i].bFrameForward=!1,t[k][i].iRate=1,t[k][i].oPlayCtrl&&(t[k][i].oPlayCtrl.PlayM4_Stop(),t[k][i].oPlayCtrl.PlayM4_CloseStream()))})).then((function(e){t[k][i].szStreamUUID=e,b.startPlay(e,r,o).then((function(){u?(t[k][i].szPlayType="playback",t[k][i].iRate=1,t[k][i].oPlayCtrl.PlayM4_PlayRate(t[k][i].iRate)):t[k][i].szPlayType="realplay",a()}),(function(t){s(t)}))}),(function(t){s(t)}))}}}();e.JSPlugin=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(){i(this,t),this._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}return n(t,[{key:"$",value:function(t){var e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,n=/^(?:\s*(<[\w\W]+>)[^>]*|.([\w-]*))$/;if(e.test(t)){var i=e.exec(t);return document.getElementById(i[2])}if(n.test(t)){for(var r=n.exec(t),o=document.getElementsByTagName("*"),a=[],s=0,u=o.length;s<u;s++)o[s].className.match(new RegExp("(\\s|^)"+r[2]+"(\\s|$)"))&&a.push(o[s]);return a}}},{key:"dateFormat",value:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e}},{key:"downloadFile",value:function(t,e){var n=t;t instanceof Blob||t instanceof File||(n=new Blob([t]));var i=window.URL.createObjectURL(n),r=window.document.createElement("a");r.href=i,r.download=e;var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),r.dispatchEvent(o)}},{key:"createxmlDoc",value:function(){for(var t,e=["MSXML2.DOMDocument","MSXML2.DOMDocument.5.0","MSXML2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","Microsoft.XmlDom"],n=0,i=e.length;n<i;n++)try{t=new ActiveXObject(e[n]);break}catch(r){t=document.implementation.createDocument("","",null);break}return t.async="false",t}},{key:"parseXmlFromStr",value:function(t){if(null===t||""===t)return null;var e=this.createxmlDoc();if("Netscape"===navigator.appName||"Opera"===navigator.appName){var n=new DOMParser;e=n.parseFromString(t,"text/xml")}else e.loadXML(t);return e}},{key:"encode",value:function(t){var e,n,i,r,o,a,s,u="",l=0;t=this._utf8_encode(t);while(l<t.length)e=t.charCodeAt(l++),n=t.charCodeAt(l++),i=t.charCodeAt(l++),r=e>>2,o=(3&e)<<4|n>>4,a=(15&n)<<2|i>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),u=u+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return u}},{key:"decode",value:function(t){var e,n,i,r,o,a,s,u="",l=0;t=t.replace(/[^A-Za-z0-9+/=]/g,"");while(l<t.length)r=this._keyStr.indexOf(t.charAt(l++)),o=this._keyStr.indexOf(t.charAt(l++)),a=this._keyStr.indexOf(t.charAt(l++)),s=this._keyStr.indexOf(t.charAt(l++)),e=r<<2|o>>4,n=(15&o)<<4|a>>2,i=(3&a)<<6|s,u+=String.fromCharCode(e),64!==a&&(u+=String.fromCharCode(n)),64!==s&&(u+=String.fromCharCode(i));return u=this._utf8_decode(u),u}},{key:"_utf8_encode",value:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e}},{key:"_utf8_decode",value:function(t){var e="",n=0,i=0,r=0;while(n<t.length)if(i=t.charCodeAt(n),i<128)e+=String.fromCharCode(i),n++;else if(i>191&&i<224)r=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&r),n+=2;else{r=t.charCodeAt(n+1);var o=t.charCodeAt(n+2);e+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3}return e}},{key:"isFirefox",value:function(){var t=!1,e=navigator.userAgent.toLowerCase(),n="",i=-1;return e.match(/firefox\/([\d.]+)/)&&(n=e.match(/firefox\/([\d.]+)/)[1],i=parseInt(n.split(".")[0],10),i>-1&&(t=!0)),t}}]),t}();e.oTool=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StreamClient=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=f(r),a=n(8),s=n(9),u=n(10),l=n(13);function f(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){if("undefined"!==typeof Symbol){var t=Symbol("WEBSOCKET"),e=Symbol("GETINDEX"),n=Symbol("PROTOCOLVERSION"),r=Symbol("CIPHERSUITES"),f=new a.DirectDeviceCustom,h=new s.DirectDevice,d=new u.LiveMedia,p=new l.LocalService,y=function(){function a(){c(this,a),this[n]="0.1",this[r]=0,this[t]=[],this.ERRORS={},this[e]=function(e){for(var n=-1,i=0,r=this[t].length;i<r;i++)if(this[t][i].id===e){n=i;break}return n}}return i(a,[{key:"openStream",value:function(i,a,s,u){var l=this,c=i.split(":"),y=c[0],m=c[1].split("//")[1],v=Math.floor(c[2].split("/")[0]);a=a||{};var g=a.sessionID||a.session||"",S=Math.floor(c[2].split("/")[1]/100),b=Math.floor(c[2].split("/")[1]%100)-1;if(a.token){var w=a.token||a.session||"";g=w,i.indexOf("?")>-1?(S=Math.floor(c[2].split("?")[0].split("/")[1]/100),b=Math.floor(c[2].split("?")[0].split("/")[1]%100)-1,i=y+"://"+m+":"+v+"/?"+c[2].split("?")[1]+":"+c[3]+"&version="+l[n]+"&cipherSuites="+l[r]+"&token="+w):i=y+"://"+m+":"+v+"/?version="+l[n]+"&cipherSuites="+l[r]+"&token="+w}else i.indexOf("?")>-1?(S=Math.floor(c[2].split("?")[0].split("/")[1]/100),b=Math.floor(c[2].split("?")[0].split("/")[1]%100)-1,i=y+"://"+m+":"+v+"/?"+c[2].split("?")[1]+":"+c[3]+"&version="+l[n]+"&cipherSuites="+l[r]+"&sessionID="+g):i=y+"://"+m+":"+v+"/?version="+l[n]+"&cipherSuites="+l[r]+"&sessionID="+g;var _=new window.WebSocket(i);_.binaryType="arraybuffer";var P=o.default.v4();0===S&&(b=0);var C=new Promise((function(i,o){_.onopen=function(){a.playURL||a.sessionID||a.token||a.deviceSerial||(l[t].push(f.createClientObject(_,P,S,b)),i(P))},_.onmessage=function(u){if("string"===typeof u.data){var f=JSON.parse(u.data),c=l[e](P);if(f&&f.version&&f.cipherSuite){if(l[n]=f.version,l[r]=parseInt(f.cipherSuite,10),f&&f.PKD&&f.rand)l[t].push(d.createClientObject(_,P,f.PKD,f.rand,a));else{var y="live://"+m+":"+v+"/"+S+"/"+b;-1===l[r]?l[t].push(p.createClientObject(_,P,y,a)):l[t].push(h.createClientObject(_,P,y))}return void i(P)}if(f&&f.sdp){var g=h.getMediaFromSdp(f.sdp);s({bHead:!0,buf:g})}if(f&&f.cmd&&"end"===f.cmd&&s({type:"exception",cmd:f.cmd}),f&&f.statusString&&("ok"===f.statusString.toLowerCase()&&l[t][c].resolve&&l[t][c].resolve(f),"ok"!==f.statusString.toLowerCase())){var w=h.getError(f);c>-1?l[t][c].reject&&l[t][c].reject(w):o(w)}}else{var C={},x=new Uint8Array(u.data);if(64===x.byteLength||40===x.byteLength){for(var T=-1,k=x.byteLength,D=0;D<k;D++)if(73===x[D]&&77===x[D+1]&&75===x[D+2]&&72===x[D+3]){T=D;break}if(-1!==T){var M=x.slice(T,T+40);C={bHead:!0,buf:M}}else C={bHead:!1,buf:x}}else C={bHead:!1,buf:x};s(C),x=null,C=null,u=null}},_.onclose=function(){for(var e=0,n=l[t].length;e<n;e++)if(l[t][e].id===P){l[t][e].resolve(),l[t].splice(e,1),setTimeout((function(){u()}),200);break}o()}}));return C}},{key:"startPlay",value:function(i,o,a){var s=this,u=this[e](i);o&&a&&"0.1"===s[n]&&(o=o.replace(/-/g,"").replace(/:/g,""),a=a.replace(/-/g,"").replace(/:/g,""));var l=new Promise((function(e,i){if(u>-1){s[t][u].resolve=e,s[t][u].reject=i;var l=null;o&&a?"0.1"!==s[n]?0===s[r]?l=d.playbackCmd(s[t][u],o,a):1===s[r]?l=h.playbackCmd(o,a,s[t][u].playURL):-1===s[r]&&(l=p.playbackCmd(s[t][u],o,a)):l=f.playbackCmd(o,a,s[t][u].iCurChannel,s[t][u].iCurStream):0===s[t][u].iCurChannel&&"0.1"===s[n]?l=f.zeroPlayCmd(s[t][u].iCurChannel,s[t][u].iCurStream):"0.1"!==s[n]?0===s[r]?l=d.playCmd(s[t][u]):1===s[r]?l=h.playCmd(s[t][u].playURL):-1===s[r]&&(l=p.playCmd(s[t][u])):l=f.playCmd(s[t][u].iCurChannel,s[t][u].iCurStream),s[t][u].socket.send(l),"0.1"===s[n]&&e()}else"0.1"===s[n]&&i()}));return l}},{key:"singleFrame",value:function(){}},{key:"setPlayRate",value:function(e,i){var r=this,o=new Promise((function(o,a){for(var s=0,u=r[t].length;s<u;s++)if(r[t][s].id===e){if("0.1"===r[n]){var l=f.playRateCmd(i);r[t][s].socket.send(l),o();break}r[t][s].resolve=o,r[t][s].reject=a;var c=h.playRateCmd(i);r[t][s].socket.send(c)}}));return o}},{key:"seek",value:function(e,n,i){var r=this,o=new Promise((function(o,a){for(var s=0,u=r[t].length;s<u;s++)if(r[t][s].id===e){r[t][s].resolve=o,r[t][s].reject=a;var l=d.seekCmd(n,i);r[t][s].socket.send(l)}}));return o}},{key:"pause",value:function(e){var i=this,r=new Promise((function(r,o){for(var a=0,s=i[t].length;a<s;a++)if(i[t][a].id===e){if("0.1"===i[n]){var u=f.pauseCmd();i[t][a].socket.send(u),r();break}i[t][a].resolve=r,i[t][a].reject=o;var l=h.pauseCmd();i[t][a].socket.send(l)}}));return r}},{key:"transmission",value:function(e,n){var i=this,r=new Promise((function(r,o){for(var a=0,s=i[t].length;a<s;a++)i[t][a].id===e&&(i[t][a].resolve=r,i[t][a].reject=o,i[t][a].socket.send(n))}));return r}},{key:"resume",value:function(e){var i=this,r=new Promise((function(r,o){for(var a=0,s=i[t].length;a<s;a++)if(i[t][a].id===e){if("0.1"===i[n]){var u=f.resumeCmd();i[t][a].socket.send(u),r();break}i[t][a].resolve=r,i[t][a].reject=o;var l=h.resumeCmd();i[t][a].socket.send(l)}}));return r}},{key:"stop",value:function(e){var n=this,i=new Promise((function(i,r){if(e){for(var o=-1,a=0,s=n[t].length;a<s;a++)if(n[t][a].id===e){o=a,n[t][a].resolve=i,n[t][a].socket.close(1e3,"CLOSE");break}-1===o&&r()}else r()}));return i}},{key:"stopAll",value:function(){for(var e=this,n=0,i=e[t].length;n<i;n++)e[t][n].socket.close(1e3,"CLOSE")}}]),a}();return y}}();e.StreamClient=h},function(t,e,n){"use strict";var i=n(4),r=n(7),o=r;o.v1=i,o.v4=r,t.exports=o},function(t,e,n){"use strict";var i=n(5),r=n(6),o=i(),a=[1|o[0],o[1],o[2],o[3],o[4],o[5]],s=16383&(o[6]<<8|o[7]),u=0,l=0;function f(t,e,n){var i=e&&n||0,o=e||[];t=t||{};var f=void 0!==t.clockseq?t.clockseq:s,c=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:l+1,d=c-u+(h-l)/1e4;if(d<0&&void 0===t.clockseq&&(f=f+1&16383),(d<0||c>u)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=c,l=h,s=f,c+=122192928e5;var p=(1e4*(268435455&c)+h)%4294967296;o[i++]=p>>>24&255,o[i++]=p>>>16&255,o[i++]=p>>>8&255,o[i++]=255&p;var y=c/4294967296*1e4&268435455;o[i++]=y>>>8&255,o[i++]=255&y,o[i++]=y>>>24&15|16,o[i++]=y>>>16&255,o[i++]=f>>>8|128,o[i++]=255&f;for(var m=t.node||a,v=0;v<6;++v)o[i+v]=m[v];return e||r(o)}t.exports=f},function(t,e){(function(e){"use strict";var n,i=e.crypto||e.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}t.exports=n}).call(e,function(){return this}())},function(t,e){"use strict";for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);function r(t,e){var i=e||0,r=n;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}t.exports=r},function(t,e,n){"use strict";var i=n(5),r=n(6);function o(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||r(a)}t.exports=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){if("undefined"!==typeof Symbol){var t=function(){function t(){i(this,t)}return n(t,[{key:"createClientObject",value:function(t,e,n,i){return{socket:t,id:e,iCurChannel:n,iCurStream:i,resolve:null,reject:null}}},{key:"zeroPlayCmd",value:function(t,e){var n=[0,0,0,44,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t+1,0,0,0,e,0,0,4,0];return new Uint8Array(n)}},{key:"playCmd",value:function(t,e){var n=[0,0,0,44,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t,0,0,0,e,0,0,4,0];return new Uint8Array(n)}},{key:"playbackCmd",value:function(t,e,n,i){var r=t.split("T")[0],o=t.split("T")[1],a="0"+parseInt(r.substring(0,4),10).toString(16),s=parseInt(r.substring(4,6),10),u=parseInt(r.substring(6),10),l=parseInt(o.substring(0,2),10),f=parseInt(o.substring(2,4),10),c=parseInt(o.substring(4,6),10),h=e.split("T")[0],d=e.split("T")[1],p="0"+parseInt(h.substring(0,4),10).toString(16),y=parseInt(h.substring(4,6),10),m=parseInt(d.substring(0,2),10),v=parseInt(d.substring(2,4),10),g=parseInt(d.substring(4,6),10),S=[0,0,0,96,0,0,0,0,0,0,0,0,0,3,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n,0,0,parseInt(a.substring(0,2),16),parseInt(a.substring(2,4),16),0,0,0,s,0,0,0,u,0,0,0,l,0,0,0,f,0,0,0,c,0,0,parseInt(p.substring(0,2),16),parseInt(p.substring(2,4),16),0,0,0,y,0,0,0,u,0,0,0,m,0,0,0,v,0,0,0,g,0,0,0,0,0,0,0,0,i,0,0,0];return new Uint8Array(S)}},{key:"playRateCmd",value:function(t){for(var e=(parseInt(t,10)>>>0).toString(16).toLocaleUpperCase().toString(16),n=e.length;n<8;n++)e="0"+e;for(var i=[0,0,0,0],r=0,o=e.length;r<o;r+=2)i[Math.floor(r/2)]=parseInt(e.substring(r,r+2),16);var a=[0,0,0,36,0,0,0,0,0,0,0,0,0,3,1,47,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i[0],i[1],i[2],i[3]];return new Uint8Array(a)}},{key:"pauseCmd",value:function(){var t=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(t)}},{key:"resumeCmd",value:function(){var t=[0,0,0,32,0,0,0,0,0,0,0,0,0,3,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return new Uint8Array(t)}}]),t}();return t}}();e.DirectDeviceCustom=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=3001,o=3002,a=3003,s=function(){if("undefined"!==typeof Symbol){var t=function(){function t(){i(this,t)}return n(t,[{key:"createClientObject",value:function(t,e,n){return{socket:t,id:e,playURL:n,resolve:null,reject:null}}},{key:"getMediaFromSdp",value:function(t){for(var e=t.indexOf("MEDIAINFO=")+10,n=t.slice(e,e+80),i=[],r=0,o=n.length/2;r<o;r++)i[r]=parseInt(n.slice(2*r,2*r+2),16);return new Uint8Array(i)}},{key:"playCmd",value:function(t){var e={sequence:0,cmd:"realplay",url:t};return JSON.stringify(e)}},{key:"playbackCmd",value:function(t,e,n){var i={sequence:0,cmd:"playback",url:n,startTime:t,endTime:e};return JSON.stringify(i)}},{key:"playRateCmd",value:function(t){var e={sequence:0,cmd:"speed",rate:t};return JSON.stringify(e)}},{key:"pauseCmd",value:function(){var t={sequence:0,cmd:"pause"};return JSON.stringify(t)}},{key:"resumeCmd",value:function(){var t={sequence:0,cmd:"resume"};return JSON.stringify(t)}},{key:"getError",value:function(t){var e=r;return t&&(6===parseInt(t.statusCode,10)&&"streamLimit"===t.subStatusCode?e=o:4===parseInt(t.statusCode,10)&&"badAuthorization"===t.subStatusCode&&(e=a)),{iErrorNum:e,oError:t}}}]),t}();return t}}();e.DirectDevice=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LiveMedia=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(11),o=u(r),a=n(12),s=u(a);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){if("undefined"!==typeof Symbol){var t=function(){function t(){l(this,t)}return i(t,[{key:"createClientObject",value:function(t,e,n,i,r){var o=s.default.AES.encrypt((new Date).getTime().toString(),s.default.enc.Hex.parse("1234567891234567123456789123456712345678912345671234567891234567"),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse("12345678912345671234567891234567"),padding:s.default.pad.Pkcs7}).ciphertext.toString();o.length<64&&(o+=o);var a=s.default.AES.encrypt((new Date).getTime().toString(),s.default.enc.Hex.parse("12345678912345671234567891234567"),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse("12345678912345671234567891234567"),padding:s.default.pad.Pkcs7}).ciphertext.toString();return{socket:t,id:e,PKD:n,rand:i,playURL:r.playURL||"",auth:r.auth||"",token:r.token||"",key:o,iv:a,resolve:null,reject:null}}},{key:"playCmd",value:function(t){var e={sequence:0,cmd:"realplay",url:t.playURL,key:o.default.encrypt(t.iv+":"+t.key,t.PKD).cipher.split("?")[0],authorization:s.default.AES.encrypt(t.rand+":"+t.auth,s.default.enc.Hex.parse(t.key),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse(t.iv),padding:s.default.pad.Pkcs7}).ciphertext.toString(),token:s.default.AES.encrypt(t.token,s.default.enc.Hex.parse(t.key),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse(t.iv),padding:s.default.pad.Pkcs7}).ciphertext.toString()};return JSON.stringify(e)}},{key:"playbackCmd",value:function(t,e,n){var i={sequence:0,cmd:"playback",url:t.playURL,key:o.default.encrypt(t.iv+":"+t.key,t.PKD).cipher.split("?")[0],authorization:s.default.AES.encrypt(t.rand+":"+t.auth,s.default.enc.Hex.parse(t.key),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse(t.iv),padding:s.default.pad.Pkcs7}).ciphertext.toString(),token:s.default.AES.encrypt(t.token,s.default.enc.Hex.parse(t.key),{mode:s.default.mode.CBC,iv:s.default.enc.Hex.parse(t.iv),padding:s.default.pad.Pkcs7}).ciphertext.toString(),startTime:e,endTime:n};return JSON.stringify(i)}},{key:"seekCmd",value:function(t,e){var n={sequence:0,cmd:"seek",startTime:t,endTime:e};return JSON.stringify(n)}}]),t}();return t}}();e.LiveMedia=f},function(t,e){"use strict";var n,r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={appName:"Netscape",appVersion:40},a=0xdeadbeefcafe,s=15715070==(16777215&a);function u(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function l(){return new u(null)}function f(t,e,n,i,r,o){for(;--o>=0;){var a=e*this[t++]+n[i]+r;r=Math.floor(a/67108864);n[i++]=67108863&a}return r}function c(t,e,n,i,r,o){var a=32767&e;for(e>>=15;--o>=0;){var s=32767&this[t],u=this[t++]>>15,l=e*s+u*a;s=a*s+((32767&l)<<15)+n[i]+(1073741823&r),r=(s>>>30)+(l>>>15)+e*u+(r>>>30);n[i++]=1073741823&s}return r}function h(t,e,n,i,r,o){var a=16383&e;for(e>>=14;--o>=0;){var s=16383&this[t],u=this[t++]>>14,l=e*s+u*a;s=a*s+((16383&l)<<14)+n[i]+r,r=(s>>28)+(l>>14)+e*u;n[i++]=268435455&s}return r}s&&"Microsoft Internet Explorer"==o.appName?(u.prototype.am=c,n=30):s&&"Netscape"!=o.appName?(u.prototype.am=f,n=26):(u.prototype.am=h,n=28),u.prototype.DB=n,u.prototype.DM=(1<<n)-1,u.prototype.DV=1<<n;var d=52;u.prototype.FV=Math.pow(2,d),u.prototype.F1=d-n,u.prototype.F2=2*n-d;var p,y,m="0123456789abcdefghijklmnopqrstuvwxyz",g=[];for(p="0".charCodeAt(0),y=0;y<=9;++y)g[p++]=y;for(p="a".charCodeAt(0),y=10;y<36;++y)g[p++]=y;for(p="A".charCodeAt(0),y=10;y<36;++y)g[p++]=y;function S(t){return m.charAt(t)}function b(t,e){var n=g[t.charCodeAt(e)];return null==n?-1:n}function w(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function _(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0}function P(t){var e=l();return e.fromInt(t),e}function C(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.s=this.t=0;for(var i=t.length,r=!1,o=0;--i>=0;){var a=8==n?255&t[i]:b(t,i);a<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&u.ZERO.subTo(this,this)}function x(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function T(t){if(this.s<0)return"-"+this.negate().toString(t);if(16==t)t=4;else if(8==t)t=3;else if(2==t)t=1;else if(32==t)t=5;else if(64==t)t=6;else{if(4!=t)return this.toRadix(t);t=2}var e,n=(1<<t)-1,i=!1,r="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(e=this[o]>>a)>0&&(i=!0,r=S(e));o>=0;)a<t?(e=(this[o]&(1<<a)-1)<<t-a,e|=this[--o]>>(a+=this.DB-t)):(e=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),e>0&&(i=!0),i&&(r+=S(e));return i?r:"0"}function k(){var t=l();return u.ZERO.subTo(this,t),t}function D(){return this.s<0?this.negate():this}function M(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;e=n-t.t;if(0!=e)return e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function R(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),t>>1!=0&&(n+=1),n}function E(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)}function I(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function z(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function A(t,e){var n,i=t%this.DB,r=this.DB-i,o=(1<<r)-1,a=Math.floor(t/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>r|s,s=(this[n]&o)<<i;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function O(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&o)<<r,e[a-n]=this[a]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}}function F(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function B(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&u.ZERO.subTo(e,e)}function L(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function N(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)null!=e&&e.fromInt(0),null!=n&&this.copyTo(n);else{null==n&&(n=l());var o=l(),a=this.s,s=(t=t.s,this.DB-R(i[i.t-1]));if(s>0?(i.lShiftTo(s,o),r.lShiftTo(s,n)):(i.copyTo(o),r.copyTo(n)),i=o.t,r=o[i-1],0!=r){var f=r*(1<<this.F1)+(i>1?o[i-2]>>this.F2:0),c=this.FV/f,h=(f=(1<<this.F1)/f,1<<this.F2),d=n.t,p=d-i,y=null==e?l():e;for(o.dlShiftTo(p,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),u.ONE.dlShiftTo(i,y),y.subTo(o,o);o.t<i;)o[o.t++]=0;for(;--p>=0;){var m=n[--d]==r?this.DM:Math.floor(n[d]*c+(n[d-1]+h)*f);if((n[d]+=o.am(0,m,n,p,0,i))<m)for(o.dlShiftTo(p,y),n.subTo(y,n);n[d]<--m;)n.subTo(y,n)}null!=e&&(n.drShiftTo(i,e),a!=t&&u.ZERO.subTo(e,e)),n.t=i,n.clamp(),s>0&&n.rShiftTo(s,n),a<0&&u.ZERO.subTo(n,n)}}}}function q(t){var e=l();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(u.ZERO)>0&&t.subTo(e,e),e}function H(t){this.m=t}function j(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function U(t){return t}function W(t){t.divRemTo(this.m,null,t)}function G(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function V(t,e){t.squareTo(e),this.reduce(e)}function Y(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV;return e>0?this.DV-e:-e}function X(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function J(t){var e=l();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(u.ZERO)>0&&this.m.subTo(e,e),e}function $(t){var e=l();return t.copyTo(e),this.reduce(e),e}function K(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;n=e+this.m.t;for(t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Z(t,e){t.squareTo(e),this.reduce(e)}function Q(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function tt(){return 0==(this.t>0?1&this[0]:this.s)}function et(t,e){if(t>4294967295||t<1)return u.ONE;var n=l(),i=l(),r=e.convert(this),o=R(t)-1;for(r.copyTo(n);--o>=0;)if(e.sqrTo(n,i),(t&1<<o)>0)e.mulTo(i,r,n);else{var a=n;n=i,i=a}return e.revert(n)}function nt(t,e){var n;return n=t<256||e.isEven()?new H(e):new X(e),this.exp(t,n)}function it(){var t=l();return this.copyTo(t),t}function rt(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ot(){return 0==this.t?this.s:this[0]<<24>>24}function at(){return 0==this.t?this.s:this[0]<<16>>16}function st(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function ut(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function lt(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=(e=Math.pow(t,e),P(e)),i=l(),r=l(),o="";for(this.divRemTo(n,i,r);i.signum()>0;)o=(e+r.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,r);return r.intValue().toString(t)+o}function ft(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),r=!1,o=0,a=0,s=0;s<t.length;++s){var l=b(t,s);l<0?"-"==t.charAt(s)&&0==this.signum()&&(r=!0):(a=e*a+l,++o>=n&&(this.dMultiply(i),this.dAddOffset(a,0),a=o=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(a,0)),r&&u.ZERO.subTo(this,this)}function ct(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(u.ONE.shiftLeft(t-1),St,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(u.ONE.shiftLeft(t-1),this);else{n=[];var i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function ht(){var t=this.t,e=[];e[0]=this.s;var n,i=this.DB-t*this.DB%8,r=0;if(t-- >0)for(i<this.DB&&(n=this[t]>>i)!=(this.s&this.DM)>>i&&(e[r++]=n|this.s<<this.DB-i);t>=0;)i<8?(n=(this[t]&(1<<i)-1)<<8-i,n|=this[--t]>>(i+=this.DB-8)):(n=this[t]>>(i-=8)&255,i<=0&&(i+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(e[r++]=n);return e}function dt(t){return 0==this.compareTo(t)}function pt(t){return this.compareTo(t)<0?this:t}function yt(t){return this.compareTo(t)>0?this:t}function mt(t,e,n){var i,r,o=Math.min(t.t,this.t);for(i=0;i<o;++i)n[i]=e(this[i],t[i]);if(t.t<this.t){for(r=t.s&this.DM,i=o;i<this.t;++i)n[i]=e(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<t.t;++i)n[i]=e(r,t[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function vt(t,e){return t&e}function gt(t){var e=l();return this.bitwiseTo(t,vt,e),e}function St(t,e){return t|e}function bt(t){var e=l();return this.bitwiseTo(t,St,e),e}function wt(t,e){return t^e}function _t(t){var e=l();return this.bitwiseTo(t,wt,e),e}function Pt(t,e){return t&~e}function Ct(t){var e=l();return this.bitwiseTo(t,Pt,e),e}function xt(){for(var t=l(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function Tt(t){var e=l();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function kt(t){var e=l();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Dt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function Mt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+Dt(this[t]);return this.s<0?this.t*this.DB:-1}function Rt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function Et(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=Rt(this[n]^e);return t}function It(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function zt(t,e){var n=u.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function At(t){return this.changeBit(t,St)}function Ot(t){return this.changeBit(t,Pt)}function Ft(t){return this.changeBit(t,wt)}function Bt(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);n<r;)i+=this[n]+t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t[n],e[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=this.DV+i),e.t=n,e.clamp()}function Lt(t){var e=l();return this.addTo(t,e),e}function Nt(t){var e=l();return this.subTo(t,e),e}function qt(t){var e=l();return this.multiplyTo(t,e),e}function Ht(){var t=l();return this.squareTo(t),t}function jt(t){var e=l();return this.divRemTo(t,e,null),e}function Ut(t){var e=l();return this.divRemTo(t,null,e),e}function Wt(t){var e=l(),n=l();return this.divRemTo(t,e,n),[e,n]}function Gt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Vt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Yt(){}function Xt(t){return t}function Jt(t,e,n){t.multiplyTo(e,n)}function $t(t,e){t.squareTo(e)}function Kt(t){return this.exp(t,new Yt)}function Zt(t,e,n){var i,r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()}function Qt(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n[this.t+i-e]=this.am(e-i,t[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)}function te(t){this.r2=l(),this.q3=l(),u.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function ee(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=l();return t.copyTo(e),this.reduce(e),e}function ne(t){return t}function ie(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function re(t,e){t.squareTo(e),this.reduce(e)}function oe(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function ae(t,e){var n,i,r=t.bitLength(),o=P(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new H(e):e.isEven()?new te(e):new X(e);var a=[],s=3,u=n-1,f=(1<<n)-1;if(a[1]=i.convert(this),n>1)for(r=l(),i.sqrTo(a[1],r);s<=f;)a[s]=l(),i.mulTo(r,a[s-2],a[s]),s+=2;var c,h=t.t-1,d=!0,p=l();for(r=R(t[h])-1;h>=0;){for(r>=u?c=t[h]>>r-u&f:(c=(t[h]&(1<<r+1)-1)<<u-r,h>0&&(c|=t[h-1]>>this.DB+r-u)),s=n;0==(1&c);)c>>=1,--s;if((r-=s)<0&&(r+=this.DB,--h),d)a[c].copyTo(o),d=!1;else{for(;s>1;)i.sqrTo(o,p),i.sqrTo(p,o),s-=2;s>0?i.sqrTo(o,p):(s=o,o=p,p=s),i.mulTo(p,a[c],o)}for(;h>=0&&0==(t[h]&1<<r);)i.sqrTo(o,p),s=o,o=p,p=s,--r<0&&(r=this.DB-1,--h)}return i.revert(o)}function se(t){var e=this.s<0?this.negate():this.clone();t=t.s<0?t.negate():t.clone();if(e.compareTo(t)<0){var n=e;e=t,t=n}n=e.getLowestSetBit();var i=t.getLowestSetBit();if(i<0)return e;for(n<i&&(i=n),i>0&&(e.rShiftTo(i,e),t.rShiftTo(i,t));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return i>0&&t.lShiftTo(i,t),t}function ue(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var i=this.t-1;i>=0;--i)n=(e*n+this[i])%t;return n}function le(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return u.ZERO;for(var n=t.clone(),i=this.clone(),r=P(1),o=P(0),a=P(0),s=P(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(r.isEven()&&o.isEven()||(r.addTo(this,r),o.subTo(t,o)),r.rShiftTo(1,r)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),e?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(t,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);n.compareTo(i)>=0?(n.subTo(i,n),e&&r.subTo(a,r),o.subTo(s,o)):(i.subTo(n,i),e&&a.subTo(r,a),s.subTo(o,s))}return 0!=i.compareTo(u.ONE)?u.ZERO:s.compareTo(t)>=0?s.subtract(t):s.signum()<0?(s.addTo(t,s),s.signum()<0?s.add(t):s):s}H.prototype.convert=j,H.prototype.revert=U,H.prototype.reduce=W,H.prototype.mulTo=G,H.prototype.sqrTo=V,X.prototype.convert=J,X.prototype.revert=$,X.prototype.reduce=K,X.prototype.mulTo=Q,X.prototype.sqrTo=Z,u.prototype.copyTo=w,u.prototype.fromInt=_,u.prototype.fromString=C,u.prototype.clamp=x,u.prototype.dlShiftTo=I,u.prototype.drShiftTo=z,u.prototype.lShiftTo=A,u.prototype.rShiftTo=O,u.prototype.subTo=F,u.prototype.multiplyTo=B,u.prototype.squareTo=L,u.prototype.divRemTo=N,u.prototype.invDigit=Y,u.prototype.isEven=tt,u.prototype.exp=et,u.prototype.toString=T,u.prototype.negate=k,u.prototype.abs=D,u.prototype.compareTo=M,u.prototype.bitLength=E,u.prototype.mod=q,u.prototype.modPowInt=nt,u.ZERO=P(0),u.ONE=P(1),Yt.prototype.convert=Xt,Yt.prototype.revert=Xt,Yt.prototype.mulTo=Jt,Yt.prototype.sqrTo=$t,te.prototype.convert=ee,te.prototype.revert=ne,te.prototype.reduce=ie,te.prototype.mulTo=oe,te.prototype.sqrTo=re;var fe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ce=67108864/fe[fe.length-1];function he(t){var e,n=this.abs();if(1==n.t&&n[0]<=fe[fe.length-1]){for(e=0;e<fe.length;++e)if(n[0]==fe[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<fe.length;){for(var i=fe[e],r=e+1;r<fe.length&&i<ce;)i*=fe[r++];for(i=n.modInt(i);e<r;)if(i%fe[e++]==0)return!1}return n.millerRabin(t)}function de(t){var e=this.subtract(u.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var i=e.shiftRight(n);t=t+1>>1;t>fe.length&&(t=fe.length);for(var r=l(),o=0;o<t;++o){r.fromInt(fe[Math.floor(Math.random()*fe.length)]);var a=r.modPow(i,this);if(0!=a.compareTo(u.ONE)&&0!=a.compareTo(e)){for(var s=1;s++<n&&0!=a.compareTo(e);)if(a=a.modPowInt(2,this),0==a.compareTo(u.ONE))return!1;if(0!=a.compareTo(e))return!1}}return!0}function pe(){}function ye(t){var e;for(e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random())}function me(){this.j=this.i=0,this.S=[]}function ve(t){var e,n,i;for(e=0;e<256;++e)this.S[e]=e;for(e=n=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.j=this.i=0}function ge(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function Se(){return new me}u.prototype.chunkSize=st,u.prototype.toRadix=lt,u.prototype.fromRadix=ft,u.prototype.fromNumber=ct,u.prototype.bitwiseTo=mt,u.prototype.changeBit=zt,u.prototype.addTo=Bt,u.prototype.dMultiply=Gt,u.prototype.dAddOffset=Vt,u.prototype.multiplyLowerTo=Zt,u.prototype.multiplyUpperTo=Qt,u.prototype.modInt=ue,u.prototype.millerRabin=de,u.prototype.clone=it,u.prototype.intValue=rt,u.prototype.byteValue=ot,u.prototype.shortValue=at,u.prototype.signum=ut,u.prototype.toByteArray=ht,u.prototype.equals=dt,u.prototype.min=pt,u.prototype.max=yt,u.prototype.and=gt,u.prototype.or=bt,u.prototype.xor=_t,u.prototype.andNot=Ct,u.prototype.not=xt,u.prototype.shiftLeft=Tt,u.prototype.shiftRight=kt,u.prototype.getLowestSetBit=Mt,u.prototype.bitCount=Et,u.prototype.testBit=It,u.prototype.setBit=At,u.prototype.clearBit=Ot,u.prototype.flipBit=Ft,u.prototype.add=Lt,u.prototype.subtract=Nt,u.prototype.multiply=qt,u.prototype.divide=jt,u.prototype.remainder=Ut,u.prototype.divideAndRemainder=Wt,u.prototype.modPow=ae,u.prototype.modInverse=le,u.prototype.pow=Kt,u.prototype.gcd=se,u.prototype.isProbablePrime=he,u.prototype.square=Ht,function(t,e,n,i,o,a,s){function u(t){var e,i,r=this,o=t.length,a=0,s=r.i=r.j=r.m=0;for(r.S=[],r.c=[],o||(t=[o++]);a<n;)r.S[a]=a++;for(a=0;a<n;a++)e=r.S[a],s=s+e+t[a%o]&n-1,i=r.S[s],r.S[a]=i,r.S[s]=e;r.g=function(t){var e=r.S,i=r.i+1&n-1,o=e[i],a=r.j+o&n-1,s=e[a];e[i]=s,e[a]=o;for(var u=e[o+s&n-1];--t;)i=i+1&n-1,o=e[i],a=a+o&n-1,s=e[a],e[i]=s,e[a]=o,u=u*n+e[o+s&n-1];return r.i=i,r.j=a,u},r.g(n)}function l(t,e,n,i,o){if(n=[],o="undefined"===typeof t?"undefined":r(t),e&&"object"==o)for(i in t)if(i.indexOf("S")<5)try{n.push(l(t[i],e-1))}catch(a){}return n.length?n:t+("string"!=o?"\0":"")}function f(t,e,i,r){for(t+="",r=i=0;r<t.length;r++){var o=e,a=r&n-1,s=(i^=19*e[r&n-1])+t.charCodeAt(r);o[a]=s&n-1}for(r in t="",e)t+=String.fromCharCode(e[r]);return t}e.seedrandom=function(r,c){var h,d=[];r=f(l(c?[r,t]:arguments.length?r:[(new Date).getTime(),t,window],3),d);return h=new u(d),f(h.S,t),e.random=function(){for(var t=h.g(i),e=s,r=0;t<o;)t=(t+r)*n,e*=n,r=h.g(1);for(;t>=a;)t/=2,e/=2,r>>>=1;return(t+r)/e},r},s=e.pow(n,i),o=e.pow(2,o),a=2*o,f(e.random(),t)}([],Math,256,6,52),pe.prototype.nextBytes=ye,me.prototype.init=ve,me.prototype.next=ge;var be,we,_e,Pe=256;function Ce(t){we[_e++]^=255&t,we[_e++]^=t>>8&255,we[_e++]^=t>>16&255,we[_e++]^=t>>24&255,_e>=Pe&&(_e-=Pe)}function xe(){Ce((new Date).getTime())}if(null==we){var Te;if(we=[],_e=0,"Netscape"==o.appName&&o.appVersion<"5"&&window.crypto){var ke=window.crypto.random(32);for(Te=0;Te<ke.length;++Te)we[_e++]=255&ke.charCodeAt(Te)}for(;_e<Pe;)Te=Math.floor(65536*Math.random()),we[_e++]=Te>>>8,we[_e++]=255&Te;_e=0,xe()}function De(){if(null==be){for(xe(),be=Se(),be.init(we),_e=0;_e<we.length;++_e)we[_e]=0;_e=0}return be.next()}function Me(t){var e;for(e=0;e<t.length;++e)t[e]=De()}function Re(){}function Ee(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t>>>e|t<<32-e}return t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(i>127&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e}(t),function(t){for(var e="",n=0;n<4*t.length;n++)e+="0123456789abcdef".charAt(t[n>>2]>>8*(3-n%4)+4&15)+"0123456789abcdef".charAt(t[n>>2]>>8*(3-n%4)&15);return e}(function(t,i){var r,o,a,s,u,l,f,c,h,d,p,y,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64);for(t[i>>5]|=128<<24-i%32,t[15+(i+64>>9<<4)]=i,h=0;h<t.length;h+=16){for(r=v[0],o=v[1],a=v[2],s=v[3],u=v[4],l=v[5],f=v[6],c=v[7],d=0;d<64;d++)g[d]=d<16?t[d+h]:e(e(e(n(g[d-2],17)^n(g[d-2],19)^g[d-2]>>>10,g[d-7]),n(g[d-15],7)^n(g[d-15],18)^g[d-15]>>>3),g[d-16]),p=e(e(e(e(c,n(u,6)^n(u,11)^n(u,25)),u&l^~u&f),m[d]),g[d]),y=e(n(r,2)^n(r,13)^n(r,22),r&o^r&a^o&a),c=f,f=l,l=u,u=e(s,p),s=a,a=o,o=r,r=e(p,y);v[0]=e(r,v[0]),v[1]=e(o,v[1]),v[2]=e(a,v[2]),v[3]=e(s,v[3]),v[4]=e(u,v[4]),v[5]=e(l,v[5]),v[6]=e(f,v[6]),v[7]=e(c,v[7])}return v}(function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t),8*t.length))}Re.prototype.nextBytes=Me;var Ie={hex:function(t){return Ee(t)}};function ze(t){function e(t,e){return t<<e|t>>>32-e}function n(t){var e,n,i="";for(e=7;e>=0;e--)n=t>>>4*e&15,i+=n.toString(16);return i}var i,r,o,a,s,u,l,f=Array(80),c=1732584193,h=4023233417,d=2562383102,p=271733878,y=3285377520;t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(i>127&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e}(t);o=t.length;var m=[];for(i=0;i<o-3;i+=4)r=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),m.push(r);switch(o%4){case 0:i=2147483648;break;case 1:i=t.charCodeAt(o-1)<<24|8388608;break;case 2:i=t.charCodeAt(o-2)<<24|t.charCodeAt(o-1)<<16|32768;break;case 3:i=t.charCodeAt(o-3)<<24|t.charCodeAt(o-2)<<16|t.charCodeAt(o-1)<<8|128}for(m.push(i);m.length%16!=14;)m.push(0);for(m.push(o>>>29),m.push(o<<3&4294967295),t=0;t<m.length;t+=16){for(i=0;i<16;i++)f[i]=m[t+i];for(i=16;i<=79;i++)f[i]=e(f[i-3]^f[i-8]^f[i-14]^f[i-16],1);for(r=c,o=h,a=d,s=p,u=y,i=0;i<=19;i++)l=e(r,5)+(o&a|~o&s)+u+f[i]+1518500249&4294967295,u=s,s=a,a=e(o,30),o=r,r=l;for(i=20;i<=39;i++)l=e(r,5)+(o^a^s)+u+f[i]+1859775393&4294967295,u=s,s=a,a=e(o,30),o=r,r=l;for(i=40;i<=59;i++)l=e(r,5)+(o&a|o&s|a&s)+u+f[i]+2400959708&4294967295,u=s,s=a,a=e(o,30),o=r,r=l;for(i=60;i<=79;i++)l=e(r,5)+(o^a^s)+u+f[i]+3395469782&4294967295,u=s,s=a,a=e(o,30),o=r,r=l;c=c+r&4294967295,h=h+o&4294967295,d=d+a&4294967295,p=p+s&4294967295,y=y+u&4294967295}return l=n(c)+n(h)+n(d)+n(p)+n(y),l.toLowerCase()}var Ae={hex:function(t){return ze(t)}},Oe=function(t){function e(t,e){var n,i,r,o,a;return r=2147483648&t,o=2147483648&e,n=1073741824&t,i=1073741824&e,a=(1073741823&t)+(1073741823&e),n&i?2147483648^a^r^o:n|i?1073741824&a?3221225472^a^r^o:1073741824^a^r^o:a^r^o}function n(t,n,i,r,o,a,s){return t=e(t,e(e(n&i|~n&r,o),s)),e(t<<a|t>>>32-a,n)}function i(t,n,i,r,o,a,s){return t=e(t,e(e(n&r|i&~r,o),s)),e(t<<a|t>>>32-a,n)}function r(t,n,i,r,o,a,s){return t=e(t,e(e(n^i^r,o),s)),e(t<<a|t>>>32-a,n)}function o(t,n,i,r,o,a,s){return t=e(t,e(e(i^(n|~r),o),s)),e(t<<a|t>>>32-a,n)}function a(t){var e,n="",i="";for(e=0;e<=3;e++)i=t>>>8*e&255,i="0"+i.toString(16),n+=i.substr(i.length-2,2);return n}var s,u,l,f,c,h,d,p,y=[];t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):(i>127&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e}(t),y=function(t){var e,n=t.length;e=n+8;for(var i=16*((e-e%64)/64+1),r=Array(i-1),o=0,a=0;a<n;)e=(a-a%4)/4,o=a%4*8,r[e]|=t.charCodeAt(a)<<o,a++;return r[(a-a%4)/4]|=128<<a%4*8,r[i-2]=n<<3,r[i-1]=n>>>29,r}(t);for(c=1732584193,h=4023233417,d=2562383102,p=271733878,t=0;t<y.length;t+=16)s=c,u=h,l=d,f=p,c=n(c,h,d,p,y[t+0],7,3614090360),p=n(p,c,h,d,y[t+1],12,3905402710),d=n(d,p,c,h,y[t+2],17,606105819),h=n(h,d,p,c,y[t+3],22,3250441966),c=n(c,h,d,p,y[t+4],7,4118548399),p=n(p,c,h,d,y[t+5],12,1200080426),d=n(d,p,c,h,y[t+6],17,2821735955),h=n(h,d,p,c,y[t+7],22,4249261313),c=n(c,h,d,p,y[t+8],7,1770035416),p=n(p,c,h,d,y[t+9],12,2336552879),d=n(d,p,c,h,y[t+10],17,4294925233),h=n(h,d,p,c,y[t+11],22,2304563134),c=n(c,h,d,p,y[t+12],7,1804603682),p=n(p,c,h,d,y[t+13],12,4254626195),d=n(d,p,c,h,y[t+14],17,2792965006),h=n(h,d,p,c,y[t+15],22,1236535329),c=i(c,h,d,p,y[t+1],5,4129170786),p=i(p,c,h,d,y[t+6],9,3225465664),d=i(d,p,c,h,y[t+11],14,643717713),h=i(h,d,p,c,y[t+0],20,3921069994),c=i(c,h,d,p,y[t+5],5,3593408605),p=i(p,c,h,d,y[t+10],9,38016083),d=i(d,p,c,h,y[t+15],14,3634488961),h=i(h,d,p,c,y[t+4],20,3889429448),c=i(c,h,d,p,y[t+9],5,568446438),p=i(p,c,h,d,y[t+14],9,3275163606),d=i(d,p,c,h,y[t+3],14,4107603335),h=i(h,d,p,c,y[t+8],20,1163531501),c=i(c,h,d,p,y[t+13],5,2850285829),p=i(p,c,h,d,y[t+2],9,4243563512),d=i(d,p,c,h,y[t+7],14,1735328473),h=i(h,d,p,c,y[t+12],20,2368359562),c=r(c,h,d,p,y[t+5],4,4294588738),p=r(p,c,h,d,y[t+8],11,2272392833),d=r(d,p,c,h,y[t+11],16,1839030562),h=r(h,d,p,c,y[t+14],23,4259657740),c=r(c,h,d,p,y[t+1],4,2763975236),p=r(p,c,h,d,y[t+4],11,1272893353),d=r(d,p,c,h,y[t+7],16,4139469664),h=r(h,d,p,c,y[t+10],23,3200236656),c=r(c,h,d,p,y[t+13],4,681279174),p=r(p,c,h,d,y[t+0],11,3936430074),d=r(d,p,c,h,y[t+3],16,3572445317),h=r(h,d,p,c,y[t+6],23,76029189),c=r(c,h,d,p,y[t+9],4,3654602809),p=r(p,c,h,d,y[t+12],11,3873151461),d=r(d,p,c,h,y[t+15],16,530742520),h=r(h,d,p,c,y[t+2],23,3299628645),c=o(c,h,d,p,y[t+0],6,4096336452),p=o(p,c,h,d,y[t+7],10,1126891415),d=o(d,p,c,h,y[t+14],15,2878612391),h=o(h,d,p,c,y[t+5],21,4237533241),c=o(c,h,d,p,y[t+12],6,1700485571),p=o(p,c,h,d,y[t+3],10,2399980690),d=o(d,p,c,h,y[t+10],15,4293915773),h=o(h,d,p,c,y[t+1],21,2240044497),c=o(c,h,d,p,y[t+8],6,1873313359),p=o(p,c,h,d,y[t+15],10,4264355552),d=o(d,p,c,h,y[t+6],15,2734768916),h=o(h,d,p,c,y[t+13],21,1309151649),c=o(c,h,d,p,y[t+4],6,4149444226),p=o(p,c,h,d,y[t+11],10,3174756917),d=o(d,p,c,h,y[t+2],15,718787259),h=o(h,d,p,c,y[t+9],21,3951481745),c=e(c,s),h=e(h,u),d=e(d,l),p=e(p,f);return(a(c)+a(h)+a(d)+a(p)).toLowerCase()};function Fe(t,e){return new u(t,e)}function Be(t,e){if(e<t.length+11)throw"Message too long for RSA (n="+e+", l="+t.length+")";for(var n=[],i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);r<128?n[--e]=r:r>127&&r<2048?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}for(n[--e]=0,i=new Re,r=[];e>2;){for(r[0]=0;0==r[0];)i.nextBytes(r);n[--e]=r[0]}return n[--e]=2,n[--e]=0,new u(n)}function Le(){this.n=null,this.e=0,this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function Ne(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Fe(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function qe(t){return t.modPowInt(this.e,this.n)}function He(t){return t=Be(t,this.n.bitLength()+7>>3),null==t?null:(t=this.doPublic(t),null==t?null:(t=t.toString(16),0==(1&t.length)?t:"0"+t))}function je(t,e){for(var n=t.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=e-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var o=255&n[i];o<128?r+=String.fromCharCode(o):o>191&&o<224?(r+=String.fromCharCode((31&o)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&o)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}function Ue(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Fe(t,16),this.e=parseInt(e,16),this.d=Fe(n,16)):alert("Invalid RSA private key")}function We(t,e,n,i,r,o,a,s){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=Fe(t,16),this.e=parseInt(e,16),this.d=Fe(n,16),this.p=Fe(i,16),this.q=Fe(r,16),this.dmp1=Fe(o,16),this.dmq1=Fe(a,16),this.coeff=Fe(s,16)):alert("Invalid RSA private key")}function Ge(t,e){var n=new pe,i=t>>1;this.e=parseInt(e,16);for(var r=new u(e,16);;){for(;;)if(this.p=new u(t-i,1,n),0==this.p.subtract(u.ONE).gcd(r).compareTo(u.ONE)&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new u(i,1,n),0==this.q.subtract(u.ONE).gcd(r).compareTo(u.ONE)&&this.q.isProbablePrime(10))break;if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}o=this.p.subtract(u.ONE);var a=this.q.subtract(u.ONE),s=o.multiply(a);if(0==s.gcd(r).compareTo(u.ONE)){this.n=this.p.multiply(this.q),this.d=r.modInverse(s),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}}function Ve(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);var e=t.mod(this.p).modPow(this.dmp1,this.p);for(t=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(t)<0;)e=e.add(this.p);return e.subtract(t).multiply(this.coeff).mod(this.p).multiply(this.q).add(t)}function Ye(t){return t=this.doPrivate(Fe(t,16)),null==t?null:je(t,this.n.bitLength()+7>>3)}Le.prototype.doPublic=qe,Le.prototype.setPublic=Ne,Le.prototype.encrypt=He,Le.prototype.doPrivate=Ve,Le.prototype.setPrivate=Ue,Le.prototype.setPrivateEx=We,Le.prototype.generate=Ge,Le.prototype.decrypt=Ye;var Xe=[];Xe.sha1="3021300906052b0e03021a05000414",Xe.sha256="3031300d060960864801650304020105000420";var Je=[];function $e(t,e,n){e/=4;t=(0,Je[n])(t),n="00"+Xe[n]+t,t="",e=e-4-n.length;for(var i=0;i<e;i+=2)t+="ff";return sPaddedMessageHex="0001"+t+n}function Ke(t,e){var n=$e(t,this.n.bitLength(),e);return this.doPrivate(Fe(n,16)).toString(16)}function Ze(t){return t=$e(t,this.n.bitLength(),"sha1"),this.doPrivate(Fe(t,16)).toString(16)}function Qe(t){return t=$e(t,this.n.bitLength(),"sha256"),this.doPrivate(Fe(t,16)).toString(16)}function tn(t,e,n){var i=new Le;return i.setPublic(e,n),i.doPublic(t)}function en(t,e,n){return tn(t,e,n).toString(16).replace(/^1f+00/,"")}function nn(t){for(var e in Xe){var n=Xe[e],i=n.length;if(t.substring(0,i)==n)return[e,t.substring(i)]}return[]}function rn(t,e,n,i){return e=en(e,n,i),n=nn(e),0!=n.length&&(e=n[1],t=(0,Je[n[0]])(t),e==t)}function on(t,e){var n=Fe(t,16);return rn(e,n,this.n.toString(16),this.e.toString(16))}function an(t,e){e=e.replace(/[ \n]+/g,"");var n=this.doPublic(Fe(e,16)).toString(16).replace(/^1f+00/,""),i=nn(n);return 0!=i.length&&(n=i[1],i=(0,Je[i[0]])(t),n==i)}Je.sha1=Ae.hex,Je.sha256=Ie.hex,Le.prototype.signString=Ke,Le.prototype.signStringWithSHA1=Ze,Le.prototype.signStringWithSHA256=Qe,Le.prototype.verifyString=an,Le.prototype.verifyHexSignatureForMessage=on;var sn=function(){var t={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],Init:function(){t.Sbox_Inv=Array(256);for(var e=0;e<256;e++)t.Sbox_Inv[t.Sbox[e]]=e;for(t.ShiftRowTab_Inv=Array(16),e=0;e<16;e++)t.ShiftRowTab_Inv[t.ShiftRowTab[e]]=e;for(t.xtime=Array(256),e=0;e<128;e++)t.xtime[e]=e<<1,t.xtime[128+e]=e<<1^27},Done:function(){delete t.Sbox_Inv,delete t.ShiftRowTab_Inv,delete t.xtime},ExpandKey:function(e){var n,i=e.length,r=1;switch(i){case 16:n=176;break;case 24:n=208;break;case 32:n=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var o=i;o<n;o+=4){var a=e.slice(o-4,o);o%i==0?(a=[t.Sbox[a[1]]^r,t.Sbox[a[2]],t.Sbox[a[3]],t.Sbox[a[0]]],(r<<=1)>=256&&(r^=283)):i>24&&o%i==16&&(a=[t.Sbox[a[0]],t.Sbox[a[1]],t.Sbox[a[2]],t.Sbox[a[3]]]);for(var s=0;s<4;s++)e[o+s]=e[o+s-i]^a[s]}},Encrypt:function(e,n){var i=n.length;t.AddRoundKey(e,n.slice(0,16));for(var r=16;r<i-16;r+=16)t.SubBytes(e,t.Sbox),t.ShiftRows(e,t.ShiftRowTab),t.MixColumns(e),t.AddRoundKey(e,n.slice(r,r+16));t.SubBytes(e,t.Sbox),t.ShiftRows(e,t.ShiftRowTab),t.AddRoundKey(e,n.slice(r,i))},Decrypt:function(e,n){var i=n.length;for(t.AddRoundKey(e,n.slice(i-16,i)),t.ShiftRows(e,t.ShiftRowTab_Inv),t.SubBytes(e,t.Sbox_Inv),i-=32;i>=16;i-=16)t.AddRoundKey(e,n.slice(i,i+16)),t.MixColumns_Inv(e),t.ShiftRows(e,t.ShiftRowTab_Inv),t.SubBytes(e,t.Sbox_Inv);t.AddRoundKey(e,n.slice(0,16))},SubBytes:function(t,e){for(var n=0;n<16;n++)t[n]=e[t[n]]},AddRoundKey:function(t,e){for(var n=0;n<16;n++)t[n]^=e[n]},ShiftRows:function(t,e){for(var n=[].concat(t),i=0;i<16;i++)t[i]=n[e[i]]},MixColumns:function(e){for(var n=0;n<16;n+=4){var i=e[n+0],r=e[n+1],o=e[n+2],a=e[n+3],s=i^r^o^a;e[n+0]^=s^t.xtime[i^r],e[n+1]^=s^t.xtime[r^o],e[n+2]^=s^t.xtime[o^a],e[n+3]^=s^t.xtime[a^i]}},MixColumns_Inv:function(e){for(var n=0;n<16;n+=4){var i=e[n+0],r=e[n+1],o=e[n+2],a=e[n+3],s=i^r^o^a,u=t.xtime[s],l=t.xtime[t.xtime[u^i^o]]^s;s^=t.xtime[t.xtime[u^r^a]],e[n+0]^=l^t.xtime[i^r],e[n+1]^=s^t.xtime[r^o],e[n+2]^=l^t.xtime[o^a],e[n+3]^=s^t.xtime[a^i]}}};return t}(),un=function(){var t={};return sn.Init(),t.b256to64=function(t){var e,n,i,r="",o=0,a=t.length;for(i=0;i<a;i++)n=t.charCodeAt(i),0==o?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2&63),e=(3&n)<<4):1==o?(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e|n>>4&15),e=(15&n)<<2):2==o&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e|n>>6&3),1,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n)),1,o+=1,3==o&&(o=0);return o>0&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e),r+="="),1==o&&(r+="="),r},t.b64to256=function(t){var e,n,i="",r=0,o=0,a=t.length;for(n=0;n<a;n++)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(n)),e>=0&&(r&&(i+=String.fromCharCode(o|e>>6-r&255)),r=r+2&7,o=e<<r&255);return i},t.b16to64=function(t){var e,n,i="";for(t.length%2==1&&(t="0"+t),e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i},t.b64to16=function(t){var e,n,i="",r=0;for(e=0;e<t.length;++e){if("="==t.charAt(e))break;v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e)),v<0||(0==r?(i+=S(v>>2),n=3&v,r=1):1==r?(i+=S(n<<2|v>>4),n=15&v,r=2):2==r?(i+=S(n),i+=S(v>>2),n=3&v,r=3):(i+=S(n<<2|v>>4),i+=S(15&v),r=0))}return 1==r&&(i+=S(n<<2)),i},t.string2bytes=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e},t.bytes2string=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t.blockXOR=function(t,e){for(var n=Array(16),i=0;i<16;i++)n[i]=t[i]^e[i];return n},t.blockIV=function(){var t=new Re,e=Array(16);return t.nextBytes(e),e},t.pad16=function(t){var e=t.slice(0),n=(16-t.length%16)%16;for(i=t.length;i<t.length+n;i++)e.push(0);return e},t.depad=function(t){for(t=t.slice(0);0==t[t.length-1];)t=t.slice(0,t.length-1);return t},t.encryptAESCBC=function(e,n){var i=n.slice(0);sn.ExpandKey(i);for(var r=t.string2bytes(e),o=(r=t.pad16(r),t.blockIV()),a=0;a<r.length/16;a++){var s=r.slice(16*a,16*a+16),u=o.slice(16*a,16*a+16);s=t.blockXOR(u,s);sn.Encrypt(s,i),o=o.concat(s)}return i=t.bytes2string(o),t.b256to64(i)},t.decryptAESCBC=function(e,n){var i=n.slice(0);sn.ExpandKey(i);e=t.b64to256(e);for(var r=t.string2bytes(e),o=[],a=1;a<r.length/16;a++){var s=r.slice(16*a,16*a+16),u=r.slice(16*(a-1),16*(a-1)+16);sn.Decrypt(s,i),s=t.blockXOR(u,s),o=o.concat(s)}return o=t.depad(o),t.bytes2string(o)},t.wrap60=function(t){for(var e="",n=0;n<t.length;n++)n%60==0&&0!=n&&(e+="\n"),e+=t[n];return e},t.generateAESKey=function(){var t=Array(16);return(new Re).nextBytes(t),t},t.generateRSAKey=function(t,e){Math.seedrandom(Ie.hex(t));var n=new Le;return n.generate(e,"10001"),n},t.publicKeyString=function(t){return pubkey=t.n.toString(16)},t.publicKeyID=function(t){return Oe(t)},t.publicKeyFromString=function(t){t=t.split("|")[0];var e=new Le;return e.setPublic(t,"10001"),e},t.encrypt=function(e,n,i){var r="";try{var o=t.publicKeyFromString(n);r+=o.encrypt(e)+"?"}catch(a){return{status:"Invalid public key"}}return{status:"success",cipher:r}},t.decrypt=function(t,e){var n=t.split("?"),i=e.decrypt(n[0]);return{status:"success",plaintext:i,signature:"unsigned"}},t}();t.exports=un},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=n||function(t,e){var n={},i=n.lib={},r=function(){},o=i.Base={extend:function(t){r.prototype=this;var e=new r;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new a.init(n,e)}}),s=n.enc={},u=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new a.init(n,e/2)}},l=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new a.init(n,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);if(e=s*o,r=t.min(4*e,r),e){for(var u=0;u<e;u+=o)this._doProcessBlock(i,u);u=i.splice(0,e),n.sigBytes-=r}return new a.init(u,r)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=c.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=n.algo={};return n}(Math);(function(){var t=n,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var r=0;r<n;r+=3)for(var o=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;4>a&&r+.75*a<n;a++)t.push(i.charAt(o>>>6*(3-a)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,i=this._map,r=i.charAt(64);r&&(r=t.indexOf(r),-1!=r&&(n=r));r=[];for(var o=0,a=0;a<n;a++)if(a%4){var s=i.indexOf(t.charAt(a-1))<<a%4*2,u=i.indexOf(t.charAt(a))>>>6-a%4*2;r[o>>>2]|=(s|u)<<24-o%4*8,o++}return e.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(t){function e(t,e,n,i,r,o,a){return t=t+(e&n|~e&i)+r+a,(t<<o|t>>>32-o)+e}function i(t,e,n,i,r,o,a){return t=t+(e&i|n&~i)+r+a,(t<<o|t>>>32-o)+e}function r(t,e,n,i,r,o,a){return t=t+(e^n^i)+r+a,(t<<o|t>>>32-o)+e}function o(t,e,n,i,r,o,a){return t=t+(n^(e|~i))+r+a,(t<<o|t>>>32-o)+e}for(var a=n,s=a.lib,u=s.WordArray,l=s.Hasher,f=(s=a.algo,[]),c=0;64>c;c++)f[c]=4294967296*t.abs(t.sin(c+1))|0;s=s.MD5=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,n){for(var a=0;16>a;a++){var s=n+a,u=t[s];t[s]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}a=this._hash.words,s=t[n+0],u=t[n+1];var l=t[n+2],c=t[n+3],h=t[n+4],d=t[n+5],p=t[n+6],y=t[n+7],m=t[n+8],v=t[n+9],g=t[n+10],S=t[n+11],b=t[n+12],w=t[n+13],_=t[n+14],P=t[n+15],C=a[0],x=a[1],T=a[2],k=a[3];C=e(C,x,T,k,s,7,f[0]),k=e(k,C,x,T,u,12,f[1]),T=e(T,k,C,x,l,17,f[2]),x=e(x,T,k,C,c,22,f[3]),C=e(C,x,T,k,h,7,f[4]),k=e(k,C,x,T,d,12,f[5]),T=e(T,k,C,x,p,17,f[6]),x=e(x,T,k,C,y,22,f[7]),C=e(C,x,T,k,m,7,f[8]),k=e(k,C,x,T,v,12,f[9]),T=e(T,k,C,x,g,17,f[10]),x=e(x,T,k,C,S,22,f[11]),C=e(C,x,T,k,b,7,f[12]),k=e(k,C,x,T,w,12,f[13]),T=e(T,k,C,x,_,17,f[14]),x=e(x,T,k,C,P,22,f[15]),C=i(C,x,T,k,u,5,f[16]),k=i(k,C,x,T,p,9,f[17]),T=i(T,k,C,x,S,14,f[18]),x=i(x,T,k,C,s,20,f[19]),C=i(C,x,T,k,d,5,f[20]),k=i(k,C,x,T,g,9,f[21]),T=i(T,k,C,x,P,14,f[22]),x=i(x,T,k,C,h,20,f[23]),C=i(C,x,T,k,v,5,f[24]),k=i(k,C,x,T,_,9,f[25]),T=i(T,k,C,x,c,14,f[26]),x=i(x,T,k,C,m,20,f[27]),C=i(C,x,T,k,w,5,f[28]),k=i(k,C,x,T,l,9,f[29]),T=i(T,k,C,x,y,14,f[30]),x=i(x,T,k,C,b,20,f[31]),C=r(C,x,T,k,d,4,f[32]),k=r(k,C,x,T,m,11,f[33]),T=r(T,k,C,x,S,16,f[34]),x=r(x,T,k,C,_,23,f[35]),C=r(C,x,T,k,u,4,f[36]),k=r(k,C,x,T,h,11,f[37]),T=r(T,k,C,x,y,16,f[38]),x=r(x,T,k,C,g,23,f[39]),C=r(C,x,T,k,w,4,f[40]),k=r(k,C,x,T,s,11,f[41]),T=r(T,k,C,x,c,16,f[42]),x=r(x,T,k,C,p,23,f[43]),C=r(C,x,T,k,v,4,f[44]),k=r(k,C,x,T,b,11,f[45]),T=r(T,k,C,x,P,16,f[46]),x=r(x,T,k,C,l,23,f[47]),C=o(C,x,T,k,s,6,f[48]),k=o(k,C,x,T,y,10,f[49]),T=o(T,k,C,x,_,15,f[50]),x=o(x,T,k,C,d,21,f[51]),C=o(C,x,T,k,b,6,f[52]),k=o(k,C,x,T,c,10,f[53]),T=o(T,k,C,x,g,15,f[54]),x=o(x,T,k,C,u,21,f[55]),C=o(C,x,T,k,m,6,f[56]),k=o(k,C,x,T,P,10,f[57]),T=o(T,k,C,x,p,15,f[58]),x=o(x,T,k,C,w,21,f[59]),C=o(C,x,T,k,h,6,f[60]),k=o(k,C,x,T,S,10,f[61]),T=o(T,k,C,x,l,15,f[62]),x=o(x,T,k,C,v,21,f[63]);a[0]=a[0]+C|0,a[1]=a[1]+x|0,a[2]=a[2]+T|0,a[3]=a[3]+k|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var o=t.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash,n=e.words,i=0;4>i;i++)r=n[i],n[i]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return e},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),a.MD5=l._createHelper(s),a.HmacMD5=l._createHmacHelper(s)}(Math),function(){var t=n,e=t.lib,i=e.Base,r=e.WordArray,o=(e=t.algo,e.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var n=this.cfg,i=n.hasher.create(),o=r.create(),a=o.words,s=n.keySize;for(n=n.iterations;a.length<s;){u&&i.update(u);var u=i.update(t).finalize(e);i.reset();for(var l=1;l<n;l++)u=i.finalize(u),i.reset();o.concat(u)}return o.sigBytes=4*s,o}}));t.EvpKDF=function(t,e,n){return o.create(n).compute(t,e)}}(),n.lib.Cipher||function(t){var e=n,i=e.lib,r=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,s=e.enc.Base64,u=e.algo.EvpKDF,l=i.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?y:p).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?y:p).decrypt(t,e,n,i)}}}});i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var f=e.mode={},c=function(e,n,i){var r=this._iv;r?this._iv=t:r=this._prevBlock;for(var o=0;o<i;o++)e[n+o]^=r[o]},h=(i.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();h.Encryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;c.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),h.Decryptor=h.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,r=t.slice(e,e+i);n.decryptBlock(t,e),c.call(this,t,e,i),this._prevBlock=r}}),f=f.CBC=h,h=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,i=(n=n-t.sigBytes%n,n<<24|n<<16|n<<8|n),r=[],a=0;a<n;a+=4)r.push(i);n=o.create(r,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:f,padding:h}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv;t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=i.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),p=(f=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?o.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){t=s.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var n=o.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:n})}},i.SerializableCipher=r.extend({cfg:r.extend({format:f}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var r=t.createEncryptor(n,i);return e=r.finalize(e),r=r.cfg,d.create({ciphertext:e,key:n,iv:r.iv,algorithm:t,mode:r.mode,padding:r.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),y=(e=(e.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=o.random(8)),t=u.create({keySize:e+n}).compute(t,i),n=o.create(t.words.slice(e),4*n),t.sigBytes=4*e,d.create({key:t,iv:n,salt:i})}},i.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:e}),encrypt:function(t,e,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,t=p.encrypt.call(this,t,e,n.key,i),t.mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,p.decrypt.call(this,t,e,n.key,i)}}))}(),function(){for(var t=n,e=t.lib.BlockCipher,i=t.algo,r=[],o=[],a=[],s=[],u=[],l=[],f=[],c=[],h=[],d=[],p=[],y=0;256>y;y++)p[y]=128>y?y<<1:y<<1^283;var m=0,v=0;for(y=0;256>y;y++){var g=v^v<<1^v<<2^v<<3^v<<4;g=g>>>8^255&g^99;r[m]=g,o[g]=m;var S=p[m],b=p[S],w=p[b],_=257*p[g]^16843008*g;a[m]=_<<24|_>>>8,s[m]=_<<16|_>>>16,u[m]=_<<8|_>>>24,l[m]=_,_=16843009*w^65537*b^257*S^16843008*m,f[g]=_<<24|_>>>8,c[g]=_<<16|_>>>16,h[g]=_<<8|_>>>24,d[g]=_,m?(m=S^p[p[p[w^S]]],v^=p[p[v]]):m=v=1}var P=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,i=(t=4*((this._nRounds=n+6)+1),this._keySchedule=[]),o=0;o<t;o++)if(o<n)i[o]=e[o];else{var a=i[o-1];o%n?6<n&&4==o%n&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=a<<8|a>>>24,a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=P[o/n|0]<<24),i[o]=i[o-n]^a}for(e=this._invKeySchedule=[],n=0;n<t;n++)o=t-n,a=n%4?i[o]:i[o-4],e[n]=4>n||4>=o?a:f[r[a>>>24]]^c[r[a>>>16&255]]^h[r[a>>>8&255]]^d[r[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,u,l,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,f,c,h,d,o),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,r,o,a,s){for(var u=this._nRounds,l=t[e]^n[0],f=t[e+1]^n[1],c=t[e+2]^n[2],h=t[e+3]^n[3],d=4,p=1;p<u;p++){var y=i[l>>>24]^r[f>>>16&255]^o[c>>>8&255]^a[255&h]^n[d++],m=i[f>>>24]^r[c>>>16&255]^o[h>>>8&255]^a[255&l]^n[d++],v=i[c>>>24]^r[h>>>16&255]^o[l>>>8&255]^a[255&f]^n[d++];h=i[h>>>24]^r[l>>>16&255]^o[f>>>8&255]^a[255&c]^n[d++],l=y,f=m,c=v}y=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[c>>>8&255]<<8|s[255&h])^n[d++],m=(s[f>>>24]<<24|s[c>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^n[d++],v=(s[c>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^n[d++],h=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&c])^n[d++],t[e]=y,t[e+1]=m,t[e+2]=v,t[e+3]=h},keySize:8});t.AES=e._createHelper(i)}(),e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){if("undefined"!==typeof Symbol){var t=function(){function t(){i(this,t)}return n(t,[{key:"createClientObject",value:function(t,e,n,i){return{socket:t,id:e,playURL:n,deviceSerial:i.deviceSerial||"",verificationCode:i.verificationCode||"",resolve:null,reject:null}}},{key:"playCmd",value:function(t){var e={sequence:0,cmd:"realplay",deviceSerial:t.deviceSerial,verificationCode:t.verificationCode,url:t.playURL};return JSON.stringify(e)}},{key:"playbackCmd",value:function(t,e,n){var i={sequence:0,cmd:"playback",deviceSerial:t.deviceSerial,verificationCode:t.verificationCode,url:t.playURL,startTime:e,endTime:n};return JSON.stringify(i)}}]),t}();return t}}();e.LocalService=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=0,o=1,a=2,s=11,u=16,l=31,f=60,c=61,h=63,d=0,p=1,y=0,m=1,v=0,g=1,S=15,b=8,w=1,_=25,P=20,C=5,x=5242880,T=5e3,k={AUDIO_G711_U:28944,AUDIO_G711_A:28945,AUDIO_G722_1:29217,AUDIO_G726_U:29280,AUDIO_G726_A:29281,AUDIO_G726_2:29282,AUDIO_AACLC:8193,AUDIO_NULL:0},D=!1,M=!1,R={id:null,cmd:null,data:null,errorCode:0,status:null};e.JSPlayCtrl=function(){function t(e,n,c){if(i(this,t),null==e||void 0===e||"string"!==typeof e)return o;if(this.szBasePath=e,!n||"function"!==typeof n)return o;this.fnCallBack=n,this.decodeWorker=null,this.streamOpenMode=null,this.bOpenStream=!1,this.audioRenderer=null,this.aAudioBuffer=[],this.iAudioBufferSize=0,this.oSuperRender=null,this.aVideoFrameBuffer=[],this.YUVBufferSize=w,this.szOSDTime=null,this.bPlaySound=!1,this.bPlay=!1,this.bPause=!1,this.bOnebyOne=!1,this.bPlayRateChange=!1,this.bAudioTypeSupport=!0,this.dataCallBackFun=null,this.nWidth=0,this.nHeight=0,this.sCanvasId=null,this.aDisplayBuf=null,this.bVisibility=!0,this.nDecFrameType=v,this.iCanvasWidth=0,this.iCanvasHeight=0,this.iZoomNum=0,this.iRatio_x=1,this.iRatio_y=1,this.stDisplayRect={top:0,left:0,right:0,bottom:0},this.stYUVRect={top:0,left:0,right:0,bottom:0},this.aInputDataLens=[],this.aInputDataBuffer=[],this.bIsGetYUV=!1,this.bIsFirstFrame=!0,this.iInputMaxBufSize=x,this.bIsInput=!1,this.bIsInputBufOver=!1,this.iInputDataLen=T;var h=this;if(this.setCallBack=function(t,e,n,i,r){var o=R;o.id=c,o.cmd=e,o.data=n,o.errorCode=i,o.status=r,t.fnCallBack(o)},!D){D=!0;var d=document.createElement("script");d.type="text/javascript",d.src=h.szBasePath+"AudioRenderer.js";var p=document.getElementsByTagName("head")[0];p.appendChild(d),d.onload=d.onreadystatechange=function(){!this.readyState||"loaded"===this.readyState||this.readyState}}if(!M){M=!0;var y=document.createElement("script");y.type="text/javascript",y.src=h.szBasePath+"SuperRender_10.js";var m=document.getElementsByTagName("head")[0];m.appendChild(y),y.onload=y.onreadystatechange=function(){!this.readyState||"loaded"===this.readyState||this.readyState};var g=document.createElement("script");g.type="text/javascript",g.src=h.szBasePath+"SuperRender_20.js";var E=document.getElementsByTagName("head")[0];E.appendChild(g),g.onload=g.onreadystatechange=function(){!this.readyState||"loaded"===this.readyState||this.readyState}}this.convertErrorCode=function(t){switch(t){case 1:return r;case 98:return o;default:return t}},this.checkAudioType=function(t){var e=function(t,e){var n=255&t[e]|(255&t[e+1])<<8|(255&t[e+2])<<16|(255&t[e+3])<<24;return n},n=[t[12],t[13],0,0],i=e(n,0);switch(i){case k.AUDIO_G711_A:case k.AUDIO_G711_U:case k.AUDIO_G722_1:case k.AUDIO_G726_2:case k.AUDIO_G726_A:case k.AUDIO_G726_U:case k.AUDIO_AACLC:return r;default:return u}},this.arrayBufferCopy=function(t){var e=t.byteLength,n=new Uint8Array(e),i=new Uint8Array(t),r=0;for(r=0;r<e;r++)n[r]=i[r];return n},this.inputDataFun=function(){var t,e=0;if(h.bIsGetYUV=!1,h.bIsInputBufOver)t=new Uint8Array(1);else{while(h.aInputDataLens.length>0)if(e+=h.aInputDataLens.shift(),e>h.iInputDataLen)break;t=h.aInputDataBuffer.splice(0,e)}var n=new Uint8Array(t),i={command:"InputData",data:n.buffer,dataSize:e};h.bPlay&&(h.bPause?h.bOnebyOne&&h.decodeWorker.postMessage(i,[i.data]):h.decodeWorker.postMessage(i,[i.data])),t=null,n=null},this.getPic=function(t,e){if(null==this.decodeWorker||null==this.oSuperRender)return a;if(!this.bPlay)return a;if(!t||"function"!==typeof t)return o;if(this.dataCallBackFun=t,0===this.iZoomNum)this.stYUVRect.left=0,this.stYUVRect.top=0,this.stYUVRect.right=0,this.stYUVRect.bottom=0;else{if(0===this.iCanvasWidth||0===this.iCanvasHeight)this.stYUVRect.left=0,this.stYUVRect.top=0,this.stYUVRect.right=0,this.stYUVRect.bottom=0;else{var n=this.nWidth/this.iCanvasWidth,i=this.nHeight/this.iCanvasHeight;this.stYUVRect.left=Math.round(this.stDisplayRect.left*n),this.stYUVRect.top=Math.round(this.stDisplayRect.top*i),this.stYUVRect.right=Math.round(this.stDisplayRect.right*n),this.stYUVRect.bottom=Math.round(this.stDisplayRect.bottom*i)}if(this.stYUVRect.right-this.stYUVRect.left<32||this.stYUVRect.bottom-this.stYUVRect.top<32)return o}if(null==this.aDisplayBuf)return a;var s=this.arrayBufferCopy(this.aDisplayBuf),u={command:e,data:s.buffer,width:this.nWidth,height:this.nHeight,rect:this.stYUVRect};return this.decodeWorker.postMessage(u,[u.data]),r},this.createWorker=function(t){if(window.Worker){if(null==this.decodeWorker&&(this.decodeWorker=new Worker(h.szBasePath+"DecodeWorker.js"),null==this.decodeWorker))return f;this.decodeWorker.onmessage=function(e){var n=null,i=e.data;switch(i.function){case"loaded":n="loaded",t.setCallBack(t,"loaded",0,0,!0);break;case"SetStreamOpenMode":n="SetStreamOpenMode";break;case"OpenStream":n="OpenStream";break;case"InputData":n="InputData",i.errorCode===s&&(h.bIsInputBufOver=!0,h.inputDataFun()),i.errorCode===l&&(h.bIsInputBufOver=!1);break;case"GetFrameData":if(n="GetFrameData",!h.bIsFirstFrame&&i.errorCode===l){h.bIsInputBufOver=!1,setTimeout(h.inputDataFun(),5);break}if(h.bIsInputBufOver?h.inputDataFun():"videoType"===i.type&&(h.aInputDataLens.length>0&&h.bIsInput?(h.inputDataFun(),h.bIsInput=!1):h.bIsGetYUV=!0,h.bIsFirstFrame=!1),h.bVisibility)switch(i.type){case"videoType":if(null==i.data||null==i.frameInfo)return o;h.bIsFirstFrame=!1,t.nWidth=i.frameInfo.width,t.nHeight=i.frameInfo.height;var r=new Object;r.data=i.data,r.osdTime=i.osd,t.aVideoFrameBuffer.push(r),r=null;var a=t.aVideoFrameBuffer.length;if(a>P&&(t.bOnebyOne||t.aVideoFrameBuffer.splice(0,C)),t.bOnebyOne&&t.aVideoFrameBuffer.length>=S){t.setCallBack(t,"OnebyOne",0,0,!1),t.bIsFirstFrame=!0;break}break;case"audioType":if(t.bPlaySound&&!t.bPlayRateChange){for(var f=new Uint8Array(i.data),c=t.aAudioBuffer.length,d=0,p=f.length;d<p;d++)t.aAudioBuffer[c+d]=f[d];t.iAudioBufferSize++,f=null,t.iAudioBufferSize>=_&&(t.audioRenderer.Play(t.aAudioBuffer,t.aAudioBuffer.length,i.frameInfo),t.aAudioBuffer.splice(0,t.aAudioBuffer.length),t.aAudioBuffer.length=0,t.iAudioBufferSize=0)}break;case"privateType":break;default:break}break;case"PlaySound":n="PlaySound";break;case"GetJPEG":n="GetJPEG";var y=i.data;t.dataCallBackFun(y);break;case"GetBMP":n="GetBMP";var m=i.data;t.dataCallBackFun(m);break;default:break}("GetFrameData"!==n||u===i.errorCode)&&t.setCallBack(t,n,0,t.convertErrorCode(i.errorCode),!0)}}},this.createWorker(h),this.draw=function(){if(h.bPlay){h.bPause||requestAnimationFrame(h.draw);var t=h.aVideoFrameBuffer.length;if(h.bOnebyOne&&t<=b&&h.setCallBack(h,"OnebyOne",0,l,!0),t>h.YUVBufferSize){var e=h.aVideoFrameBuffer.shift();h.aDisplayBuf=e.data;var n=new Uint8Array(h.aDisplayBuf);h.oSuperRender.SR_DisplayFrameData(h.nWidth,h.nHeight,n),n=null,h.szOSDTime=e.osdTime,e=null}}else h.bPlay||(h.aVideoFrameBuffer.splice(0,h.aVideoFrameBuffer.length),h.aAudioBuffer.splice(0,h.aAudioBuffer.length))}}return n(t,[{key:"PlayM4_SetStreamOpenMode",value:function(t){return null==t||void 0===t||t!==y&&t!==m?o:(this.streamOpenMode=t,r)}},{key:"PlayM4_OpenStream",value:function(t,e,n){if(null==this.decodeWorker)return a;if(null==t||e<=0||n<=0)return o;var i=this.checkAudioType(t);return this.bAudioTypeSupport=r===i,this.bPlay=!1,this.bPause=!1,this.bOnebyOne=!1,this.bIsFirstFrame=!0,this.bIsGetYUV=!1,this.bIsInput=!1,this.decodeWorker.postMessage({command:"SetStreamOpenMode",data:this.streamOpenMode}),this.decodeWorker.postMessage({command:"OpenStream",data:t,dataSize:e,bufPoolSize:n}),this.bOpenStream=!0,r}},{key:"PlayM4_CloseStream",value:function(){return null===this.decodeWorker||!1===this.bOpenStream?a:(this.PlayM4_Stop(),this.decodeWorker.postMessage({command:"CloseStream"}),null!==this.oSuperRender&&(this.oSuperRender.SR_Destroy(),this.oSuperRender=null),null!==this.audioRenderer&&(this.audioRenderer.Stop(),this.audioRenderer=null),this.aAudioBuffer.splice(0,this.aAudioBuffer.length),this.aVideoFrameBuffer.splice(0,this.aVideoFrameBuffer.length),this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length),this.aInputDataLens.splice(0,this.aInputDataLens.length),this.bOpenStream=!1,this.iAudioBufferSize=0,r)}},{key:"PlayM4_Destroy",value:function(){return null===this.decodeWorker||(this.PlayM4_CloseStream(),this.decodeWorker.terminate(),this.decodeWorker=null),r}},{key:"PlayM4_InputData",value:function(t,e){if(null===this.decodeWorker||!1===this.bOpenStream)return a;var n=this.aInputDataBuffer.length;if(4===e){var i=new Uint8Array(t.buffer);if(1===i[0]&&2===i[1]&&3===i[2]&&4===i[3])return this.bIsFirstFrame||this.bIsGetYUV?this.inputDataFun():this.bIsInput=!0,i=null,r}if(n>this.iInputMaxBufSize)return s;var o=null,l=e;switch(this.streamOpenMode){case m:o=new Uint8Array(t.buffer),this.aInputDataLens.push(e);break;case y:l=e+4;var f=new Uint32Array([e]),c=new Uint8Array(f.buffer);o=new Uint8Array(l),o.set(c,0),o.set(t,4),f=null,c=null,this.aInputDataLens.push(e+4);break;default:return u}for(var h=0;h<l;h++)this.aInputDataBuffer[n+h]=o[h];return o=null,this.bIsFirstFrame||this.bIsGetYUV?this.inputDataFun():this.bIsInput=!0,r}},{key:"PlayM4_Play",value:function(t){if(null===this.decodeWorker||!1===this.bOpenStream)return a;if(null!==t&&"string"!==typeof t)return o;if(this.bOnebyOne&&(this.bPlayRateChange=!1,this.bOnebyOne=!1,this.bPause=!1,this.draw()),this.bPlay)return r;if(null==this.oSuperRender){var e=document.getElementById(t),n=e.getContext("webgl2");if(this.oSuperRender=n?new SuperRender2(t,this.szBasePath):new SuperRender(t,this.szBasePath),null==this.oSuperRender)return c}return null==this.audioRenderer&&(this.audioRenderer=new AudioRenderer,null==this.audioRenderer)?c:(this.sCanvasId=t,this.bPlay=!0,this.bPause=!1,this.bOnebyOne=!1,this.bPlaySound=!1,this.bPlayRateChange=!1,this.draw(),r)}},{key:"PlayM4_Stop",value:function(){return null==this.decodeWorker||null==this.oSuperRender?a:this.bPlay?(this.bPlaySound&&(this.PlayM4_StopSound(),this.bPlaySound=!0),this.bPlay=!1,this.bOnebyOne=!1,this.bPause=!1,this.oSuperRender.SR_SetDisplayRect(null),this.iZoomNum=0,this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null),r):a}},{key:"PlayM4_PlayRate",value:function(t){return null==this.decodeWorker?a:(this.bPlayRateChange=1!==t,t<1&&(t=1),this.iInputDataLen=t*T,r)}},{key:"PlayM4_Pause",value:function(t){return null==this.decodeWorker||null==this.oSuperRender?a:this.bPlay?this.bOnebyOne?a:"boolean"!==typeof t?o:(this.bPause=t,this.bIsFirstFrame=!0,t?this.bPlaySound&&(this.PlayM4_StopSound(),this.bPlaySound=!0):(this.bPlaySound&&this.PlayM4_PlaySound(),this.draw()),r):a}},{key:"PlayM4_OneByOne",value:function(){return null==this.decodeWorker||null==this.oSuperRender?a:this.bPlay?(this.iInputDataLen=T,this.bPause=!0,this.bOnebyOne=!0,this.bPlayRateChange=!0,this.draw(),r):a}},{key:"PlayM4_PlaySound",value:function(t){return null===this.decodeWorker||!1===this.bOpenStream?a:this.bAudioTypeSupport?t<0||t>16?o:null==this.audioRenderer&&(this.audioRenderer=new AudioRenderer,null==this.audioRenderer)?c:(this.audioRenderer.SetWndNum(t),this.bPlaySound=!0,r):u}},{key:"PlayM4_StopSound",value:function(){return null==this.decodeWorker||null==this.audioRenderer?a:this.bPlaySound?(this.bPlaySound=!1,r):a}},{key:"PlayM4_SetDisplayBuf",value:function(t){return null==this.decodeWorker?a:t<=0?o:(this.YUVBufferSize=t,r)}},{key:"PlayM4_SetSecretKey",value:function(t,e,n){if(null==this.decodeWorker||!1===this.bOpenStream)return a;if(null==e)return o;if(p===t){if(128!==n)return o;if(null==e||void 0===e)return o}else if(d!==t)return o;return this.decodeWorker.postMessage({command:"SetSecretKey",data:e,nKeyType:t,nKeyLen:n}),r}},{key:"PlayM4_SetDecodeFrameType",value:function(t){return null==this.decodeWorker||null==this.oSuperRender?a:t!==v&&t!==g?o:(this.nDecFrameType=t,this.decodeWorker.postMessage({command:"SetDecodeFrameType",data:t}),r)}},{key:"PlayM4_SetIFrameDecInterval",value:function(t){return this.nDecFrameType!==g?a:t<0?o:(this.decodeWorker.postMessage({command:"SetIFrameDecInterval",data:t}),r)}},{key:"PlayM4_SetDisplayRegion",value:function(t,e){if(null===this.decodeWorker||!1===this.bPlay||null===this.oSuperRender)return a;if(null===this.canvasId)return a;if(!0===e){if(null===t||void 0===t)return o;if("number"!==typeof t.left||"number"!==typeof t.top||"number"!==typeof t.right||"number"!==typeof t.bottom)return o;if(t.right<0||t.left<0||t.top<0||t.bottom<0)return o;var n=t.left,i=t.right,s=t.top,u=t.bottom;if(i-n<16||u-s<16||i-n>this.nWidth||u-s>this.nHeight)return o;var l=document.getElementById(this.sCanvasId).getBoundingClientRect();this.iCanvasWidth=l.width,this.iCanvasHeight=l.height,0!==this.iZoomNum&&(n=Math.round(n/this.iRatio_x)+this.stDisplayRect.left,s=Math.round(s/this.iRatio_y)+this.stDisplayRect.top,i=Math.round(i/this.iRatio_x)+this.stDisplayRect.left,u=Math.round(u/this.iRatio_y)+this.stDisplayRect.top),this.stDisplayRect={top:s,left:n,right:i,bottom:u},this.oSuperRender.SR_SetDisplayRect(this.stDisplayRect);var f=i-n,c=u-s;this.iRatio_x=this.iCanvasWidth/f,this.iRatio_y=this.iCanvasHeight/c,this.iZoomNum++}else this.oSuperRender.SR_SetDisplayRect(null),this.iZoomNum=0;return(this.bPause||this.bOnebyOne||this.bPlayRateChange)&&this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,new Uint8Array(this.aDisplayBuf)),r}},{key:"PlayM4_GetBMP",value:function(t){return this.getPic(t,"GetBMP")}},{key:"PlayM4_GetJPEG",value:function(t){return this.getPic(t,"GetJPEG")}},{key:"PlayM4_SetVolume",value:function(t){return null==this.decodeWorker||null==this.audioRenderer?a:t<0||t>100?o:(this.audioRenderer.SetVolume(t/100),r)}},{key:"PlayM4_GetVolume",value:function(t){if(null==this.decodeWorker)return a;if(null==this.audioRenderer)return a;if(t&&"function"===typeof t){var e=this.audioRenderer.GetVolume();return null===e?h:(t(10*Math.round(10*e)),r)}return o}},{key:"PlayM4_GetOSDTime",value:function(t){return null==this.decodeWorker?a:this.bPlay?t&&"function"===typeof t?(t(this.szOSDTime),r):o:a}},{key:"PlayM4_IsVisible",value:function(t){return this.bVisibility=t,r}},{key:"PlayM4_GetSdkVersion",value:function(){return"07020115"}},{key:"PlayM4_GetInputBufSize",value:function(){return this.aInputDataBuffer.length}},{key:"PlayM4_SetInputBufSize",value:function(t){return t>0?(this.iInputMaxBufSize=t,r):o}},{key:"PlayM4_GetYUVBufSize",value:function(){return this.aVideoFrameBuffer.length}},{key:"PlayM4_ClearCanvas",value:function(){return null==this.oSuperRender?a:(this.oSuperRender.SR_DisplayFrameData(this.nWidth,this.nHeight,null),r)}},{key:"PlayM4_ReleaseInputBuffer",value:function(){return null===this.aInputDataBuffer?a:(this.aInputDataBuffer.splice(0,this.aInputDataBuffer.length),this.aInputDataLens.splice(0,this.aInputDataLens.length),r)}},{key:"PlayM4_GetDecodeFrameType",value:function(){return this.nDecFrameType}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StorageManager=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),o=s(r),a=n(1);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l="Web/RecordFiles/",f="Web/PlaybackFiles/",c=1e3,h=1,d=3001;window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.URL=window.URL||window.webkitURL;var p=function(){function t(e,n,i,r){u(this,t),this.szUUID=e,this.szFileName=n,this.iStreamType=i,this.szPath="",this.bStart=!1,this.aStreamList=[],this.options=r}return i(t,[{key:"init",value:function(){var t=this;0===this.iStreamType?this.szPath=l:1===this.iStreamType&&(this.szPath=f),this.szPath+=this.getDateDir();var e=t.szPath.split("/"),n=new Promise((function(n){window.requestFileSystem(window.TEMPORARY,t.options.iFileSize,(function(i){t.createDir(i.root,e,(function(){n()}))}),t.errorHandler)}));return n}},{key:"getDateDir",value:function(){return a.oTool.dateFormat(new Date,"yyyy-MM-dd")}},{key:"createDir",value:function(t,e,n){var i=this;e.length?t.getDirectory(e[0],{create:!0},(function(t){i.createDir(t,e.slice(1),n)}),i.errorHandler):n()}},{key:"errorHandler",value:function(){}},{key:"writeFileHeader",value:function(t){var e=this;window.requestFileSystem(window.TEMPORARY,e.options.iFileSize,(function(n){n.root.getFile(e.szPath+"/"+e.szFileName,{create:!0},(function(n){n.createWriter((function(n){n.onwriteend=function(){e.bStart=!0,e.writeFile(n)},n.onerror=function(){},n.seek(n.length);var i=new Blob([t]);n.write(i)}),e.errorHandler)}),e.errorHandler)}),e.errorHandler)}},{key:"writeFileContent",value:function(t){this.aStreamList.push(t)}},{key:"writeFile",value:function(t){var e=this;if(this.bStart)if(this.aStreamList.length>0){var n=this.aStreamList.shift();if(t.seek(t.length),t.length>=this.options.iFileSize)return void(this.options.cbEventHandler&&this.options.cbEventHandler(d,this.szUUID));var i=new Blob([n]);t.write(i)}else setTimeout((function(){e.writeFile(t)}),c)}},{key:"stopWriteFile",value:function(){var t=this;this.bStart=!1,this.aStreamList.length=0;var e=new Promise((function(e){window.requestFileSystem(window.TEMPORARY,t.options.iFileSize,(function(n){n.root.getFile(t.szPath+"/"+t.szFileName,{create:!1},(function(t){t.file((function(t){e(),a.oTool.downloadFile(t,t.name)}))}),t.errorHandler)}),t.errorHandler)}));return e}}]),t}(),y=function(){function t(e,n,i,r,o,a,s){u(this,t),this.szBasePath=e,this.szUUID=n,this.szFileName=i,this.aHeadBuf=new Uint8Array(r),this.iPackType=o,this.iStreamType=a,this.oWorker=null,this.oFileSystem=null,this.options=s}return i(t,[{key:"init",value:function(){var t=this,e=new Promise((function(e,n){t.initFileSystem().then((function(){t.initWorker().then((function(){e(t.szUUID)}),(function(t){n(t)}))}),(function(t){n(t)}))}));return e}},{key:"initFileSystem",value:function(){var t=this;this.oFileSystem=new p(this.szUUID,this.szFileName,this.iStreamType,this.options);var e=new Promise((function(e,n){t.oFileSystem.init().then((function(){e()}),(function(t){n(t)}))}));return e}},{key:"initWorker",value:function(){var t=this,e=new Promise((function(e){t.oWorker=new Worker(t.szBasePath+"/systemTransform-worker.min.js"),t.oWorker.onmessage=function(n){var i=n.data;if("loaded"===i.type)t.oWorker.postMessage({type:"create",buf:t.aHeadBuf.buffer,len:40,packType:t.iPackType},[t.aHeadBuf.buffer]);else if("created"===i.type)e();else if("outputData"===i.type){var r=new Uint8Array(i.buf);h===i.dType?t.oFileSystem.writeFileHeader(r):t.oFileSystem.writeFileContent(r)}}}));return e}},{key:"inputData",value:function(t){if(this.oWorker){var e=new Uint8Array(t);this.oWorker.postMessage({type:"inputData",buf:e.buffer,len:e.length},[e.buffer])}}},{key:"stopRecord",value:function(){var t=this,e=new Promise((function(e,n){t.oWorker?t.oWorker.postMessage({type:"release"}):n(),t.oFileSystem?t.oFileSystem.stopWriteFile().then((function(){e()}),(function(){n()})):n()}));return e}}]),t}(),m=function(){if("undefined"!==typeof Symbol){var t=Symbol("STORAGELIST"),e=function(){function e(n,i){u(this,e),this.szBasePath=n,this[t]={},this.options={iFileSize:1073741824},Object.assign(this.options,i)}return i(e,[{key:"startRecord",value:function(e,n,i,r,a){var s=this,u=o.default.v4(),l=Object.assign({},this.options,a),f=new y(this.szBasePath,u,e,n,i,r,l),c=new Promise((function(e,n){f.init().then((function(n){s[t][n]=f,e(n)}),(function(t){n(t)}))}));return c}},{key:"inputData",value:function(e,n){var i=this[t][e];i&&i.inputData(n)}},{key:"stopRecord",value:function(e){var n=this,i=new Promise((function(i,r){var o=n[t][e];o?o.stopRecord().then((function(){delete n[t][e],i()}),(function(){r()})):r()}));return i}}]),e}();return e}}();e.StorageManager=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ESCanvas=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(17),o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=function(){if("undefined"!==typeof Symbol){var t=null,e=Symbol("CANVAS"),n=Symbol("CONTEXT"),r=Symbol("SHAPES"),a=Symbol("DRAWSTATUS"),f=Symbol("SHAPETYPE"),c=Symbol("MAXSHAPENUMSUPPORT"),h=Symbol("SHAPESTYLE"),d=Symbol("POLYGONDRAWING"),p=Symbol("CURRENTSHAPEINFO"),y=Symbol("DRAWSHAPEMULTIONETIME"),m=Symbol("EVENTCALLBACK"),v=function(){function e(){l(this,e),this.m_szId="",this.m_aPoint=[],this.m_bChoosed=!1,this.m_szDrawColor=t[h].szDrawColor,this.m_szFillColor=t[h].szFillColor,this.m_iTranslucent=t[h].iTranslucent,this.m_iIndexChoosePoint=-1,this.m_iDriftStartX=0,this.m_iDriftStartY=0,this.m_oEdgePoints={top:{x:0,y:0},left:{x:0,y:0},right:{x:0,y:0},bottom:{x:0,y:0}},this.m_szTips="",this.m_iEditType=0,this.m_iMinClosed=3,this.m_iMaxPointNum=11,this.m_bClosed=!1}return i(e,[{key:"draw",value:function(){}},{key:"drag",value:function(e,n){var i=this.m_aPoint.length,r=0;for(r=0;r<i;r++)if(this.m_aPoint[r][0]+e-this.m_iDriftStartX>t.m_iCanvasWidth||this.m_aPoint[r][1]+n-this.m_iDriftStartY>t.m_iCanvasHeight||this.m_aPoint[r][0]+e-this.m_iDriftStartX<0||this.m_aPoint[r][1]+n-this.m_iDriftStartY<0)return this.m_iDriftStartX=e,void(this.m_iDriftStartY=n);for(r=0;r<i;r++)this.m_aPoint[r][0]=this.m_aPoint[r][0]+e-this.m_iDriftStartX,this.m_aPoint[r][1]=this.m_aPoint[r][1]+n-this.m_iDriftStartY;this.m_iDriftStartX=e,this.m_iDriftStartY=n,this.setPointInfo(this.m_aPoint),C()}},{key:"stretch",value:function(t,e){0===this.m_iEditType&&(-1!==this.m_iIndexChoosePoint&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=t,this.m_aPoint[this.m_iIndexChoosePoint][1]=e),this.setPointInfo(this.m_aPoint),C())}},{key:"inShape",value:function(t,e){for(var n=!1,i=this.m_aPoint.length,r=0,o=i-1;r<i;o=r++)this.m_aPoint[r][1]>e!==this.m_aPoint[o][1]>e&&t<(this.m_aPoint[o][0]-this.m_aPoint[r][0])*(e-this.m_aPoint[r][1])/(this.m_aPoint[o][1]-this.m_aPoint[r][1])+this.m_aPoint[r][0]&&(n=!n);return n}},{key:"inArc",value:function(t,e,n){for(var i=!1,r=0,o=this.m_aPoint.length;r<o;r++){var a=Math.sqrt((t-this.m_aPoint[r][0])*(t-this.m_aPoint[r][0])+(e-this.m_aPoint[r][1])*(e-this.m_aPoint[r][1]));if(a<n){i=!0,this.m_iIndexChoosePoint=r;break}}return i}},{key:"getMouseDownPoints",value:function(t,e){this.m_iDriftStartX=t,this.m_iDriftStartY=e}},{key:"getPointInfo",value:function(){return this.m_aPoint}},{key:"setPointInfo",value:function(t){null!==t&&"undefined"!==typeof t&&t.length>0&&(this.m_aPoint=t,this.setEdgePoints(t))}},{key:"addPoint",value:function(t,e){this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.push([t,e]),this.m_aPoint.length===this.m_iMaxPointNum&&this.setPointInfo(this.m_aPoint)}},{key:"setEdgePoints",value:function(t){for(var e=0,n=t.length;e<n;e++)0===e?(this.m_oEdgePoints.top.x=t[e][0],this.m_oEdgePoints.top.y=t[e][1],this.m_oEdgePoints.left.x=t[e][0],this.m_oEdgePoints.left.y=t[e][1],this.m_oEdgePoints.right.x=t[e][0],this.m_oEdgePoints.right.y=t[e][1],this.m_oEdgePoints.bottom.x=t[e][0],this.m_oEdgePoints.bottom.y=t[e][1]):(t[e][1]<this.m_oEdgePoints.top.y&&(this.m_oEdgePoints.top.x=t[e][0],this.m_oEdgePoints.top.y=t[e][1]),t[e][0]>this.m_oEdgePoints.right.x&&(this.m_oEdgePoints.right.x=t[e][0],this.m_oEdgePoints.right.y=t[e][1]),t[e][1]>this.m_oEdgePoints.bottom.y&&(this.m_oEdgePoints.bottom.x=t[e][0],this.m_oEdgePoints.bottom.y=t[e][1]),t[e][0]<this.m_oEdgePoints.left.x&&(this.m_oEdgePoints.left.x=t[e][0],this.m_oEdgePoints.left.y=t[e][1]))}}]),e}(),g=function(e){function r(){l(this,r);var t=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.m_szType="Rect",t}return u(r,e),i(r,[{key:"setPointInfo",value:function(t){if(null!==t&&"undefined"!==typeof t){for(var e=t[0][0],n=t[0][1],i=t[0][0],r=t[0][1],o=0,a=t.length;o<a;o++)e>t[o][0]&&(e=t[o][0]),n>t[o][1]&&(n=t[o][1]),i<t[o][0]&&(i=t[o][0]),r<t[o][1]&&(r=t[o][1]);this.m_aPoint=[[e,n],[i,n],[i,r],[e,r]]}}},{key:"draw",value:function(){t[n].fillStyle=this.m_szFillColor,t[n].strokeStyle=this.m_szDrawColor;var e=this.m_aPoint[0][0],i=this.m_aPoint[0][1],r=this.m_aPoint[2][0]-e,o=this.m_aPoint[2][1]-i;if(t[n].globalAlpha=this.m_iTranslucent,t[n].fillRect(e,i,r,o),t[n].globalAlpha=1,t[n].fillText(this.m_szTips,(e+this.m_aPoint[2][0])/2,(i+this.m_aPoint[2][1])/2),this.m_bChoosed){var a=Math.round(r/2),s=Math.round(o/2);if(0===this.m_iEditType)for(var u=[e,e+a,e+r,e,e+r,e,e+a,e+r],l=[i,i,i,i+s,i+s,i+o,i+o,i+o],f=0;f<8;f++)t[n].beginPath(),t[n].arc(u[f],l[f],3,0,360,!1),t[n].fillStyle=this.m_szDrawColor,t[n].closePath(),t[n].fill()}t[n].strokeRect(e,i,r,o)}},{key:"stretch",value:function(t,e){0===this.m_iEditType&&(0===this.m_iIndexChoosePoint?t<this.m_aPoint[2][0]&&e<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=t,this.m_aPoint[0][1]=e,this.m_aPoint[3][0]=t,this.m_aPoint[1][1]=e):1===this.m_iIndexChoosePoint?e<this.m_aPoint[2][1]&&(this.m_aPoint[0][1]=e,this.m_aPoint[1][1]=e):2===this.m_iIndexChoosePoint?t>this.m_aPoint[3][0]&&e<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=t,this.m_aPoint[1][1]=e,this.m_aPoint[2][0]=t,this.m_aPoint[0][1]=e):3===this.m_iIndexChoosePoint?t<this.m_aPoint[2][0]&&(this.m_aPoint[0][0]=t,this.m_aPoint[3][0]=t):4===this.m_iIndexChoosePoint?t>this.m_aPoint[0][0]&&(this.m_aPoint[1][0]=t,this.m_aPoint[2][0]=t):5===this.m_iIndexChoosePoint?t<this.m_aPoint[1][0]&&e>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=t,this.m_aPoint[3][1]=e,this.m_aPoint[0][0]=t,this.m_aPoint[2][1]=e):6===this.m_iIndexChoosePoint?e>this.m_aPoint[1][1]&&(this.m_aPoint[2][1]=e,this.m_aPoint[3][1]=e):7===this.m_iIndexChoosePoint&&t>this.m_aPoint[0][0]&&e>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=t,this.m_aPoint[2][1]=e,this.m_aPoint[1][0]=t,this.m_aPoint[3][1]=e),C())}},{key:"move",value:function(t){C(),this.m_bChoosed=!0;var e=t[0][0],n=t[0][1],i=t[1][0],r=t[1][1];this.setPointInfo([[e,n],[i,n],[i,r],[e,r]]),this.draw()}},{key:"inArc",value:function(t,e,n){for(var i=this.m_aPoint[0][0],r=this.m_aPoint[0][1],o=this.m_aPoint[2][0]-i,a=this.m_aPoint[2][1]-r,s=Math.round(o/2),u=Math.round(a/2),l=[i,i+s,i+o,i,i+o,i,i+s,i+o],f=[r,r,r,r+u,r+u,r+a,r+a,r+a],c=0;c<8;c++){var h=Math.sqrt((t-l[c])*(t-l[c])+(e-f[c])*(e-f[c]));if(h<n)return this.m_iIndexChoosePoint=c,!0}return!1}}]),r}(v),S=function(e){function r(t,e){l(this,r);var n=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return n.m_szType="RectOSD",n.m_szOSDType="overlay-date",n.m_szText=t||"",n.m_szEnabled=e||"",n.m_szDateStyle="",n.m_szClockType="",n.m_szDisplayWeek="",n.m_szId="",n}return u(r,e),i(r,[{key:"draw",value:function(){if("true"===this.m_szEnabled){var e=this.m_aPoint[0][0],i=this.m_aPoint[0][1],r=this.m_aPoint[2][0]-e,o=this.m_aPoint[2][1]-i;t[n].beginPath(),t[n].strokeStyle=this.m_szDrawColor,t[n].globalAlpha=1,t[n].rect(e,i,r,o),t[n].font="15px serif",t[n].strokeText(this.m_szText,e,i+15),t[n].stroke()}}},{key:"drag",value:function(e,n){var i=this.m_aPoint.length,r=0;for(r=0;r<i;r++)if(this.m_aPoint[r][1]+n-this.m_iDriftStartY>t.m_iCanvasHeight||this.m_aPoint[r][0]+e-this.m_iDriftStartX<0||this.m_aPoint[r][1]+n-this.m_iDriftStartY<0)return this.m_iDriftStartX=e,void(this.m_iDriftStartY=n);for(r=0;r<i;r++)this.m_aPoint[r][0]=this.m_aPoint[r][0]+e-this.m_iDriftStartX,this.m_aPoint[r][1]=this.m_aPoint[r][1]+n-this.m_iDriftStartY;this.m_iDriftStartX=e,this.m_iDriftStartY=n,this.setEdgePoints(this.m_aPoint),C()}},{key:"stretch",value:function(){}}]),r}(v),b=function(e){function r(){l(this,r);var t=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.m_szType="Grid",t.m_iGridColNum=22,t.m_iGridRowNum=18,t.m_szGridMap="",t.m_aAddGridMap=[],t}return u(r,e),i(r,[{key:"draw",value:function(){for(var e=t.m_iCanvasWidth/this.m_iGridColNum,i=t.m_iCanvasHeight/this.m_iGridRowNum,r="",o=0;o<this.m_iGridRowNum;o++){for(var a=this.m_szGridMap.substring(6*o,6*o+6),s=parseInt("f"+a,16).toString(2).split("").slice(4),u="",l=0;l<this.m_iGridColNum;l++){var f="";"1"===s[l]?(t[n].strokeStyle=this.m_szDrawColor,t[n].globalAlpha=1,t[n].strokeRect(e*l,i*o,e,i),f="1"):f="0",this.m_aAddGridMap.length&&1===this.m_aAddGridMap[o][l]&&(t[n].strokeStyle=this.m_szDrawColor,t[n].strokeRect(e*l,i*o,e,i),f="1"),u+=f}r+=parseInt("1111"+u+"00",2).toString(16).substring(1)}this.m_szGridMap=r}},{key:"move",value:function(e,n,i,r){var o=t.m_iCanvasWidth/this.m_iGridColNum,a=t.m_iCanvasHeight/this.m_iGridRowNum,s=Math.floor(e/o),u=Math.floor(n/a),l=Math.floor(Math.abs(i-e)/o),f=Math.floor(Math.abs(r-n)/a),c=1,h=1;c=i-e>0?1:-1,h=r-n>0?1:-1;for(var d=[],p=0;p<this.m_iGridRowNum;p++){d[p]=[];for(var y=0;y<this.m_iGridColNum;y++)d[p][y]=1===c?1===h?p>=u&&p<=u+f&&y>=s&&y<=s+l?1:0:p<=u&&p>=u-f&&y>=s&&y<=s+l?1:0:1===h?p>=u&&p<=u+f&&y<=s&&y>=s-l?1:0:p<=u&&p>=u-f&&y<=s&&y>=s-l?1:0}this.m_aAddGridMap=d,this.draw()}}]),r}(v),w=function(e){function r(){l(this,r);var t=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.m_szType="Line",t.m_iLineType=0,t.m_iDirection=0,t.m_iArrowType=0,t.m_aCrossArrowPoint=[],t}return u(r,e),i(r,[{key:"draw",value:function(){0===this.m_iLineType?this.drawNormalLine():1===this.m_iLineType?this.drawArrowLine():3===this.m_iLineType?this.drawCrossLine():4===this.m_iLineType&&this.drawLineCount()}},{key:"drawNormalLine",value:function(){if(t[n].globalAlpha=1,this.m_aPoint.length>0){t[n].beginPath(),t[n].strokeStyle=this.m_szDrawColor,t[n].lineWidth=2,t[n].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]);for(var e=1,i=this.m_aPoint.length;e<i;e++)t[n].lineTo(this.m_aPoint[e][0],this.m_aPoint[e][1]);if(t[n].stroke(),this.m_bChoosed)for(var r=0,o=this.m_aPoint.length;r<o;r++)t[n].beginPath(),t[n].fillStyle=this.m_szDrawColor,t[n].arc(this.m_aPoint[r][0],this.m_aPoint[r][1],3,0,2*Math.PI,!0),t[n].closePath(),t[n].fill();""!==this.m_szTips&&(t[n].strokeStyle=this.m_szDrawColor,t[n].fillText(this.m_szTips,this.m_aPoint[0][0]+10,this.m_aPoint[0][1]+4))}}},{key:"drawArrowLine",value:function(e,i,r,o,a,s,u,l){s="undefined"!==typeof s?s:30,u="undefined"!==typeof u?u:10,l="undefined"!==typeof l?l:1;var f=180*Math.atan2(r-a,i-o)/Math.PI,c=(f+s)*Math.PI/180,h=(f-s)*Math.PI/180,d=u*Math.cos(c),p=u*Math.sin(c),y=u*Math.cos(h),m=u*Math.sin(h);t[n].save(),t[n].beginPath();var v=i-d,g=r-p;t[n].moveTo(v,g),t[n].lineTo(i,r),v=i-y,g=r-m,t[n].lineTo(v,g),t[n].moveTo(i,r),t[n].lineTo(o,a),1===e&&(v=o+d,g=a+p,t[n].moveTo(v,g),t[n].lineTo(o,a),v=o+y,g=a+m,t[n].lineTo(v,g)),t[n].strokeStyle=this.m_szDrawColor,t[n].lineWidth=l,t[n].stroke(),t[n].restore()}},{key:"drawCrossLine",value:function(){this.drawNormalLine();var e=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,i=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,r=180*Math.atan2(i-this.m_aPoint[0][1],e-this.m_aPoint[0][0])/Math.PI,o=(r+90)*Math.PI/180,a=(r-90)*Math.PI/180,s=25*Math.cos(o),u=25*Math.sin(o),l=25*Math.cos(a),f=25*Math.sin(a),c=0,h=0;c=e-s,h=i-u;var d=0,p=0;0===this.m_iDirection?(d=-10,p=-15):1===this.m_iDirection?(d=10,p=10):(d=10,p=-15),0!==this.m_iDirection&&this.drawArrowLine(0,c,h,e,i),t[n].strokeStyle=this.m_szDrawColor,t[n].font="8px",t[n].strokeText("A",c+d,h+4),c=e-l,h=i-f,1!==this.m_iDirection&&this.drawArrowLine(0,c,h,e,i),t[n].strokeStyle=this.m_szDrawColor,t[n].font="8px",t[n].strokeText("B",c+p,h+4)}},{key:"drawLineCount",value:function(){this.drawNormalLine();var t=(this.m_aPoint[0][0]+this.m_aPoint[1][0])/2,e=(this.m_aPoint[0][1]+this.m_aPoint[1][1])/2,n=180*Math.atan2(e-this.m_aPoint[0][1],t-this.m_aPoint[0][0])/Math.PI,i=(n+90)*Math.PI/180,r=(n-90)*Math.PI/180,o=25*Math.cos(i),a=25*Math.sin(i),s=25*Math.cos(r),u=25*Math.sin(r),l=0,f=0;l=t-o,f=e-a,1===this.m_iArrowType?(l=t-s,f=e-u,this.drawArrowLine(0,l,f,t,e)):0===this.m_iArrowType&&this.drawArrowLine(0,l,f,t,e),this.m_aCrossArrowPoint=[[t,e],[l,f]]}},{key:"inShape",value:function(t,e){for(var n=!1,i=0,r=this.m_aPoint.length-1;i<r;i++){var o=Math.sqrt((this.m_aPoint[i+1][0]-this.m_aPoint[i][0])*(this.m_aPoint[i+1][0]-this.m_aPoint[i][0])+(this.m_aPoint[i+1][1]-this.m_aPoint[i][1])*(this.m_aPoint[i+1][1]-this.m_aPoint[i][1])),a=Math.sqrt((t-this.m_aPoint[i][0])*(t-this.m_aPoint[i][0])+(e-this.m_aPoint[i][1])*(e-this.m_aPoint[i][1])),s=Math.sqrt((t-this.m_aPoint[i+1][0])*(t-this.m_aPoint[i+1][0])+(e-this.m_aPoint[i+1][1])*(e-this.m_aPoint[i+1][1]));a+s-o<1&&(n=!0)}return n}}]),r}(v),_=function(e){function r(){l(this,r);var t=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.m_szType="Polygon",t.m_iPolygonType=1,t}return u(r,e),i(r,[{key:"setPointInfo",value:function(t){if(null!==t&&"undefined"!==typeof t){if(0===this.m_iPolygonType){for(var e=t[0][0],n=t[0][1],i=t[0][0],r=t[0][1],o=0,a=t.length;o<a;o++)e>t[o][0]&&(e=t[o][0]),n>t[o][1]&&(n=t[o][1]),i<t[o][0]&&(i=t[o][0]),r<t[o][1]&&(r=t[o][1]);this.m_aPoint=[[e,n],[i,n],[i,r],[e,r]]}else this.m_iPolygonType,this.m_aPoint=t;this.setEdgePoints(t)}}},{key:"draw",value:function(){if(this.m_aPoint.length>0){t[n].fillStyle=this.m_szFillColor,t[n].strokeStyle=this.m_szDrawColor,t[n].globalAlpha=1;var e=0,i=0;if(this.m_bChoosed)for(e=0,i=this.m_aPoint.length;e<i;e++)t[n].beginPath(),t[n].arc(this.m_aPoint[e][0],this.m_aPoint[e][1],3,0,360,!1),t[n].fillStyle=this.m_szDrawColor,t[n].closePath(),t[n].fill();for(t[n].beginPath(),t[n].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),e=0,i=this.m_aPoint.length;e<i;e++)0!==e&&t[n].lineTo(this.m_aPoint[e][0],this.m_aPoint[e][1]);t[n].stroke(),this.m_bClosed&&(t[n].fillText(this.m_szTips,(this.m_oEdgePoints.left.x+this.m_oEdgePoints.right.x)/2,(this.m_oEdgePoints.top.y+this.m_oEdgePoints.bottom.y)/2),t[n].closePath(),t[n].stroke(),t[n].globalAlpha=this.m_iTranslucent,t[n].fill())}}},{key:"move",value:function(e,i,r,o){if(1===this.m_iPolygonType){if(this.m_aPoint.length<this.m_iMaxPointNum&&this.m_aPoint.length>0){t[n].fillStyle=this.m_szFillColor,t[n].strokeStyle=this.m_szDrawColor,t[n].globalAlpha=1;var a=0,s=0;for(a=0,s=this.m_aPoint.length;a<s;a++)t[n].beginPath(),t[n].arc(this.m_aPoint[a][0],this.m_aPoint[a][1],3,0,360,!1),t[n].fillStyle=this.m_szDrawColor,t[n].closePath(),t[n].fill();for(t[n].beginPath(),t[n].moveTo(this.m_aPoint[0][0],this.m_aPoint[0][1]),a=0,s=this.m_aPoint.length;a<s;a++)0!==a&&t[n].lineTo(this.m_aPoint[a][0],this.m_aPoint[a][1]);t[n].lineTo(e,i),t[n].closePath(),t[n].stroke()}}else if(0===this.m_iPolygonType){this.m_bChoosed=!0;var u=r,l=o,f=e,c=i;this.setPointInfo([[u,l],[f,l],[f,c],[u,c]]),this.draw()}}},{key:"stretch",value:function(t,e){0===this.m_iEditType&&(1===this.m_iPolygonType?-1!==this.m_iIndexChoosePoint&&(this.m_aPoint[this.m_iIndexChoosePoint][0]=t,this.m_aPoint[this.m_iIndexChoosePoint][1]=e):0===this.m_iIndexChoosePoint?t<this.m_aPoint[2][0]&&e<this.m_aPoint[2][1]&&(this.m_aPoint[0][0]=t,this.m_aPoint[0][1]=e,this.m_aPoint[3][0]=t,this.m_aPoint[1][1]=e):1===this.m_iIndexChoosePoint?t>this.m_aPoint[3][0]&&e<this.m_aPoint[3][1]&&(this.m_aPoint[1][0]=t,this.m_aPoint[1][1]=e,this.m_aPoint[2][0]=t,this.m_aPoint[0][1]=e):2===this.m_iIndexChoosePoint?t>this.m_aPoint[0][0]&&e>this.m_aPoint[0][1]&&(this.m_aPoint[2][0]=t,this.m_aPoint[2][1]=e,this.m_aPoint[1][0]=t,this.m_aPoint[3][1]=e):3===this.m_iIndexChoosePoint&&t<this.m_aPoint[1][0]&&e>this.m_aPoint[1][1]&&(this.m_aPoint[3][0]=t,this.m_aPoint[3][1]=e,this.m_aPoint[0][0]=t,this.m_aPoint[2][1]=e),this.setPointInfo(this.m_aPoint),C())}}]),r}(v),P=function(){function s(i){l(this,s),t=this,this[e]=(0,o.default)("#"+i),this[n]=this[e][0].getContext("2d"),this[r]=[],this[a]=!1,this[f]="Rect",this[c]=10,this[y]=!0,this[p]={},this[m]=null,this[h]={szDrawColor:"#ff0000",szFillColor:"#343434",iTranslucent:.7},this[d]=!1,this.m_iCanvasWidth=this[e].width(),this.m_iCanvasHeight=this[e].height(),this.m_iHorizontalResolution=0,this.m_iVerticalResolution=0,this.m_szDisplayMode="",this.m_szVideoFormat="",T(),this[r].length=0}return i(s,[{key:"setDrawMutiShapeOneTime",value:function(t){this[y]=t}},{key:"setMaxShapeSupport",value:function(t){this[c]=t}},{key:"getMaxShapeSupport",value:function(){return this[c]}},{key:"setDrawStatus",value:function(t,e){this[a]=t,e&&t&&(this[m]=e),t||(this[m]=null)}},{key:"setShapeType",value:function(t){this[f]=t,C()}},{key:"setCurrentShapeInfo",value:function(t){this[p]=t||{szId:"",szTips:"",iMinClosed:3,iMaxPointNum:11,iPolygonType:1}}},{key:"getShapeType",value:function(){return this[f]}},{key:"getAllShapesInfo",value:function(){for(var t=[],e=0,n=this[r].length;e<n;e++)"Grid"===this[r][e].m_szType?t.push({szType:this[r][e].m_szType,szGridMap:this[r][e].m_szGridMap,iGridColNum:this[r][e].m_iGridColNum,iGridRowNum:this[r][e].m_iGridRowNum}):"RectOSD"===this[r][e].m_szType?t.push({szType:this[r][e].m_szType,szText:this[r][e].m_szText,szEnabled:this[r][e].m_szEnabled,szOSDType:this[r][e].m_szOSDType,iPositionX:this[r][e].m_aPoint[0][0],iPositionY:this[r][e].m_aPoint[0][1],szDateStyle:this[r][e].m_szDateStyle,szClockType:this[r][e].m_szClockType,szDisplayWeek:this[r][e].m_szDisplayWeek,szId:this[r][e].m_szId}):t.push({szType:this[r][e].m_szType,aPoint:this[r][e].m_aPoint,szId:this[r][e].m_szId});return t}},{key:"getShapesInfoByType",value:function(t){for(var e=[],n=0,i=this[r].length;n<i;n++)this[r][n].m_szType===t&&("Grid"===this[r][n].m_szType?e.push({szType:this[r][n].m_szType,szGridMap:this[r][n].m_szGridMap,iGridColNum:this[r][n].m_iGridColNum,iGridRowNum:this[r][n].m_iGridRowNum}):"RectOSD"===this[r][n].m_szType?e.push({szType:this[r][n].m_szType,szText:this[r][n].m_szText,szEnabled:this[r][n].m_szEnabled,szOSDType:this[r][n].m_szOSDType,iPositionX:this[r][n].m_aPoint[0][0],iPositionY:this[r][n].m_aPoint[0][1],szDateStyle:this[r][n].m_szDateStyle,szClockType:this[r][n].m_szClockType,szDisplayWeek:this[r][n].m_szDisplayWeek,szId:this[r][n].m_szId}):"Polygon"===t?e.push({szType:this[r][n].m_szType,szId:this[r][n].m_szId,iPolygonType:this[r][n].m_iPolygonType,iMinClosed:this[r][n].m_iMinClosed,iMaxPointNum:this[r][n].m_iMaxPointNum,iEditType:this[r][n].m_iEditType,aPoint:this[r][n].m_aPoint,bClosed:this[r][n].m_bClosed,szTips:this[r][n].m_szTips,szDrawColor:this[r][n].m_szDrawColor,szFillColor:this[r][n].m_szFillColor,iTranslucent:this[r][n].m_iTranslucent}):"Line"===t?e.push({szType:this[r][n].m_szType,szId:this[r][n].m_szId,aPoint:this[r][n].m_aPoint,szTips:this[r][n].m_szTips,iLineType:this[r][n].m_iLineType,iDirection:this[r][n].m_iDirection,iArrowType:this[r][n].m_iArrowType,szDrawColor:this[r][n].m_szDrawColor,aCrossArrowPoint:this[r][n].m_aCrossArrowPoint}):"Rect"===t?e.push({szType:this[r][n].m_szType,iEditType:this[r][n].m_iEditType,aPoint:this[r][n].m_aPoint,szTips:this[r][n].m_szTips,szDrawColor:this[r][n].m_szDrawColor,szFillColor:this[r][n].m_szFillColor,iTranslucent:this[r][n].m_iTranslucent}):e.push({szType:this[r][n].m_szType,aPoint:this[r][n].m_aPoint}));return e}},{key:"setShapesInfoByType",value:function(t,e){e||(e=[]);var n=null;if("Rect"===t||"Polygon"===t||"Line"===t)for(var i=0,r=e.length;i<r;i++)"Rect"===t?(n=new g,n.m_iEditType=e[i].iEditType,n.m_szTips=e[i].szTips,e[i].style&&(n.m_szDrawColor=e[i].style.szDrawColor,n.m_szFillColor=e[i].style.szFillColor,n.m_iTranslucent=e[i].style.iTranslucent)):"Polygon"===t?(n=new _,0===e[i].iPolygonType?n.m_bClosed=!0:n.m_bClosed=e[i].bClosed,n.m_szTips=e[i].szTips,n.m_szId=e[i].szId||"",n.m_iPolygonType=e[i].iPolygonType,n.m_iMinClosed=e[i].iMinClosed||3,n.m_iMaxPointNum=e[i].iMaxPointNum||11,n.m_iEditType=e[i].iEditType,e[i].style&&(n.m_szDrawColor=e[i].style.szDrawColor,n.m_szFillColor=e[i].style.szFillColor,n.m_iTranslucent=e[i].style.iTranslucent)):"Line"===t&&(n=new w,n.m_iLineType=e[i].iLineType,n.m_szTips=e[i].szTips,n.m_szId=e[i].szId,n.m_iDirection=e[i].iDirection,n.m_iArrowType=e[i].iArrowType,e[i].style&&(n.m_szDrawColor=e[i].style.szDrawColor),n.setPointInfo(e[i].aPoint)),n.setPointInfo(e[i].aPoint),0===i&&(n.m_bChoosed=!0),x(n);else"Grid"===t&&(n=new b,n.m_szGridMap=e[0].szGridMap||"",n.m_iGridColNum=e[0].iGridColNum||22,n.m_iGridRowNum=e[0].iGridRowNum||18,x(n));C()}},{key:"addOSDShape",value:function(t,e,n,i,r){n||i||(n=0,i=0),r||(r={});var o=new S(t,e),a=10*t.length;o.m_aPoint=[[n,i],[a+n,i],[a+n,i+20],[n,i+20]],o.m_szOSDType=r.szOSDType||"",o.m_szDateStyle=r.szDateStyle||"",o.m_szClockType=r.szClockType||"",o.m_szDisplayWeek=r.szDisplayWeek||"",o.m_szId=r.szId||"",x(o),C()}},{key:"setCanvasSize",value:function(t,e){t>0&&e>0&&(this.m_iCanvasWidth=t,this.m_iCanvasHeight=e,C())}},{key:"setDrawStyle",value:function(t,e,n){this[h]={szDrawColor:t,szFillColor:e,iTranslucent:n}}},{key:"clearAllShape",value:function(){this[r].length=0,C()}},{key:"clearShapeByType",value:function(t){for(var e=this[r].length,n=e;n>0;n--)this[r][n-1].m_szType===t&&("Grid"===t?(this[r][n-1].m_szGridMap="",this[r][n-1].m_aAddGridMap=[]):this[r].splice(n-1,1));C()}},{key:"deleteShape",value:function(t){this[r].length>t&&this[r].splice(t,1),C()}},{key:"updateCanvas",value:function(t){this[e]=(0,o.default)("#"+t),this[n]=this[e][0].getContext("2d"),this.m_iCanvasWidth=this[e].width(),this.m_iCanvasHeight=this[e].height(),T()}},{key:"resizeCanvas",value:function(){this.m_iCanvasWidth=this[e].width(),this.m_iCanvasHeight=this[e].height()}},{key:"canvasRedraw",value:function(){C()}}]),s}();return P}function C(){t[n].clearRect(0,0,t.m_iCanvasWidth,t.m_iCanvasHeight);for(var e=0,i=t[r].length;e<i;e++)t[r][e].draw()}function x(e){var n=t[r].length;n<t[c]&&t[r].push(e)}function T(){var n=!1,i=0,o=0,s="draw",u=null;function l(){for(var e=-1,n=0,i=t[r].length;n<i;n++)if(t[r][n].m_bChoosed){e=n;break}return e}t[e][0].oncontextmenu=function(){return!1},t[e][0].onselectstart=function(){return!1},t[e].unbind(),t[e].bind("mousedown",(function(h){if(2===h.button)t[d]&&u&&u.m_aPoint.length>=u.m_iMinClosed-1&&(u.m_bClosed=!0,t[d]=!1,u.setPointInfo(u.m_aPoint),x(u),C(),n=!1,t[y]||(t[a]=!1));else if(0===h.button){if(i=h.offsetX,o=h.offsetY,s="draw",!t[d]){var m=l();if(-1!==m&&t[r][m].inArc(h.offsetX,h.offsetY,5)&&(s="stretch"),"stretch"!==s)for(var v=0,S=t[r].length;v<S;v++)t[r][v].inShape(h.offsetX,h.offsetY)?(t[r][v].m_bChoosed=!0,t[r][v].getMouseDownPoints(h.offsetX,h.offsetY),s="drag"):t[r][v].m_bChoosed=!1;t[e][0].style.cursor="drag"===s?"move":"default"}if("draw"===s&&t[a]){if(t[c]<=t[r].length&&"Grid"!==t[f])return;"Rect"===t[f]?u=new g:"Grid"===t[f]?0===t[r].length&&(u=new b,x(u)):"Polygon"===t[f]&&(t[d]||(t[d]=!0,u=new _,u.m_szId=t[p].szId||"",u.m_szTips=t[p].szTips||"",u.m_iMinClosed=t[p].iMinClosed||3,u.m_iMaxPointNum=t[p].iMaxPointNum||11,u.m_iPolygonType=t[p].iPolygonType,u.m_szDrawColor=t[p].szDrawColor,u.m_szFillColor=t[p].szFillColor,u.m_iTranslucent=t[p].iTranslucent),1===u.m_iPolygonType&&(u.addPoint(i,o),u.m_aPoint.length===u.m_iMaxPointNum&&(u.m_bClosed=!0,t[d]=!1,x(u),C(),n=!1,t[y]||(t[a]=!1))))}n=!0}})),t[e].bind("mousemove",(function(e){if(t[d])t[a]&&n&&("Polygon"===t[f]&&0===u.m_iPolygonType&&(u.m_bClosed=!0),C(),u.move(e.offsetX,e.offsetY,i,o));else{var c=l();c>-1?n&&t[a]&&("drag"===s?t[r][c].drag(e.offsetX,e.offsetY):"stretch"===s&&t[r][c].stretch(e.offsetX,e.offsetY)):t[a]&&n&&("Rect"===t[f]?u.move([[i,o],[e.offsetX,e.offsetY]]):"Grid"===t[f]&&t[r][0].move(i,o,e.offsetX,e.offsetY))}})),t[e].bind("mouseup",(function(r){if(t[e][0].style.cursor="default",null!==u&&"undefined"!==typeof u&&"draw"===s)if("Rect"===t[f]){if(Math.abs(r.offsetX-i)>2&&Math.abs(r.offsetY-o)>2&&(x(u),t[y]||(t[a]=!1)),t[m]){var l={startPos:[],endPos:[]};r.offsetX>i&&r.offsetY>o?(l.startPos=u.m_aPoint[0]||[r.offsetX,r.offsetY],l.endPos=u.m_aPoint[2]||[r.offsetX,r.offsetY]):(l.startPos=u.m_aPoint[2]||[r.offsetX,r.offsetY],l.endPos=u.m_aPoint[0]||[r.offsetX,r.offsetY]),t[m]&&t[m](l),u=null,t.clearAllShape()}}else"Polygon"===t[f]&&0===u.m_iPolygonType&&t[d]&&Math.abs(r.offsetX-i)>2&&Math.abs(r.offsetY-o)>2&&(x(u),t[d]=!1,t[y]||(t[a]=!1));n=!!t[d],C()})),t[e].bind("dblclick",(function(){t[a]&&"Grid"===t[f]&&(t[r][0].m_szGridMap="fffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffcfffffc",C())})),t[e].bind("mouseout",(function(){t[e][0].style.cursor="default",n=!!t[d]}))}}();e.ESCanvas=f},function(t,e,n){var i,r;(function(t){"use strict";var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(e,i){"object"===n(t)&&"object"===n(t.exports)?t.exports=e.document?i(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(e)})("undefined"!==typeof window?window:void 0,(function(o,a){var s=[],u=o.document,l=Object.getPrototypeOf,f=s.slice,c=s.concat,h=s.push,d=s.indexOf,p={},y=p.toString,m=p.hasOwnProperty,v=m.toString,g=v.call(Object),S={};function b(t,e){e=e||u;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}var w="3.2.1",_=function t(e,n){return new t.fn.init(e,n)},P=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,C=/^-ms-/,x=/-([a-z])/g,T=function(t,e){return e.toUpperCase()};function k(t){var e=!!t&&"length"in t&&t.length,n=_.type(t);return"function"!==n&&!_.isWindow(t)&&("array"===n||0===e||"number"===typeof e&&e>0&&e-1 in t)}_.fn=_.prototype={jquery:w,constructor:_,length:0,toArray:function(){return f.call(this)},get:function(t){return null==t?f.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=_.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _.each(this,t)},map:function(t){return this.pushStack(_.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:s.sort,splice:s.splice},_.extend=_.fn.extend=function(){var t,e,i,r,o,a,s=arguments[0]||{},u=1,l=arguments.length,f=!1;for("boolean"===typeof s&&(f=s,s=arguments[u]||{},u++),"object"===("undefined"===typeof s?"undefined":n(s))||_.isFunction(s)||(s={}),u===l&&(s=this,u--);u<l;u++)if(null!=(t=arguments[u]))for(e in t)i=s[e],r=t[e],s!==r&&(f&&r&&(_.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&_.isPlainObject(i)?i:{},s[e]=_.extend(f,a,r)):void 0!==r&&(s[e]=r));return s},_.extend({expando:"jQuery"+(w+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===_.type(t)},isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=_.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==y.call(t))&&(e=l(t),!e||(n=m.call(e,"constructor")&&e.constructor,"function"===typeof n&&v.call(n)===g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"===("undefined"===typeof t?"undefined":n(t))||"function"===typeof t?p[y.call(t)]||"object":"undefined"===typeof t?"undefined":n(t)},globalEval:function(t){b(t)},camelCase:function(t){return t.replace(C,"ms-").replace(x,T)},each:function(t,e){var n,i=0;if(k(t)){for(n=t.length;i<n;i++)if(!1===e.call(t[i],i,t[i]))break}else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(P,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?_.merge(n,"string"===typeof t?[t]:t):h.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var i,r,o=0,a=[];if(k(t))for(i=t.length;o<i;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return c.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"===typeof e&&(n=t[e],e=t,t=n),_.isFunction(t))return i=f.call(arguments,2),r=function(){return t.apply(e||this,i.concat(f.call(arguments)))},r.guid=t.guid=t.guid||_.guid++,r},now:Date.now,support:S}),"function"===typeof Symbol&&(_.fn[Symbol.iterator]=s[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){p["[object "+e+"]"]=e.toLowerCase()}));var D=function(t){var e,n,i,r,o,a,s,u,l,f,c,h,d,p,y,m,v,g,S,b="sizzle"+1*new Date,w=t.document,_=0,P=0,C=at(),x=at(),T=at(),k=function(t,e){return t===e&&(c=!0),0},D={}.hasOwnProperty,M=[],R=M.pop,E=M.push,I=M.push,z=M.slice,A=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",L="\\["+F+"*("+B+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+F+"*\\]",N=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+L+")*)|.*)\\)|)",q=new RegExp(F+"+","g"),H=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),j=new RegExp("^"+F+"*,"+F+"*"),U=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),G=new RegExp(N),V=new RegExp("^"+B+"$"),Y={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){h()},rt=gt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{I.apply(M=z.call(w.childNodes),w.childNodes),M[w.childNodes.length].nodeType}catch(xt){I={apply:M.length?function(t,e){E.apply(t,z.call(e))}:function(t,e){var n=t.length,i=0;while(t[n++]=e[i++]);t.length=n-1}}}function ot(t,e,i,r){var o,s,l,f,c,p,v,g=e&&e.ownerDocument,_=e?e.nodeType:9;if(i=i||[],"string"!==typeof t||!t||1!==_&&9!==_&&11!==_)return i;if(!r&&((e?e.ownerDocument||e:w)!==d&&h(e),e=e||d,y)){if(11!==_&&(c=K.exec(t)))if(o=c[1]){if(9===_){if(!(l=e.getElementById(o)))return i;if(l.id===o)return i.push(l),i}else if(g&&(l=g.getElementById(o))&&S(e,l)&&l.id===o)return i.push(l),i}else{if(c[2])return I.apply(i,e.getElementsByTagName(t)),i;if((o=c[3])&&n.getElementsByClassName&&e.getElementsByClassName)return I.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==_)g=e,v=t;else if("object"!==e.nodeName.toLowerCase()){(f=e.getAttribute("id"))?f=f.replace(et,nt):e.setAttribute("id",f=b),p=a(t),s=p.length;while(s--)p[s]="#"+f+" "+vt(p[s]);v=p.join(","),g=Z.test(t)&&yt(e.parentNode)||e}if(v)try{return I.apply(i,g.querySelectorAll(v)),i}catch(P){}finally{f===b&&e.removeAttribute("id")}}}return u(t.replace(H,"$1"),e,i,r)}function at(){var t=[];function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}return e}function st(t){return t[b]=!0,t}function ut(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(xt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){var n=t.split("|"),r=n.length;while(r--)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)while(n=n.nextSibling)if(n===e)return-1;return t?1:-1}function ct(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return st((function(e){return e=+e,st((function(n,i){var r,o=t([],n.length,e),a=o.length;while(a--)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function yt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,p=d.documentElement,y=!o(d),w!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=$.test(d.getElementsByClassName),n.getById=ut((function(t){return p.appendChild(t).id=b,!d.getElementsByName||!d.getElementsByName(b).length})),n.getById?(i.filter["ID"]=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},i.find["ID"]=function(t,e){if("undefined"!==typeof e.getElementById&&y){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter["ID"]=function(t){var e=t.replace(Q,tt);return function(t){var n="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find["ID"]=function(t,e){if("undefined"!==typeof e.getElementById&&y){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];r=e.getElementsByName(t),i=0;while(o=r[i++])if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),i.find["TAG"]=n.getElementsByTagName?function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){while(n=o[r++])1===n.nodeType&&i.push(n);return i}return o},i.find["CLASS"]=n.getElementsByClassName&&function(t,e){if("undefined"!==typeof e.getElementsByClassName&&y)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=$.test(d.querySelectorAll))&&(ut((function(t){p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=$.test(g=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=g.call(t,"*"),g.call(t,"[s!='']:x"),v.push("!=",N)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=$.test(p.compareDocumentPosition),S=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)while(e=e.parentNode)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return c=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===w&&S(w,t)?-1:e===d||e.ownerDocument===w&&S(w,e)?1:f?A(f,t)-A(f,e):0:4&i?-1:1)}:function(t,e){if(t===e)return c=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:f?A(f,t)-A(f,e):0;if(r===o)return ft(t,e);n=t;while(n=n.parentNode)a.unshift(n);n=e;while(n=n.parentNode)s.unshift(n);while(a[i]===s[i])i++;return i?ft(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&h(t),e=e.replace(W,"='$1']"),n.matchesSelector&&y&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=g.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(xt){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&h(t),S(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&h(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!y):void 0;return void 0!==o?o:n.attributes||!y?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(c=!n.detectDuplicates,f=!n.sortStable&&t.slice(0),t.sort(k),c){while(e=t[o++])e===t[o]&&(r=i.push(o));while(r--)t.splice(i[r],1)}return f=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else while(e=t[i++])n+=r(e);return n},i=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y["CHILD"].test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+F+")"+t+"("+F+"|$)"))&&C(t,(function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,f,c,h,d,p,y=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),g=!u&&!s,S=!1;if(m){if(o){while(y){h=e;while(h=h[y])if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=y="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&g){h=m,c=h[b]||(h[b]={}),f=c[h.uniqueID]||(c[h.uniqueID]={}),l=f[t]||[],d=l[0]===_&&l[1],S=d&&l[2],h=d&&m.childNodes[d];while(h=++d&&h&&h[y]||(S=d=0)||p.pop())if(1===h.nodeType&&++S&&h===e){f[t]=[_,d,S];break}}else if(g&&(h=e,c=h[b]||(h[b]={}),f=c[h.uniqueID]||(c[h.uniqueID]={}),l=f[t]||[],d=l[0]===_&&l[1],S=d),!1===S)while(h=++d&&h&&h[y]||(S=d=0)||p.pop())if((s?h.nodeName.toLowerCase()===v:1===h.nodeType)&&++S&&(g&&(c=h[b]||(h[b]={}),f=c[h.uniqueID]||(c[h.uniqueID]={}),f[t]=[_,S]),h===e))break;return S-=r,S===i||S%i===0&&S/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st((function(t,n){var i,o=r(t,e),a=o.length;while(a--)i=A(t,o[a]),t[i]=!(n[i]=o[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:st((function(t){var e=[],n=[],i=s(t.replace(H,"$1"));return i[b]?st((function(t,e,n,r){var o,a=i(t,null,r,[]),s=t.length;while(s--)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:st((function(t){return function(e){return ot(t,e).length>0}})),contains:st((function(t){return t=t.replace(Q,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:st((function(t){return V.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Q,tt).toLowerCase(),function(e){var n;do{if(n=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos["empty"](t)},header:function(t){return J.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt((function(){return[0]})),last:pt((function(t,e){return[e-1]})),eq:pt((function(t,e,n){return[n<0?n+e:n]})),even:pt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:pt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:pt((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:pt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos["nth"]=i.pseudos["eq"],{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ct(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function gt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=P++;return e.first?function(e,n,r){while(e=e[i])if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var l,f,c,h=[_,s];if(u){while(e=e[i])if((1===e.nodeType||a)&&t(e,n,u))return!0}else while(e=e[i])if(1===e.nodeType||a)if(c=e[b]||(e[b]={}),f=c[e.uniqueID]||(c[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=f[o])&&l[0]===_&&l[1]===s)return h[2]=l[2];if(f[o]=h,h[2]=t(e,n,u))return!0}return!1}}function St(t){return t.length>1?function(e,n,i){var r=t.length;while(r--)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}function wt(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function _t(t,e,n,i,r,o){return i&&!i[b]&&(i=_t(i)),r&&!r[b]&&(r=_t(r,o)),st((function(o,a,s,u){var l,f,c,h=[],d=[],p=a.length,y=o||bt(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?y:wt(y,h,t,s,u),v=n?r||(o?t:p||i)?[]:a:m;if(n&&n(m,v,s,u),i){l=wt(v,d),i(l,[],s,u),f=l.length;while(f--)(c=l[f])&&(v[d[f]]=!(m[d[f]]=c))}if(o){if(r||t){if(r){l=[],f=v.length;while(f--)(c=v[f])&&l.push(m[f]=c);r(null,v=[],l,u)}f=v.length;while(f--)(c=v[f])&&(l=r?A(o,c):h[f])>-1&&(o[l]=!(a[l]=c))}}else v=wt(v===a?v.splice(p,v.length):v),r?r(null,a,v,u):I.apply(a,v)}))}function Pt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],u=a?1:0,f=gt((function(t){return t===e}),s,!0),c=gt((function(t){return A(e,t)>-1}),s,!0),h=[function(t,n,i){var r=!a&&(i||n!==l)||((e=n).nodeType?f(t,n,i):c(t,n,i));return e=null,r}];u<o;u++)if(n=i.relative[t[u].type])h=[gt(St(h),n)];else{if(n=i.filter[t[u].type].apply(null,t[u].matches),n[b]){for(r=++u;r<o;r++)if(i.relative[t[r].type])break;return _t(u>1&&St(h),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(H,"$1"),n,u<r&&Pt(t.slice(u,r)),r<o&&Pt(t=t.slice(r)),r<o&&vt(t))}h.push(n)}return St(h)}function Ct(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,u,f){var c,p,m,v=0,g="0",S=o&&[],b=[],w=l,P=o||r&&i.find["TAG"]("*",f),C=_+=null==w?1:Math.random()||.1,x=P.length;for(f&&(l=a===d||a||f);g!==x&&null!=(c=P[g]);g++){if(r&&c){p=0,a||c.ownerDocument===d||(h(c),s=!y);while(m=t[p++])if(m(c,a||d,s)){u.push(c);break}f&&(_=C)}n&&((c=!m&&c)&&v--,o&&S.push(c))}if(v+=g,n&&g!==v){p=0;while(m=e[p++])m(S,b,a,s);if(o){if(v>0)while(g--)S[g]||b[g]||(b[g]=R.call(u));b=wt(b)}I.apply(u,b),f&&!o&&b.length>0&&v+e.length>1&&ot.uniqueSort(u)}return f&&(_=C,l=w),S};return n?st(o):o}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,a=ot.tokenize=function(t,e){var n,r,o,a,s,u,l,f=x[t+" "];if(f)return e?0:f.slice(0);s=t,u=[],l=i.preFilter;while(s){for(a in n&&!(r=j.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=U.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):x(t,u).slice(0)},s=ot.compile=function(t,e){var n,i=[],r=[],o=T[t+" "];if(!o){e||(e=a(t)),n=e.length;while(n--)o=Pt(e[n]),o[b]?i.push(o):r.push(o);o=T(t,Ct(r,i)),o.selector=t}return o},u=ot.select=function(t,e,n,r){var o,u,l,f,c,h="function"===typeof t&&t,d=!r&&a(t=h.selector||t);if(n=n||[],1===d.length){if(u=d[0]=d[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&y&&i.relative[u[1].type]){if(e=(i.find["ID"](l.matches[0].replace(Q,tt),e)||[])[0],!e)return n;h&&(e=e.parentNode),t=t.slice(u.shift().value.length)}o=Y["needsContext"].test(t)?0:u.length;while(o--){if(l=u[o],i.relative[f=l.type])break;if((c=i.find[f])&&(r=c(l.matches[0].replace(Q,tt),Z.test(u[0].type)&&yt(e.parentNode)||e))){if(u.splice(o,1),t=r.length&&vt(u),!t)return I.apply(n,r),n;break}}}return(h||s(t,d))(r,e,!y,n,!e||Z.test(t)&&yt(e.parentNode)||e),n},n.sortStable=b.split("").sort(k).join("")===b,n.detectDuplicates=!!c,h(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||lt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||lt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||lt(O,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),ot}(o);_.find=D,_.expr=D.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=D.uniqueSort,_.text=D.getText,_.isXMLDoc=D.isXML,_.contains=D.contains,_.escapeSelector=D.escape;var M=function(t,e,n){var i=[],r=void 0!==n;while((t=t[e])&&9!==t.nodeType)if(1===t.nodeType){if(r&&_(t).is(n))break;i.push(t)}return i},R=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=_.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var z=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,A=/^.[^:#\[\.,]*$/;function O(t,e,n){return _.isFunction(e)?_.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?_.grep(t,(function(t){return t===e!==n})):"string"!==typeof e?_.grep(t,(function(t){return d.call(e,t)>-1!==n})):A.test(e)?_.filter(e,t,n):(e=_.filter(e,t),_.grep(t,(function(t){return d.call(e,t)>-1!==n&&1===t.nodeType})))}_.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?_.find.matchesSelector(i,t)?[i]:[]:_.find.matches(t,_.grep(e,(function(t){return 1===t.nodeType})))},_.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!==typeof t)return this.pushStack(_(t).filter((function(){for(e=0;e<i;e++)if(_.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)_.find(t,r[e],n);return i>1?_.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"===typeof t&&E.test(t)?_(t):t||[],!1).length}});var F,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,L=_.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||F,"string"===typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:B.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof _?e[0]:e,_.merge(this,_.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:u,!0)),z.test(i[1])&&_.isPlainObject(e))for(i in e)_.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=u.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_.isFunction(t)?void 0!==n.ready?n.ready(t):t(_):_.makeArray(t,this)};L.prototype=_.fn,F=_(u);var N=/^(?:parents|prev(?:Until|All))/,q={children:!0,contents:!0,next:!0,prev:!0};function H(t,e){while((t=t[e])&&1!==t.nodeType);return t}_.fn.extend({has:function(t){var e=_(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(_.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!==typeof t&&_(t);if(!E.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&_.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(t){return t?"string"===typeof t?d.call(_(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,n){return M(t,"parentNode",n)},next:function(t){return H(t,"nextSibling")},prev:function(t){return H(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,n){return M(t,"nextSibling",n)},prevUntil:function(t,e,n){return M(t,"previousSibling",n)},siblings:function(t){return R((t.parentNode||{}).firstChild,t)},children:function(t){return R(t.firstChild)},contents:function(t){return I(t,"iframe")?t.contentDocument:(I(t,"template")&&(t=t.content||t),_.merge([],t.childNodes))}},(function(t,e){_.fn[t]=function(n,i){var r=_.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"===typeof i&&(r=_.filter(i,r)),this.length>1&&(q[t]||_.uniqueSort(r),N.test(t)&&r.reverse()),this.pushStack(r)}}));var j=/[^\x20\t\r\n\f]+/g;function U(t){var e={};return _.each(t.match(j)||[],(function(t,n){e[n]=!0})),e}function W(t){return t}function G(t){throw t}function V(t,e,n,i){var r;try{t&&_.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&_.isFunction(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}_.Callbacks=function(t){t="string"===typeof t?U(t):_.extend({},t);var e,n,i,r,o=[],a=[],s=-1,u=function(){for(r=r||t.once,i=e=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1)}t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){_.each(n,(function(n,i){_.isFunction(i)?t.unique&&l.has(i)||o.push(i):i&&i.length&&"string"!==_.type(i)&&e(i)}))}(arguments),n&&!e&&u()),this},remove:function(){return _.each(arguments,(function(t,e){var n;while((n=_.inArray(e,o,n))>-1)o.splice(n,1),n<=s&&s--})),this},has:function(t){return t?_.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},_.extend({Deferred:function(t){var e=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return _.Deferred((function(n){_.each(e,(function(e,i){var r=_.isFunction(t[i[4]])&&t[i[4]];a[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&_.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var a=0;function s(t,e,i,r){return function(){var u=this,l=arguments,f=function(){var o,f;if(!(t<a)){if(o=i.apply(u,l),o===e.promise())throw new TypeError("Thenable self-resolution");f=o&&("object"===("undefined"===typeof o?"undefined":n(o))||"function"===typeof o)&&o.then,_.isFunction(f)?r?f.call(o,s(a,e,W,r),s(a,e,G,r)):(a++,f.call(o,s(a,e,W,r),s(a,e,G,r),s(a,e,W,e.notifyWith))):(i!==W&&(u=void 0,l=[o]),(r||e.resolveWith)(u,l))}},c=r?f:function(){try{f()}catch(n){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(n,c.stackTrace),t+1>=a&&(i!==G&&(u=void 0,l=[n]),e.rejectWith(u,l))}};t?c():(_.Deferred.getStackHook&&(c.stackTrace=_.Deferred.getStackHook()),o.setTimeout(c))}}return _.Deferred((function(n){e[0][3].add(s(0,n,_.isFunction(r)?r:W,n.notifyWith)),e[1][3].add(s(0,n,_.isFunction(t)?t:W)),e[2][3].add(s(0,n,_.isFunction(i)?i:G))})).promise()},promise:function(t){return null!=t?_.extend(t,r):r}},a={};return _.each(e,(function(t,n){var o=n[2],s=n[5];r[n[1]]=o.add,s&&o.add((function(){i=s}),e[3-t][2].disable,e[0][2].lock),o.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=o.fireWith})),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=f.call(arguments),o=_.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?f.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(V(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||_.isFunction(r[n]&&r[n].then)))return o.then();while(n--)V(r[n],a(n),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,e){o.console&&o.console.warn&&t&&Y.test(t.name)&&o.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},_.readyException=function(t){o.setTimeout((function(){throw t}))};var X=_.Deferred();function J(){u.removeEventListener("DOMContentLoaded",J),o.removeEventListener("load",J),_.ready()}_.fn.ready=function(t){return X.then(t).catch((function(t){_.readyException(t)})),this},_.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==t&&--_.readyWait>0||X.resolveWith(u,[_]))}}),_.ready.then=X.then,"complete"===u.readyState||"loading"!==u.readyState&&!u.documentElement.doScroll?o.setTimeout(_.ready):(u.addEventListener("DOMContentLoaded",J),o.addEventListener("load",J));var $=function t(e,n,i,r,o,a,s){var u=0,l=e.length,f=null==i;if("object"===_.type(i))for(u in o=!0,i)t(e,n,u,i[u],!0,a,s);else if(void 0!==r&&(o=!0,_.isFunction(r)||(s=!0),f&&(s?(n.call(e,r),n=null):(f=n,n=function(t,e,n){return f.call(_(t),n)})),n))for(;u<l;u++)n(e[u],i,s?r:r.call(e[u],u,n(e[u],i)));return o?e:f?n.call(e):l?n(e[0],i):a},K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=_.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"===typeof e)r[_.camelCase(e)]=n;else for(i in e)r[_.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"===typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(_.camelCase):(e=_.camelCase(e),e=e in i?[e]:e.match(j)||[]),n=e.length;while(n--)delete i[e[n]]}(void 0===e||_.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!_.isEmptyObject(e)}};var Q=new Z,tt=new Z,et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,nt=/[A-Z]/g;function it(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:et.test(t)?JSON.parse(t):t)}function rt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(nt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"===typeof n){try{n=it(n)}catch(r){}tt.set(t,e,n)}else n=void 0;return n}_.extend({hasData:function(t){return tt.hasData(t)||Q.hasData(t)},data:function(t,e,n){return tt.access(t,e,n)},removeData:function(t,e){tt.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),_.fn.extend({data:function(t,e){var i,r,o,a=this[0],s=a&&a.attributes;if(void 0===t){if(this.length&&(o=tt.get(a),1===a.nodeType&&!Q.get(a,"hasDataAttrs"))){i=s.length;while(i--)s[i]&&(r=s[i].name,0===r.indexOf("data-")&&(r=_.camelCase(r.slice(5)),rt(a,r,o[r])));Q.set(a,"hasDataAttrs",!0)}return o}return"object"===("undefined"===typeof t?"undefined":n(t))?this.each((function(){tt.set(this,t)})):$(this,(function(e){var n;if(a&&void 0===e)return n=tt.get(a,t),void 0!==n?n:(n=rt(a,t),void 0!==n?n:void 0);this.each((function(){tt.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){tt.remove(this,t)}))}}),_.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,_.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=_.queue(t,e),i=n.length,r=n.shift(),o=_._queueHooks(t,e),a=function(){_.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:_.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),_.fn.extend({queue:function(t,e){var n=2;return"string"!==typeof t&&(e=t,t="fx",n--),arguments.length<n?_.queue(this[0],t):void 0===e?this:this.each((function(){var n=_.queue(this,t,e);_._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){_.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=_.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};"string"!==typeof t&&(e=t,t=void 0),t=t||"fx";while(a--)n=Q.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,at=new RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),st=["Top","Right","Bottom","Left"],ut=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&_.contains(t.ownerDocument,t)&&"none"===_.css(t,"display")},lt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function ft(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return _.css(t,e,"")},u=s(),l=n&&n[3]||(_.cssNumber[e]?"":"px"),f=(_.cssNumber[e]||"px"!==l&&+u)&&at.exec(_.css(t,e));if(f&&f[3]!==l){l=l||f[3],n=n||[],f=+u||1;do{o=o||".5",f/=o,_.style(t,e,f+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(f=+f||+u||0,r=n[1]?f+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=f,i.end=r)),r}var ct={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=_.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[o]=ht(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}_.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each((function(){ut(this)?_(this).show():_(this).hide()}))}});var pt=/^(?:checkbox|radio)$/i,yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,mt=/^$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n="undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!==typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?_.merge([t],n):n}function St(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var bt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,a,s,u,l,f,c=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===_.type(o))_.merge(h,o.nodeType?[o]:o);else if(bt.test(o)){a=a||c.appendChild(e.createElement("div")),s=(yt.exec(o)||["",""])[1].toLowerCase(),u=vt[s]||vt._default,a.innerHTML=u[1]+_.htmlPrefilter(o)+u[2],f=u[0];while(f--)a=a.lastChild;_.merge(h,a.childNodes),a=c.firstChild,a.textContent=""}else h.push(e.createTextNode(o));c.textContent="",d=0;while(o=h[d++])if(i&&_.inArray(o,i)>-1)r&&r.push(o);else if(l=_.contains(o.ownerDocument,o),a=gt(c.appendChild(o),"script"),l&&St(a),n){f=0;while(o=a[f++])mt.test(o.type||"")&&n.push(o)}return c}(function(){var t=u.createDocumentFragment(),e=t.appendChild(u.createElement("div")),n=u.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),S.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue})();var _t=u.documentElement,Pt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function kt(){return!1}function Dt(){try{return u.activeElement}catch(t){}}function Mt(t,e,i,r,o,a){var s,u;if("object"===("undefined"===typeof e?"undefined":n(e))){for(u in"string"!==typeof i&&(r=r||i,i=void 0),e)Mt(t,u,i,r,e[u],a);return t}if(null==r&&null==o?(o=i,r=i=void 0):null==o&&("string"===typeof i?(o=r,r=void 0):(o=r,r=i,i=void 0)),!1===o)o=kt;else if(!o)return t;return 1===a&&(s=o,o=function(t){return _().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=_.guid++)),t.each((function(){_.event.add(this,e,o,r,i)}))}_.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,f,c,h,d,p,y,m=Q.get(t);if(m){n.handler&&(o=n,n=o.handler,r=o.selector),r&&_.find.matchesSelector(_t,r),n.guid||(n.guid=_.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return"undefined"!==typeof _&&_.event.triggered!==e.type?_.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(j)||[""],l=e.length;while(l--)s=xt.exec(e[l])||[],d=y=s[1],p=(s[2]||"").split(".").sort(),d&&(c=_.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,c=_.event.special[d]||{},f=_.extend({type:d,origType:y,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=u[d])||(h=u[d]=[],h.delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(d,a)),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,f):h.push(f),_.event.global[d]=!0)}},remove:function(t,e,n,i,r){var o,a,s,u,l,f,c,h,d,p,y,m=Q.hasData(t)&&Q.get(t);if(m&&(u=m.events)){e=(e||"").match(j)||[""],l=e.length;while(l--)if(s=xt.exec(e[l])||[],d=y=s[1],p=(s[2]||"").split(".").sort(),d){c=_.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;while(o--)f=h[o],!r&&y!==f.origType||n&&n.guid!==f.guid||s&&!s.test(f.namespace)||i&&i!==f.selector&&("**"!==i||!f.selector)||(h.splice(o,1),f.selector&&h.delegateCount--,c.remove&&c.remove.call(t,f));a&&!h.length&&(c.teardown&&!1!==c.teardown.call(t,p,m.handle)||_.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)_.event.remove(t,d+e[l],n,i,!0);_.isEmptyObject(u)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=_.event.fix(t),u=new Array(arguments.length),l=(Q.get(this,"events")||{})[s.type]||[],f=_.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,s)){a=_.event.handlers.call(this,s,l),e=0;while((r=a[e++])&&!s.isPropagationStopped()){s.currentTarget=r.elem,n=0;while((o=r.handlers[n++])&&!s.isImmediatePropagationStopped())s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()))}return f.postDispatch&&f.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?_(r,this).index(l)>-1:_.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(_.Event.prototype,t,{enumerable:!0,configurable:!0,get:_.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_.expando]?t:new _.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Dt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Dt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&I(this,"input"))return this.click(),!1},_default:function(t){return I(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_.Event=function(t,e){if(!(this instanceof _.Event))return new _.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_.extend(this,e),this.timeStamp=t&&t.timeStamp||_.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Pt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){_.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||_.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),_.fn.extend({on:function(t,e,n,i){return Mt(this,t,e,n,i)},one:function(t,e,n,i){return Mt(this,t,e,n,i,1)},off:function(t,e,i){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,_(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===("undefined"===typeof t?"undefined":n(t))){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!==typeof e||(i=e,e=void 0),!1===i&&(i=kt),this.each((function(){_.event.remove(this,t,i,e)}))}});var Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Et=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^true\/(.*)/,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&_(">tbody",t)[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Bt(t){var e=zt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),a=Q.set(e,o),l=o.events,l))for(r in delete a.handle,a.events={},l)for(n=0,i=l[r].length;n<i;n++)_.event.add(e,r,l[r][n]);tt.hasData(t)&&(s=tt.access(t),u=_.extend({},s),tt.set(e,u))}}function Nt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function qt(t,e,n,i){e=c.apply([],e);var r,o,a,s,u,l,f=0,h=t.length,d=h-1,p=e[0],y=_.isFunction(p);if(y||h>1&&"string"===typeof p&&!S.checkClone&&It.test(p))return t.each((function(r){var o=t.eq(r);y&&(e[0]=p.call(this,r,o.html())),qt(o,e,n,i)}));if(h&&(r=wt(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=_.map(gt(r,"script"),Ft),s=a.length;f<h;f++)u=r,f!==d&&(u=_.clone(u,!0,!0),s&&_.merge(a,gt(u,"script"))),n.call(t[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,_.map(a,Bt),f=0;f<s;f++)u=a[f],mt.test(u.type||"")&&!Q.access(u,"globalEval")&&_.contains(l,u)&&(u.src?_._evalUrl&&_._evalUrl(u.src):b(u.textContent.replace(At,""),l))}return t}function Ht(t,e,n){for(var i,r=e?_.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_.cleanData(gt(i)),i.parentNode&&(n&&_.contains(i.ownerDocument,i)&&St(gt(i,"script")),i.parentNode.removeChild(i));return t}_.extend({htmlPrefilter:function(t){return t.replace(Rt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=_.contains(t.ownerDocument,t);if(!S.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!_.isXMLDoc(t))for(a=gt(s),o=gt(t),i=0,r=o.length;i<r;i++)Nt(o[i],a[i]);if(e)if(n)for(o=o||gt(t),a=a||gt(s),i=0,r=o.length;i<r;i++)Lt(o[i],a[i]);else Lt(t,s);return a=gt(s,"script"),a.length>0&&St(a,!u&&gt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=_.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?_.event.remove(n,i):_.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[tt.expando]&&(n[tt.expando]=void 0)}}}),_.fn.extend({detach:function(t){return Ht(this,t,!0)},remove:function(t){return Ht(this,t)},text:function(t){return $(this,(function(t){return void 0===t?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return qt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.appendChild(t)}}))},prepend:function(){return qt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return qt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return _.clone(this,t,e)}))},html:function(t){return $(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!Et.test(t)&&!vt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=_.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(_.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return qt(this,arguments,(function(e){var n=this.parentNode;_.inArray(this,t)<0&&(_.cleanData(gt(this)),n&&n.replaceChild(e,this))}),t)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){_.fn[t]=function(t){for(var n,i=[],r=_(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),_(r[a])[e](n),h.apply(i,n.get());return this.pushStack(i)}}));var jt=/^margin/,Ut=new RegExp("^("+ot+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=o),e.getComputedStyle(t)};function Gt(t,e,n){var i,r,o,a,s=t.style;return n=n||Wt(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||_.contains(t.ownerDocument,t)||(a=_.style(t,e)),!S.pixelMarginRight()&&Ut.test(a)&&jt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}(function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",_t.appendChild(a);var t=o.getComputedStyle(s);e="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,_t.removeChild(a),s=null}}var e,n,i,r,a=u.createElement("div"),s=u.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),_.extend(S,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),n},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),r}}))})();var Yt=/^(none|table(?!-c[ea]).+)/,Xt=/^--/,Jt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Zt=u.createElement("div").style;function Qt(t){if(t in Zt)return t;var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;while(n--)if(t=Kt[n]+e,t in Zt)return t}function te(t){var e=_.cssProps[t];return e||(e=_.cssProps[t]=Qt(t)||t),e}function ee(t,e,n){var i=at.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ne(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=_.css(t,n+st[o],!0,r)),i?("content"===n&&(a-=_.css(t,"padding"+st[o],!0,r)),"margin"!==n&&(a-=_.css(t,"border"+st[o]+"Width",!0,r))):(a+=_.css(t,"padding"+st[o],!0,r),"padding"!==n&&(a+=_.css(t,"border"+st[o]+"Width",!0,r)));return a}function ie(t,e,n){var i,r=Wt(t),o=Gt(t,e,r),a="border-box"===_.css(t,"boxSizing",!1,r);return Ut.test(o)?o:(i=a&&(S.boxSizingReliable()||o===t.style[e]),"auto"===o&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)]),o=parseFloat(o)||0,o+ne(t,e,n||(a?"border":"content"),i,r)+"px")}function re(t,e,n,i,r){return new re.prototype.init(t,e,n,i,r)}_.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Gt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s,u=_.camelCase(e),l=Xt.test(e),f=t.style;if(l||(e=te(u)),s=_.cssHooks[e]||_.cssHooks[u],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,r))?o:f[e];a="undefined"===typeof i?"undefined":n(i),"string"===a&&(o=at.exec(i))&&o[1]&&(i=ft(t,e,o),a="number"),null!=i&&i===i&&("number"===a&&(i+=o&&o[3]||(_.cssNumber[u]?"":"px")),S.clearCloneStyle||""!==i||0!==e.indexOf("background")||(f[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,r))||(l?f.setProperty(e,i):f[e]=i))}},css:function(t,e,n,i){var r,o,a,s=_.camelCase(e),u=Xt.test(e);return u||(e=te(s)),a=_.cssHooks[e]||_.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Gt(t,e,i)),"normal"===r&&e in $t&&(r=$t[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_.each(["height","width"],(function(t,e){_.cssHooks[e]={get:function(t,n,i){if(n)return!Yt.test(_.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ie(t,e,i):lt(t,Jt,(function(){return ie(t,e,i)}))},set:function(t,n,i){var r,o=i&&Wt(t),a=i&&ne(t,e,i,"border-box"===_.css(t,"boxSizing",!1,o),o);return a&&(r=at.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=_.css(t,e)),ee(t,n,a)}}})),_.cssHooks.marginLeft=Vt(S.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Gt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(t,e){_.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"===typeof n?n.split(" "):[n];i<4;i++)r[t+st[i]+e]=o[i]||o[i-2]||o[0];return r}},jt.test(t)||(_.cssHooks[t+e].set=ee)})),_.fn.extend({css:function(t,e){return $(this,(function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;a<r;a++)o[e[a]]=_.css(t,e[a],!1,i);return o}return void 0!==n?_.style(t,e,n):_.css(t,e)}),t,e,arguments.length>1)}}),_.Tween=re,re.prototype={constructor:re,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||_.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_.cssNumber[n]?"":"px")},cur:function(){var t=re.propHooks[this.prop];return t&&t.get?t.get(this):re.propHooks._default.get(this)},run:function(t){var e,n=re.propHooks[this.prop];return this.options.duration?this.pos=e=_.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):re.propHooks._default.set(this),this}},re.prototype.init.prototype=re.prototype,re.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){_.fx.step[t.prop]?_.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[_.cssProps[t.prop]]&&!_.cssHooks[t.prop]?t.elem[t.prop]=t.now:_.style(t.elem,t.prop,t.now+t.unit)}}},re.propHooks.scrollTop=re.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_.fx=re.prototype.init,_.fx.step={};var oe,ae,se=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function le(){ae&&(!1===u.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(le):o.setTimeout(le,_.fx.interval),_.fx.tick())}function fe(){return o.setTimeout((function(){oe=void 0})),oe=_.now()}function ce(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=st[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function he(t,e,n){for(var i,r=(ye.tweeners[e]||[]).concat(ye.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function de(t,e,n){var i,r,o,a,s,u,l,f,c="width"in e||"height"in e,h=this,d={},p=t.style,y=t.nodeType&&ut(t),m=Q.get(t,"fxshow");for(i in n.queue||(a=_._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,_.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],se.test(r)){if(delete e[i],o=o||"toggle"===r,r===(y?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;y=!0}d[i]=m&&m[i]||_.style(t,i)}if(u=!_.isEmptyObject(e),u||!_.isEmptyObject(d))for(i in c&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=m&&m.display,null==l&&(l=Q.get(t,"display")),f=_.css(t,"display"),"none"===f&&(l?f=l:(dt([t],!0),l=t.style.display||l,f=_.css(t,"display"),dt([t]))),("inline"===f||"inline-block"===f&&null!=l)&&"none"===_.css(t,"float")&&(u||(h.done((function(){p.display=l})),null==l&&(f=p.display,l="none"===f?"":f)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,d)u||(m?"hidden"in m&&(y=m.hidden):m=Q.access(t,"fxshow",{display:l}),o&&(m.hidden=!y),y&&dt([t],!0),h.done((function(){for(i in y||dt([t]),Q.remove(t,"fxshow"),d)_.style(t,i,d[i])}))),u=he(y?m[i]:0,i,h),i in m||(m[i]=u.start,y&&(u.end=u.start,u.start=0))}function pe(t,e){var n,i,r,o,a;for(n in t)if(i=_.camelCase(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=_.cssHooks[i],a&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function ye(t,e,n){var i,r,o=0,a=ye.prefilters.length,s=_.Deferred().always((function(){delete u.elem})),u=function(){if(r)return!1;for(var e=oe||fe(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(u||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:_.extend({},e),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:e,originalOptions:n,startTime:oe||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=_.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),f=l.props;for(pe(f,l.opts.specialEasing);o<a;o++)if(i=ye.prefilters[o].call(l,t,f,l.opts),i)return _.isFunction(i.stop)&&(_._queueHooks(l.elem,l.opts.queue).stop=_.proxy(i.stop,i)),i;return _.map(f,he,l),_.isFunction(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),_.fx.timer(_.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}_.Animation=_.extend(ye,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ft(n.elem,t,at.exec(e),n),n}]},tweener:function(t,e){_.isFunction(t)?(e=t,t=["*"]):t=t.match(j);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ye.tweeners[n]=ye.tweeners[n]||[],ye.tweeners[n].unshift(e)},prefilters:[de],prefilter:function(t,e){e?ye.prefilters.unshift(t):ye.prefilters.push(t)}}),_.speed=function(t,e,i){var r=t&&"object"===("undefined"===typeof t?"undefined":n(t))?_.extend({},t):{complete:i||!i&&e||_.isFunction(t)&&t,duration:t,easing:i&&e||e&&!_.isFunction(e)&&e};return _.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in _.fx.speeds?r.duration=_.fx.speeds[r.duration]:r.duration=_.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){_.isFunction(r.old)&&r.old.call(this),r.queue&&_.dequeue(this,r.queue)},r},_.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=_.isEmptyObject(t),o=_.speed(e,n,i),a=function(){var e=ye(this,_.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!==typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=_.timers,a=Q.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&ue.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||_.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=_.timers,a=i?i.length:0;for(n.finish=!0,_.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(t,e){var n=_.fn[e];_.fn[e]=function(t,i,r){return null==t||"boolean"===typeof t?n.apply(this,arguments):this.animate(ce(e,!0),t,i,r)}})),_.each({slideDown:ce("show"),slideUp:ce("hide"),slideToggle:ce("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){_.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),_.timers=[],_.fx.tick=function(){var t,e=0,n=_.timers;for(oe=_.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||_.fx.stop(),oe=void 0},_.fx.timer=function(t){_.timers.push(t),_.fx.start()},_.fx.interval=13,_.fx.start=function(){ae||(ae=!0,le())},_.fx.stop=function(){ae=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,e){return t=_.fx&&_.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var i=o.setTimeout(e,t);n.stop=function(){o.clearTimeout(i)}}))},function(){var t=u.createElement("input"),e=u.createElement("select"),n=e.appendChild(u.createElement("option"));t.type="checkbox",S.checkOn=""!==t.value,S.optSelected=n.selected,t=u.createElement("input"),t.value="t",t.type="radio",S.radioValue="t"===t.value}();var me,ve=_.expr.attrHandle;_.fn.extend({attr:function(t,e){return $(this,_.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){_.removeAttr(this,t)}))}}),_.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof t.getAttribute?_.prop(t,e,n):(1===o&&_.isXMLDoc(t)||(r=_.attrHooks[e.toLowerCase()]||(_.expr.match.bool.test(e)?me:void 0)),void 0!==n?null===n?void _.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=_.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!S.radioValue&&"radio"===e&&I(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(j);if(r&&1===t.nodeType)while(n=r[i++])t.removeAttribute(n)}}),me={set:function(t,e,n){return!1===e?_.removeAttr(t,n):t.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ve[e]||_.find.attr;ve[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ve[a],ve[a]=r,r=null!=n(t,e,i)?a:null,ve[a]=o),r}}));var ge=/^(?:input|select|textarea|button)$/i,Se=/^(?:a|area)$/i;function be(t){var e=t.match(j)||[];return e.join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}_.fn.extend({prop:function(t,e){return $(this,_.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[_.propFix[t]||t]}))}}),_.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(t)||(e=_.propFix[e]||e,r=_.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=_.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||Se.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(_.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(_.isFunction(t))return this.each((function(e){_(this).addClass(t.call(this,e,we(this)))}));if("string"===typeof t&&t){e=t.match(j)||[];while(n=this[u++])if(r=we(n),i=1===n.nodeType&&" "+be(r)+" ",i){a=0;while(o=e[a++])i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=be(i),r!==s&&n.setAttribute("class",s)}}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(_.isFunction(t))return this.each((function(e){_(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr("class","");if("string"===typeof t&&t){e=t.match(j)||[];while(n=this[u++])if(r=we(n),i=1===n.nodeType&&" "+be(r)+" ",i){a=0;while(o=e[a++])while(i.indexOf(" "+o+" ")>-1)i=i.replace(" "+o+" "," ");s=be(i),r!==s&&n.setAttribute("class",s)}}return this},toggleClass:function(t,e){var i="undefined"===typeof t?"undefined":n(t);return"boolean"===typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):_.isFunction(t)?this.each((function(n){_(this).toggleClass(t.call(this,n,we(this),e),e)})):this.each((function(){var e,n,r,o;if("string"===i){n=0,r=_(this),o=t.match(j)||[];while(e=o[n++])r.hasClass(e)?r.removeClass(e):r.addClass(e)}else void 0!==t&&"boolean"!==i||(e=we(this),e&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;e=" "+t+" ";while(n=this[i++])if(1===n.nodeType&&(" "+be(we(n))+" ").indexOf(e)>-1)return!0;return!1}});var _e=/\r/g;_.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=_.isFunction(t),this.each((function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,_(this).val()):t,null==r?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=_.map(r,(function(t){return null==t?"":t+""}))),e=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"===typeof n?n.replace(_e,""):null==n?"":n)):void 0}}),_.extend({valHooks:{option:{get:function(t){var e=_.find.attr(t,"value");return null!=e?e:be(_.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(e=_(n).val(),a)return e;s.push(e)}return s},set:function(t,e){var n,i,r=t.options,o=_.makeArray(e),a=r.length;while(a--)i=r[a],(i.selected=_.inArray(_.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=_.inArray(_(t).val(),e)>-1}},S.checkOn||(_.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Pe=/^(?:focusinfocus|focusoutblur)$/;_.extend(_.event,{trigger:function(t,e,i,r){var a,s,l,f,c,h,d,p=[i||u],y=m.call(t,"type")?t.type:t,v=m.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||u,3!==i.nodeType&&8!==i.nodeType&&!Pe.test(y+_.event.triggered)&&(y.indexOf(".")>-1&&(v=y.split("."),y=v.shift(),v.sort()),c=y.indexOf(":")<0&&"on"+y,t=t[_.expando]?t:new _.Event(y,"object"===("undefined"===typeof t?"undefined":n(t))&&t),t.isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:_.makeArray(e,[t]),d=_.event.special[y]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!_.isWindow(i)){for(f=d.delegateType||y,Pe.test(f+y)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(i.ownerDocument||u)&&p.push(l.defaultView||l.parentWindow||o)}a=0;while((s=p[a++])&&!t.isPropagationStopped())t.type=a>1?f:d.bindType||y,h=(Q.get(s,"events")||{})[t.type]&&Q.get(s,"handle"),h&&h.apply(s,e),h=c&&s[c],h&&h.apply&&K(s)&&(t.result=h.apply(s,e),!1===t.result&&t.preventDefault());return t.type=y,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),e)||!K(i)||c&&_.isFunction(i[y])&&!_.isWindow(i)&&(l=i[c],l&&(i[c]=null),_.event.triggered=y,i[y](),_.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=_.extend(new _.Event,n,{type:t,isSimulated:!0});_.event.trigger(i,null,e)}}),_.fn.extend({trigger:function(t,e){return this.each((function(){_.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return _.event.trigger(t,e,n,!0)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){_.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),_.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.focusin="onfocusin"in o,S.focusin||_.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){_.event.simulate(e,t.target,_.event.fix(t))};_.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}}));var Ce=o.location,xe=_.now(),Te=/\?/;_.parseXML=function(t){var e;if(!t||"string"!==typeof t)return null;try{e=(new o.DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),e};var ke=/\[\]$/,De=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,i,r){var o;if(Array.isArray(e))_.each(e,(function(e,o){i||ke.test(t)?r(t,o):Ee(t+"["+("object"===("undefined"===typeof o?"undefined":n(o))&&null!=o?e:"")+"]",o,i,r)}));else if(i||"object"!==_.type(e))r(t,e);else for(o in e)Ee(t+"["+o+"]",e[o],i,r)}_.param=function(t,e){var n,i=[],r=function(t,e){var n=_.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!_.isPlainObject(t))_.each(t,(function(){r(this.name,this.value)}));else for(n in t)Ee(n,t[n],e,r);return i.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=_.prop(this,"elements");return t?_.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!_(this).is(":disabled")&&Re.test(this.nodeName)&&!Me.test(t)&&(this.checked||!pt.test(t))})).map((function(t,e){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(t){return{name:e.name,value:t.replace(De,"\r\n")}})):{name:e.name,value:n.replace(De,"\r\n")}})).get()}});var Ie=/%20/g,ze=/#.*$/,Ae=/([?&])_=[^&]*/,Oe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Be=/^(?:GET|HEAD)$/,Le=/^\/\//,Ne={},qe={},He="*/".concat("*"),je=u.createElement("a");function Ue(t){return function(e,n){"string"!==typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(j)||[];if(_.isFunction(n))while(i=o[r++])"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===qe;function a(s){var u;return r[s]=!0,_.each(t[s]||[],(function(t,s){var l=s(e,n,i);return"string"!==typeof l||o||r[l]?o?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)})),u}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Ge(t,e){var n,i,r=_.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&_.extend(!0,t,i),t}function Ve(t,e,n){var i,r,o,a,s=t.contents,u=t.dataTypes;while("*"===u[0])u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ye(t,e,n,i){var r,o,a,s,u,l={},f=t.dataTypes.slice();if(f[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];o=f.shift();while(o)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=f.shift(),o)if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]],a)){!0===a?a=l[r]:!0!==l[r]&&(o=s[0],f.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}je.href=Ce.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:Fe.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ge(Ge(t,_.ajaxSettings),e):Ge(_.ajaxSettings,t)},ajaxPrefilter:Ue(Ne),ajaxTransport:Ue(qe),ajax:function(t,e){"object"===("undefined"===typeof t?"undefined":n(t))&&(e=t,t=void 0),e=e||{};var i,r,a,s,l,f,c,h,d,p,y=_.ajaxSetup({},e),m=y.context||y,v=y.context&&(m.nodeType||m.jquery)?_(m):_.event,g=_.Deferred(),S=_.Callbacks("once memory"),b=y.statusCode||{},w={},P={},C="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s){s={};while(e=Oe.exec(a))s[e[1].toLowerCase()]=e[2]}e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=P[t.toLowerCase()]=P[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(y.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)x.always(t[x.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),T(0,e),this}};if(g.promise(x),y.url=((t||y.url||Ce.href)+"").replace(Le,Ce.protocol+"//"),y.type=e.method||e.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(j)||[""],null==y.crossDomain){f=u.createElement("a");try{f.href=y.url,f.href=f.href,y.crossDomain=je.protocol+"//"+je.host!==f.protocol+"//"+f.host}catch(k){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!==typeof y.data&&(y.data=_.param(y.data,y.traditional)),We(Ne,y,e,x),c)return x;for(d in h=_.event&&y.global,h&&0===_.active++&&_.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Be.test(y.type),r=y.url.replace(ze,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Ie,"+")):(p=y.url.slice(r.length),y.data&&(r+=(Te.test(r)?"&":"?")+y.data,delete y.data),!1===y.cache&&(r=r.replace(Ae,"$1"),p=(Te.test(r)?"&":"?")+"_="+xe+++p),y.url=r+p),y.ifModified&&(_.lastModified[r]&&x.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&x.setRequestHeader("If-None-Match",_.etag[r])),(y.data&&y.hasContent&&!1!==y.contentType||e.contentType)&&x.setRequestHeader("Content-Type",y.contentType),x.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+He+"; q=0.01":""):y.accepts["*"]),y.headers)x.setRequestHeader(d,y.headers[d]);if(y.beforeSend&&(!1===y.beforeSend.call(m,x,y)||c))return x.abort();if(C="abort",S.add(y.complete),x.done(y.success),x.fail(y.error),i=We(qe,y,e,x),i){if(x.readyState=1,h&&v.trigger("ajaxSend",[x,y]),c)return x;y.async&&y.timeout>0&&(l=o.setTimeout((function(){x.abort("timeout")}),y.timeout));try{c=!1,i.send(w,T)}catch(k){if(c)throw k;T(-1,k)}}else T(-1,"No Transport");function T(t,e,n,s){var u,f,d,p,w,P=e;c||(c=!0,l&&o.clearTimeout(l),i=void 0,a=s||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,n&&(p=Ve(y,x,n)),p=Ye(y,p,x,u),u?(y.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(_.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(_.etag[r]=w)),204===t||"HEAD"===y.type?P="nocontent":304===t?P="notmodified":(P=p.state,f=p.data,d=p.error,u=!d)):(d=P,!t&&P||(P="error",t<0&&(t=0))),x.status=t,x.statusText=(e||P)+"",u?g.resolveWith(m,[f,P,x]):g.rejectWith(m,[x,P,d]),x.statusCode(b),b=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[x,y,u?f:d]),S.fireWith(m,[x,P]),h&&(v.trigger("ajaxComplete",[x,y]),--_.active||_.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return _.get(t,e,n,"json")},getScript:function(t,e){return _.get(t,void 0,e,"script")}}),_.each(["get","post"],(function(t,e){_[e]=function(t,n,i,r){return _.isFunction(n)&&(r=r||i,i=n,n=void 0),_.ajax(_.extend({url:t,type:e,dataType:r,data:n,success:i},_.isPlainObject(t)&&t))}})),_._evalUrl=function(t){return _.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(t){var e;return this[0]&&(_.isFunction(t)&&(t=t.call(this[0])),e=_(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){var t=this;while(t.firstElementChild)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return _.isFunction(t)?this.each((function(e){_(this).wrapInner(t.call(this,e))})):this.each((function(){var e=_(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=_.isFunction(t);return this.each((function(n){_(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(t){return!_.expr.pseudos.visible(t)},_.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(t){}};var Xe={0:200,1223:204},Je=_.ajaxSettings.xhr();S.cors=!!Je&&"withCredentials"in Je,S.ajax=Je=!!Je,_.ajaxTransport((function(t){var e,n;if(S.cors||Je&&!t.crossDomain)return{send:function(i,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!==typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Xe[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!==typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&o.setTimeout((function(){e&&n()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(e)throw u}},abort:function(){e&&e()}}})),_.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _.globalEval(t),t}}}),_.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),_.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=_("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),u.head.appendChild(e[0])},abort:function(){n&&n()}}}));var $e=[],Ke=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||_.expando+"_"+xe++;return this[t]=!0,t}}),_.ajaxPrefilter("json jsonp",(function(t,e,n){var i,r,a,s=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"===typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+i):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||_.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=o[i],o[i]=function(){a=arguments},n.always((function(){void 0===r?_(o).removeProp(i):o[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,$e.push(i)),a&&_.isFunction(r)&&r(a[0]),a=r=void 0})),"script"})),S.createHTMLDocument=function(){var t=u.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),_.parseHTML=function(t,e,n){return"string"!==typeof t?[]:("boolean"===typeof e&&(n=e,e=!1),e||(S.createHTMLDocument?(e=u.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=u.location.href,e.head.appendChild(i)):e=u),r=z.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&_(o).remove(),_.merge([],r.childNodes)));var i,r,o},_.fn.load=function(t,e,i){var r,o,a,s=this,u=t.indexOf(" ");return u>-1&&(r=be(t.slice(u)),t=t.slice(0,u)),_.isFunction(e)?(i=e,e=void 0):e&&"object"===("undefined"===typeof e?"undefined":n(e))&&(o="POST"),s.length>0&&_.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){a=arguments,s.html(r?_("<div>").append(_.parseHTML(t)).find(r):t)})).always(i&&function(t,e){s.each((function(){i.apply(this,a||[t.responseText,e,t])}))}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){_.fn[e]=function(t){return this.on(e,t)}})),_.expr.pseudos.animated=function(t){return _.grep(_.timers,(function(e){return t===e.elem})).length},_.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,f=_.css(t,"position"),c=_(t),h={};"static"===f&&(t.style.position="relative"),s=c.offset(),o=_.css(t,"top"),u=_.css(t,"left"),l=("absolute"===f||"fixed"===f)&&(o+u).indexOf("auto")>-1,l?(i=c.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),_.isFunction(e)&&(e=e.call(t,n,_.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},_.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){_.offset.setOffset(this,t,e)}));var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),e=o.ownerDocument,n=e.documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===_.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),I(t[0],"html")||(i=t.offset()),i={top:i.top+_.css(t[0],"borderTopWidth",!0),left:i.left+_.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-_.css(n,"marginTop",!0),left:e.left-i.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){var t=this.offsetParent;while(t&&"static"===_.css(t,"position"))t=t.offsetParent;return t||_t}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;_.fn[t]=function(i){return $(this,(function(t,i,r){var o;if(_.isWindow(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),_.each(["top","left"],(function(t,e){_.cssHooks[e]=Vt(S.pixelPosition,(function(t,n){if(n)return n=Gt(t,e),Ut.test(n)?_(t).position()[e]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(t,e){_.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){_.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!==typeof r),s=n||(!0===r||!0===o?"margin":"border");return $(this,(function(e,n,r){var o;return _.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?_.css(e,n,s):_.style(e,n,r,s)}),e,a?r:void 0,a)}}))})),_.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),_.holdReady=function(t){t?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=I,i=[],r=function(){return _}.apply(e,i),void 0===r||(t.exports=r);var Ze=o.jQuery,Qe=o.$;return _.noConflict=function(t){return o.$===_&&(o.$=Qe),t&&o.jQuery===_&&(o.jQuery=Ze),_},a||(o.jQuery=o.$=_),_}))}).call(e,n(18)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])}));